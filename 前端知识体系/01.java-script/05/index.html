<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog/umi.css" />
    <script>
      window.routerBase = "/blog";
    </script>
    <script>
      //! umi version: 3.5.17
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.indexOf(e) > -1 ? e : r[0]
        );
      })();
    </script>
    <title>《JavaScript高级程序设计》读书笔记</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/前端知识体系/01.java-script/05" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>计算机基础<ul><li><a href="/blog/编译原理之美">编译原理之美</a></li><li><a href="/blog/编译原理实战">编译原理实战</a></li><li><a href="/blog/深入浅出计算机组成原理">深入浅出计算机组成原理</a></li><li><a href="/blog/详解http">详解http</a></li><li><a href="/blog/计算机网络通关29讲">计算机网络通关29讲</a></li><li><a href="/blog/网络排查案例课">网络排查案例课</a></li><li><a href="/blog/linux操作系统">linux操作系统</a></li><li><a href="/blog/linux性能优化实战">linux性能优化实战</a></li><li><a href="/blog/程序员数学基础">程序员数学基础</a></li><li><a href="/blog/趣谈网络协议">趣谈网络协议</a></li><li><a href="/blog/操作系统实战">操作系统实战</a></li><li><a href="/blog/软件工程之美">软件工程之美</a></li><li><a href="/blog/sql必知必会">sql必知必会</a></li><li><a href="/blog/操作系统实战45讲">操作系统实战45讲</a></li><li><a href="/blog/网络编程实战">网络编程实战</a></li></ul></span><span>算法<ul><li><a href="/blog/常用算法25讲">常用算法25讲</a></li><li><a href="/blog/数据结构与算法之美">数据结构与算法之美</a></li><li><a href="/blog/业务开发算法50讲">业务开发算法50讲</a></li><li><a href="/blog/动态规划面试宝典">动态规划面试宝典</a></li></ul></span><span>前端开发<ul><li><a href="/blog/浏览器工作原理与实践">浏览器工作原理与实践</a></li><li><a href="/blog/新时代产品经理进阶之路">新时代产品经理进阶之路</a></li><li><a href="/blog/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog/flutter核心技术与实战">flutter核心技术与实战</a></li><li><a href="/blog/java-script核心原理解析">java-script核心原理解析</a></li><li><a href="/blog/说透低代码">说透低代码</a></li><li><a href="/blog/nodejs应用开发实战">nodejs应用开发实战</a></li><li><a href="/blog/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li><li><a href="/blog/reactnative新架构实战课">reactnative新架构实战课</a></li><li><a href="/blog/正则表达式入门">正则表达式入门</a></li><li><a href="/blog/重学前端">重学前端</a></li><li><a href="/blog/serverless入门课">serverless入门课</a></li><li><a href="/blog/type-script入门实战笔记">type-script入门实战笔记</a></li><li><a href="/blog/图解googlev8">图解googlev8</a></li><li><a href="/blog/vue3源码分析">vue3源码分析</a></li><li><a href="/blog/玩转Vue3全家桶">玩转Vue3全家桶</a></li><li><a href="/blog/webassembly入门">webassembly入门</a></li><li><a href="/blog/手把手带你写一个Web框架">手把手带你写一个Web框架</a></li><li><a href="/blog/web漏洞挖掘实战">web漏洞挖掘实战</a></li><li><a href="/blog/跟月影学可视化">跟月影学可视化</a></li><li><a href="/blog/搞定音频技术">搞定音频技术</a></li><li><a href="/blog/攻克视频技术">攻克视频技术</a></li></ul></span><span>前端工程化<ul><li><a href="/blog/logger">logger</a></li><li><a href="/blog/webpack">webpack</a></li><li><a href="/blog/webpackChain">webpackChain</a></li></ul></span><span>前端性能优化<ul><li><a href="/blog/react性能调优">react性能调优</a></li></ul></span><span>软件测试<ul><li><a href="/blog/全链路压测实战30讲">全链路压测实战30讲</a></li><li><a href="/blog/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog/自动化测试高手课">自动化测试高手课</a></li><li><a href="/blog/软件测试52讲">软件测试52讲</a></li></ul></span><span>面试<ul><li><a href="/blog/面试现场">面试现场</a></li></ul></span><span>杂谈<ul><li><a href="/blog/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a href="/blog/Git实战手册">Git实战手册</a></li><li><a href="/blog/NodeJS">NodeJS</a></li><li><a href="/blog/ReactJS">ReactJS</a></li><li><a href="/blog/UI设计">UI设计</a></li><li><a href="/blog/webpack4系列教程">webpack4系列教程</a></li><li><a aria-current="page" class="active" href="/blog/前端知识体系">前端知识体系</a></li><li><a href="/blog/剑指offer刷题笔记">剑指offer刷题笔记</a></li><li><a href="/blog/思考与成长">思考与成长</a></li><li><a href="/blog/设计模式手册">设计模式手册</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>计算机基础<ul><li><a href="/blog/编译原理之美">编译原理之美</a></li><li><a href="/blog/编译原理实战">编译原理实战</a></li><li><a href="/blog/深入浅出计算机组成原理">深入浅出计算机组成原理</a></li><li><a href="/blog/详解http">详解http</a></li><li><a href="/blog/计算机网络通关29讲">计算机网络通关29讲</a></li><li><a href="/blog/网络排查案例课">网络排查案例课</a></li><li><a href="/blog/linux操作系统">linux操作系统</a></li><li><a href="/blog/linux性能优化实战">linux性能优化实战</a></li><li><a href="/blog/程序员数学基础">程序员数学基础</a></li><li><a href="/blog/趣谈网络协议">趣谈网络协议</a></li><li><a href="/blog/操作系统实战">操作系统实战</a></li><li><a href="/blog/软件工程之美">软件工程之美</a></li><li><a href="/blog/sql必知必会">sql必知必会</a></li><li><a href="/blog/操作系统实战45讲">操作系统实战45讲</a></li><li><a href="/blog/网络编程实战">网络编程实战</a></li></ul></li><li>算法<ul><li><a href="/blog/常用算法25讲">常用算法25讲</a></li><li><a href="/blog/数据结构与算法之美">数据结构与算法之美</a></li><li><a href="/blog/业务开发算法50讲">业务开发算法50讲</a></li><li><a href="/blog/动态规划面试宝典">动态规划面试宝典</a></li></ul></li><li>前端开发<ul><li><a href="/blog/浏览器工作原理与实践">浏览器工作原理与实践</a></li><li><a href="/blog/新时代产品经理进阶之路">新时代产品经理进阶之路</a></li><li><a href="/blog/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog/flutter核心技术与实战">flutter核心技术与实战</a></li><li><a href="/blog/java-script核心原理解析">java-script核心原理解析</a></li><li><a href="/blog/说透低代码">说透低代码</a></li><li><a href="/blog/nodejs应用开发实战">nodejs应用开发实战</a></li><li><a href="/blog/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li><li><a href="/blog/reactnative新架构实战课">reactnative新架构实战课</a></li><li><a href="/blog/正则表达式入门">正则表达式入门</a></li><li><a href="/blog/重学前端">重学前端</a></li><li><a href="/blog/serverless入门课">serverless入门课</a></li><li><a href="/blog/type-script入门实战笔记">type-script入门实战笔记</a></li><li><a href="/blog/图解googlev8">图解googlev8</a></li><li><a href="/blog/vue3源码分析">vue3源码分析</a></li><li><a href="/blog/玩转Vue3全家桶">玩转Vue3全家桶</a></li><li><a href="/blog/webassembly入门">webassembly入门</a></li><li><a href="/blog/手把手带你写一个Web框架">手把手带你写一个Web框架</a></li><li><a href="/blog/web漏洞挖掘实战">web漏洞挖掘实战</a></li><li><a href="/blog/跟月影学可视化">跟月影学可视化</a></li><li><a href="/blog/搞定音频技术">搞定音频技术</a></li><li><a href="/blog/攻克视频技术">攻克视频技术</a></li></ul></li><li>前端工程化<ul><li><a href="/blog/logger">logger</a></li><li><a href="/blog/webpack">webpack</a></li><li><a href="/blog/webpackChain">webpackChain</a></li></ul></li><li>前端性能优化<ul><li><a href="/blog/react性能调优">react性能调优</a></li></ul></li><li>软件测试<ul><li><a href="/blog/全链路压测实战30讲">全链路压测实战30讲</a></li><li><a href="/blog/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog/自动化测试高手课">自动化测试高手课</a></li><li><a href="/blog/软件测试52讲">软件测试52讲</a></li></ul></li><li>面试<ul><li><a href="/blog/面试现场">面试现场</a></li></ul></li><li>杂谈<ul><li><a href="/blog/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a href="/blog/Git实战手册">Git实战手册</a></li><li><a href="/blog/NodeJS">NodeJS</a></li><li><a href="/blog/ReactJS">ReactJS</a></li><li><a href="/blog/UI设计">UI设计</a></li><li><a href="/blog/webpack4系列教程">webpack4系列教程</a></li><li><a aria-current="page" class="active" href="/blog/前端知识体系">前端知识体系</a></li><li><a href="/blog/剑指offer刷题笔记">剑指offer刷题笔记</a></li><li><a href="/blog/思考与成长">思考与成长</a></li><li><a href="/blog/设计模式手册">设计模式手册</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/blog/前端知识体系/01.java-script">01.JavaScript</a><ul><li><a href="/blog/前端知识体系/01.java-script/01"><span>JavaScript基础知识梳理(上)</span></a></li><li><a href="/blog/前端知识体系/01.java-script/02"><span>JavaScript基础知识梳理(下)</span></a></li><li><a href="/blog/前端知识体系/01.java-script/03"><span>正则表达式</span></a></li><li><a href="/blog/前端知识体系/01.java-script/04"><span>前端面试中常考的源码实现</span></a></li><li><a aria-current="page" class="active" href="/blog/前端知识体系/01.java-script/05"><span>《JavaScript高级程序设计》读书笔记</span></a></li></ul></li><li><a href="/blog/前端知识体系/02.type-script">02.TypeScript</a><ul><li><a href="/blog/前端知识体系/02.type-script/01"><span>基础篇：TypeScript用法与实战</span></a></li><li><a href="/blog/前端知识体系/02.type-script/02"><span>实战篇：当Koa遇上Typescript的时候～</span></a></li></ul></li><li><a href="/blog/前端知识体系/03.es6">03.ES6</a><ul><li><a href="/blog/前端知识体系/03.es6/02"><span>ES6重难点整理</span></a></li><li><a href="/blog/前端知识体系/03.es6/03"><span>谈谈promise/async/await的执行顺序与V8引擎的BUG</span></a></li></ul></li><li><a href="/blog/前端知识体系/03.es6/01.promise专题">03.ES6</a><ul><li><a href="/blog/前端知识体系/03.es6/01.promise专题/01"><span>Promise 概述</span></a></li><li><a href="/blog/前端知识体系/03.es6/01.promise专题/02"><span>手写Promise的相关方法</span></a></li><li><a href="/blog/前端知识体系/03.es6/01.promise专题/03"><span>让我们再聊聊Promise的实现</span></a></li></ul></li><li><a href="/blog/前端知识体系/04.html5">04.HTML5</a><ul><li><a href="/blog/前端知识体系/04.html5/02"><span>HTML5原生拖放事件的学习与实践</span></a></li><li><a href="/blog/前端知识体系/04.html5/03"><span>FileAPI 文件操作实战</span></a></li><li><a href="/blog/前端知识体系/04.html5/04"><span>websocket学习和群聊实现</span></a></li><li><a href="/blog/前端知识体系/04.html5/05"><span>Service Worker离线缓存实战</span></a></li></ul></li><li><a href="/blog/前端知识体系/04.html5/01.canvas">04.HTML5</a><ul><li><a href="/blog/前端知识体系/04.html5/01.canvas/01"><span>canvas学习和滤镜实现</span></a></li><li><a href="/blog/前端知识体系/04.html5/01.canvas/02"><span>canvas离屏技术与放大镜实现</span></a></li></ul></li><li><a href="/blog/前端知识体系/05.浏览器与安全">05.浏览器与安全</a><ul><li><a href="/blog/前端知识体系/05.浏览器与安全/01"><span>SSL连接并非完全安全问题解决</span></a></li><li><a href="/blog/前端知识体系/05.浏览器与安全/02"><span>浏览器常见考点</span></a></li><li><a href="/blog/前端知识体系/05.浏览器与安全/03"><span>Web安全与防护</span></a></li></ul></li><li><a href="/blog/前端知识体系/06.开发实战">06.开发实战</a><ul><li><a href="/blog/前端知识体系/06.开发实战/01"><span>MathJax：让前端支持数学公式</span></a></li><li><a href="/blog/前端知识体系/06.开发实战/02"><span>moment.js使用详解</span></a></li><li><a href="/blog/前端知识体系/06.开发实战/03"><span>axios全局代理实战</span></a></li><li><a href="/blog/前端知识体系/06.开发实战/05"><span>微信网页登录逻辑与实现</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="第一章 JavaScript 简介" data-depth="2"><a href="/blog/前端知识体系/01.java-script/05#第一章-javascript-简介"><span>第一章 JavaScript 简介</span></a></li><li title="1.2 js 实现" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#12-js-实现"><span>1.2 js 实现</span></a></li><li title="第二章 在 HTML 中使用 JavaScript" data-depth="2"><a href="/blog/前端知识体系/01.java-script/05#第二章-在-html-中使用-javascript"><span>第二章 在 HTML 中使用 JavaScript</span></a></li><li title="2.1 &lt;script&gt;标签" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#21-script标签"><span>2.1 &lt;script&gt;标签</span></a></li><li title="2.2 可扩展超文本标记语言 XHTML" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#22-可扩展超文本标记语言-xhtml"><span>2.2 可扩展超文本标记语言 XHTML</span></a></li><li title="2.4 &lt;noscript&gt; 元素" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#24-noscript-元素"><span>2.4 &lt;noscript&gt; 元素</span></a></li><li title="第三章 基本概念" data-depth="2"><a href="/blog/前端知识体系/01.java-script/05#第三章-基本概念"><span>第三章 基本概念</span></a></li><li title="3.1 语法" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#31-语法"><span>3.1 语法</span></a></li><li title="3.2 关键字和保留字" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#32-关键字和保留字"><span>3.2 关键字和保留字</span></a></li><li title="3.3 变量" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#33-变量"><span>3.3 变量</span></a></li><li title="3.4 类型" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#34-类型"><span>3.4 类型</span></a></li><li title="3.5 操作符" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#35-操作符"><span>3.5 操作符</span></a></li><li title="3.6 语句" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#36-语句"><span>3.6 语句</span></a></li><li title="3.7 函数" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#37-函数"><span>3.7 函数</span></a></li><li title="第四章 变量、作用域和内存问题" data-depth="2"><a href="/blog/前端知识体系/01.java-script/05#第四章-变量作用域和内存问题"><span>第四章 变量、作用域和内存问题</span></a></li><li title="4.1 基本类型和引用类型的值" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#41-基本类型和引用类型的值"><span>4.1 基本类型和引用类型的值</span></a></li><li title="4.2 执行环境和作用域" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#42-执行环境和作用域"><span>4.2 执行环境和作用域</span></a></li><li title="4.3 垃圾回收(GC)" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#43-垃圾回收gc"><span>4.3 垃圾回收(GC)</span></a></li><li title="5. 引用类型" data-depth="2"><a href="/blog/前端知识体系/01.java-script/05#5-引用类型"><span>5. 引用类型</span></a></li><li title="5.1 Object 类型" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#51-object-类型"><span>5.1 Object 类型</span></a></li><li title="5.2 Array 类型" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#52-array-类型"><span>5.2 Array 类型</span></a></li><li title="5.3 Date 类型" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#53-date-类型"><span>5.3 Date 类型</span></a></li><li title="5.4 RegExp 类型" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#54-regexp-类型"><span>5.4 RegExp 类型</span></a></li><li title="5.5 Function 类型" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#55-function-类型"><span>5.5 Function 类型</span></a></li><li title="5.6 基本包装类型" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#56-基本包装类型"><span>5.6 基本包装类型</span></a></li><li title="5.7 单体内置对象" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#57-单体内置对象"><span>5.7 单体内置对象</span></a></li><li title="第六章 面向对象的程序设计" data-depth="2"><a href="/blog/前端知识体系/01.java-script/05#第六章-面向对象的程序设计"><span>第六章 面向对象的程序设计</span></a></li><li title="6.1 理解对象" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#61-理解对象"><span>6.1 理解对象</span></a></li><li title="6.2 创建对象" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#62-创建对象"><span>6.2 创建对象</span></a></li><li title="6.3 继承" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#63-继承"><span>6.3 继承</span></a></li><li title="第七章 函数表达式" data-depth="2"><a href="/blog/前端知识体系/01.java-script/05#第七章-函数表达式"><span>第七章 函数表达式</span></a></li><li title="7.2 闭包" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#72-闭包"><span>7.2 闭包</span></a></li><li title="7.3 模仿块级作用域" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#73-模仿块级作用域"><span>7.3 模仿块级作用域</span></a></li><li title="7.4 私有变量" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#74-私有变量"><span>7.4 私有变量</span></a></li><li title="第八章 BOM" data-depth="2"><a href="/blog/前端知识体系/01.java-script/05#第八章-bom"><span>第八章 BOM</span></a></li><li title="8.1 window 对象" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#81-window-对象"><span>8.1 window 对象</span></a></li><li title="8.2 location 对象" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#82-location-对象"><span>8.2 location 对象</span></a></li><li title="8.3 navigator 对象" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#83-navigator-对象"><span>8.3 navigator 对象</span></a></li><li title="8.5 history 对象" data-depth="3"><a href="/blog/前端知识体系/01.java-script/05#85-history-对象"><span>8.5 history 对象</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h2 id="第一章-javascript-简介"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#第一章-javascript-简介"><span class="icon icon-link"></span></a>第一章 JavaScript 简介</h2><h3 id="12-js-实现"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#12-js-实现"><span class="icon icon-link"></span></a>1.2 js 实现</h3><ol><li>一个完成的 js 实现由 3 个不同部分组成：核心（ECMAScript）、文档对象模型（DOM）、浏览器对象模型（BOM）</li><li>常见的 Web 浏览器知识 ECMAScript 实现的<strong>宿主环境</strong>之一，其他环境包括 Node、Adobe Flash</li><li>DOM：是针对 XML 经过扩展用于 HTML 的程序编程 API</li><li>BOM：控制浏览器显示的页面以外部分</li></ol><h2 id="第二章-在-html-中使用-javascript"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#第二章-在-html-中使用-javascript"><span class="icon icon-link"></span></a>第二章 在 HTML 中使用 JavaScript</h2><h3 id="21-script标签"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#21-script标签"><span class="icon icon-link"></span></a>2.1 <code>&lt;script&gt;</code>标签</h3><p>下面两个属性可以控制 script 加载，它们不能严格保证执行顺序：</p><ol><li>async：不阻塞页面，下载并且执行脚本</li><li>defer：脚本延迟到文档被完全解析和显示后再执行。</li></ol><p>script 脚本中不要嵌入出现<code>&quot;&lt;/script&gt;&quot;</code> 字符串，会被错误识别为结束标签。正确写法是：<code>&quot;&lt;\/script&gt;&quot;</code>。</p><p>如果 script 标签中既有代码内容，并且也引入了外部脚本（src 属性）。浏览器只会执行外部脚本。</p><h3 id="22-可扩展超文本标记语言-xhtml"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#22-可扩展超文本标记语言-xhtml"><span class="icon icon-link"></span></a>2.2 可扩展超文本标记语言 XHTML</h3><p>XHTML 编写比 HTML 更严格，例如 <code>&gt;</code> 等符号都需要转义。为了保证 js 正常运行，用 <code>CDATA</code> 来包裹。</p><p>下面代码在不兼容 xml 的浏览器可以平稳退化：</p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag"> </span><span class="token tag attr-name">type</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">text/javascript</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript comment">//</span><span class="token script included-cdata cdata">&lt;![CDATA[</span><span class="token script included-cdata language-javascript"></span></div><div class="token-line"><span class="token script included-cdata language-javascript">  </span><span class="token script included-cdata language-javascript keyword">function</span><span class="token script included-cdata language-javascript"> </span><span class="token script included-cdata language-javascript function">compare</span><span class="token script included-cdata language-javascript punctuation">(</span><span class="token script included-cdata language-javascript parameter">a</span><span class="token script included-cdata language-javascript parameter punctuation">,</span><span class="token script included-cdata language-javascript parameter"> b</span><span class="token script included-cdata language-javascript punctuation">)</span><span class="token script included-cdata language-javascript"> </span><span class="token script included-cdata language-javascript punctuation">{</span><span class="token script included-cdata language-javascript"></span></div><div class="token-line"><span class="token script included-cdata language-javascript">    </span><span class="token script included-cdata language-javascript keyword control-flow">if</span><span class="token script included-cdata language-javascript"> </span><span class="token script included-cdata language-javascript punctuation">(</span><span class="token script included-cdata language-javascript">a </span><span class="token script included-cdata language-javascript operator">&lt;</span><span class="token script included-cdata language-javascript"> b</span><span class="token script included-cdata language-javascript punctuation">)</span><span class="token script included-cdata language-javascript"> </span><span class="token script included-cdata language-javascript punctuation">{</span><span class="token script included-cdata language-javascript"></span></div><div class="token-line"><span class="token script included-cdata language-javascript">      </span><span class="token script included-cdata language-javascript console class-name">console</span><span class="token script included-cdata language-javascript punctuation">.</span><span class="token script included-cdata language-javascript method function property-access">log</span><span class="token script included-cdata language-javascript punctuation">(</span><span class="token script included-cdata language-javascript string">&quot;a is less than b&quot;</span><span class="token script included-cdata language-javascript punctuation">)</span><span class="token script included-cdata language-javascript punctuation">;</span><span class="token script included-cdata language-javascript"></span></div><div class="token-line"><span class="token script included-cdata language-javascript">    </span><span class="token script included-cdata language-javascript punctuation">}</span><span class="token script included-cdata language-javascript"></span></div><div class="token-line"><span class="token script included-cdata language-javascript">  </span><span class="token script included-cdata language-javascript punctuation">}</span><span class="token script included-cdata language-javascript"></span></div><div class="token-line"><span class="token script included-cdata language-javascript">  </span><span class="token script included-cdata language-javascript comment">//</span><span class="token script included-cdata cdata">]]&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span></div></pre></div><h3 id="24-noscript-元素"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#24-noscript-元素"><span class="icon icon-link"></span></a>2.4 <code>&lt;noscript&gt;</code> 元素</h3><p>对于不支持 js 的浏览器，此标签可平稳退化。</p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">body</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">noscript</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;</span><span class="token tag">p</span><span class="token tag punctuation">&gt;</span><span class="token plain">请启用JavaScript</span><span class="token tag punctuation">&lt;/</span><span class="token tag">p</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;/</span><span class="token tag">noscript</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">body</span><span class="token tag punctuation">&gt;</span></div></pre></div><h2 id="第三章-基本概念"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#第三章-基本概念"><span class="icon icon-link"></span></a>第三章 基本概念</h2><h3 id="31-语法"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#31-语法"><span class="icon icon-link"></span></a>3.1 语法</h3><p>针对 ES3 的不确定行为，ES5 增加了严格模式，它是“编译指示”，用来告知 Js 引擎切换到严格模式，需要在代码顶部添加：<code>&quot;use strict&quot;;</code></p><h3 id="32-关键字和保留字"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#32-关键字和保留字"><span class="icon icon-link"></span></a>3.2 关键字和保留字</h3><p>保留字是之后可能被用作关键字的标识符。比如<code>super</code>，在 es6 中被用在了子类的构造函数中。</p><h3 id="33-变量"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#33-变量"><span class="icon icon-link"></span></a>3.3 变量</h3><p><code>var</code> 声明的变量存在声明提升，如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div><p>由于变量声明提升以及函数作用域，相当于以下代码：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword nil">undefined</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div><p>因此，输出结果是 <code>undefined</code></p><h3 id="34-类型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#34-类型"><span class="icon icon-link"></span></a>3.4 类型</h3><h4 id="341-null-和-undefined"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#341-null-和-undefined"><span class="icon icon-link"></span></a>3.4.1 null 和 undefined</h4><p><code>null</code> 和 <code>undefined</code> 不相同，区别如下：</p><ul><li>null：空对象指针，<code>typeof null</code> 返回 <code>&quot;object&quot;</code>，常用于定义空变量</li><li>undefined：未定义，变量只声明时，默认赋值<code>undefined</code></li></ul><h4 id="342-8-和-16-进制"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#342-8-和-16-进制"><span class="icon icon-link"></span></a>3.4.2 8 和 16 进制</h4><p><code>number</code>类型：</p><ul><li>8 进制：0 开头，例如 070</li><li>16 进制：0x 开头，例如 0x1f</li><li>科学计数法：1ex，例如 1e2 = 100</li></ul><p>所有 8 和 16 进制值在运算时，都会被转化为 10 进制。</p><h4 id="343-特殊数字"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#343-特殊数字"><span class="icon icon-link"></span></a>3.4.3 特殊数字</h4><p><code>Number.MIN_VALUE</code> 和 <code>Number.MAX_VALUE</code> 分别返回最小值和最大值。超出范围的会被转化为 <code>Infinity</code> 。</p><p>不合法的数，比如 1/0 ，会返回 <code>NaN</code>，需要用 <code>isNaN</code> 判断。对于对象，<code>isNaN</code> 先调用 <code>valueOf</code> ，再掉用 <code>toString</code> 。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> validNum </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function-variable function">valueOf</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function-variable function">toString</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token string">&quot;str&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token plain">validNum</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// output: false</span></div></pre></div><h4 id="344-字符串转数字"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#344-字符串转数字"><span class="icon icon-link"></span></a>3.4.4 字符串转数字</h4><p><code>parseInt</code> 应该在第二个参数指明进制。</p><h4 id="345-字符串"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#345-字符串"><span class="icon icon-link"></span></a>3.4.5 字符串</h4><p>字符串变量的值是不可变的，当改变值时，会销毁之前的字符串，然后用包含新值的字符串填充变量。</p><p>调用数值的 <code>toString</code> 方法，给定参数代表进制。</p><p>特殊编码：</p><ul><li><code>\xnn</code>：以 16 进制代码 nn 表示字符</li><li><code>\unnnn</code>：以 16 进制代码 nnnn 表示 Unicode 字符</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;\x41&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// A</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u03a3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// Σ</span></div></pre></div><h4 id="346-object-类型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#346-object-类型"><span class="icon icon-link"></span></a>3.4.6 Object 类型</h4><p>Object 实例都有以下属性：</p><ul><li>constructor: 指向创建对象的函数</li><li>hasOwnProperty</li><li>obj1.isPrototypeOf(obj2): obj1 是不是在 obj2 的原型链上</li><li>propertyIsEnumerable(propName): propName 能否用 for-in 枚举</li></ul><p>关于 <code>isPrototypeOf</code>:</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> o </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> demo </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">o</span><span class="token punctuation">.</span><span class="token method function property-access">isPrototypeOf</span><span class="token punctuation">(</span><span class="token plain">demo</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// output: false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 将o放在demo实例的原型链上</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">demo</span><span class="token punctuation">.</span><span class="token property-access">__proto__</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Demo</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> o</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">o</span><span class="token punctuation">.</span><span class="token method function property-access">isPrototypeOf</span><span class="token punctuation">(</span><span class="token plain">demo</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// output: true</span></div></pre></div><p>对于 BOM、DOM 等宿主环境提供的对象，可能并不继承 Object，不具有以上通性。</p><h3 id="35-操作符"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#35-操作符"><span class="icon icon-link"></span></a>3.5 操作符</h3><p>1、<strong>位操作</strong></p><ul><li><code>~</code>: 按位非。<code>~110 =&gt; 001</code></li><li><code>&amp;</code>: 按位与。</li><li><code>|</code>: 按位或。</li><li><code>^</code>: 异或操作。位数相同返回 0，不同返回 1。</li><li><code>&lt;&lt;</code>: 左移</li><li><code>&gt;&gt;</code>: 默认情况，有符号右移，保留符号位（符合正常逻辑）</li><li><code>&gt;&gt;&gt;</code>: 无符号右移，在移动时候忽略符号位。</li></ul><p>正因为移动时候忽略符号位，因此例如 -64 = 111111..11100000，负数的补码会被当做正数的二进制码。</p><p>2、<strong>布尔操作</strong></p><p>一般直接使用 <code>!!</code> 进行转化。</p><p>3、<strong>逗号操作符</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> num1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  num2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  num3 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 多变量声明</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> num </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 从右边开始解析，返回 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">num</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// output: 1</span></div></pre></div><h3 id="36-语句"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#36-语句"><span class="icon icon-link"></span></a>3.6 语句</h3><h4 id="365-for-in-语句"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#365-for-in-语句"><span class="icon icon-link"></span></a>3.6.5 for-in 语句</h4><p>精准迭代，枚举对象属性。但是效率很低，而且输出的属性名的顺序不确定。</p><p>在执行前，需要检测对象是否为 <code>null</code> 或者 <code>undefined</code>，否则 es3 会报错。</p><h4 id="366-label-语句"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#366-label-语句"><span class="icon icon-link"></span></a>3.6.6 label 语句</h4><p>与<code>break</code> 和 <code>continue</code> 联合使用，主要用于多层嵌套循环的流程控制。</p><p>配合 <code>break</code>，直接跳出指定的 <code>label</code> ：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> num </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">outermost</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">j</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> j </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token comment">// i, j为5的时候，结束循环</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">break</span><span class="token plain"> outermost</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">++</span><span class="token plain">num</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">num</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 55</span></div></pre></div><p>配合 <code>continue</code>，直接跳出指定的 <code>label</code> ：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> num </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">outermost</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token plain"> j </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> j </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">j</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">i </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> j </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">continue</span><span class="token plain"> outermost</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">++</span><span class="token plain">num</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">num</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 95</span></div></pre></div><p>开启调试后会发现，当 i 和 j 为 5 的时候，跳到了 outermost，并且保持了 i 和 j 的变量值。</p><p>外层循环导致 i 变为 6，j 清零。</p><h4 id="368-with-语句"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#368-with-语句"><span class="icon icon-link"></span></a>3.6.8 with 语句</h4><p>设置代码作用域到指定对象中，会导致性能下降。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> obj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  a</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">with</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">obj</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h3 id="37-函数"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#37-函数"><span class="icon icon-link"></span></a>3.7 函数</h3><p><code>arguments</code> 是类数组对象，严格模式下不能重写或者重新定义其中的值。</p><p><code>arguments.callee</code> 指向函数自身，用于编写递归函数。</p><p><strong>注意</strong>：js 的函数没有重载。ts 可以重载，但是也只是多类型声明，不符合传统意义的函数重载。</p><h2 id="第四章-变量作用域和内存问题"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#第四章-变量作用域和内存问题"><span class="icon icon-link"></span></a>第四章 变量、作用域和内存问题</h2><h3 id="41-基本类型和引用类型的值"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#41-基本类型和引用类型的值"><span class="icon icon-link"></span></a>4.1 基本类型和引用类型的值</h3><h4 id="412-赋值"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#412-赋值"><span class="icon icon-link"></span></a>4.1.2 赋值</h4><p>复制函数：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">var</span><span class="token plain"> obj1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// obj1 保存的是副本，不过这个副本是指向实例的一个指针</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> obj2 </span><span class="token operator">=</span><span class="token plain"> obj1</span><span class="token punctuation">;</span></div></pre></div><p>ECMAScript 中所有函数的参数都是按值传递，对于复杂类型，副本就是指向它的指针。</p><h4 id="414-检测类型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#414-检测类型"><span class="icon icon-link"></span></a>4.1.4 检测类型</h4><p>基本数据类型：<code>typeof</code>；对象类型检测：<code>instanceof</code></p><h3 id="42-执行环境和作用域"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#42-执行环境和作用域"><span class="icon icon-link"></span></a>4.2 执行环境和作用域</h3><p>延长作用域链的情景：</p><ol><li><code>try-catch</code>中的<code>catch</code>：作用域链前端新增错误对象</li><li><code>with</code>：作用域链前端新增指定对象</li><li>函数闭包</li></ol><h3 id="43-垃圾回收gc"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#43-垃圾回收gc"><span class="icon icon-link"></span></a>4.3 垃圾回收(GC)</h3><h4 id="431-标记清除和引用计数"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#431-标记清除和引用计数"><span class="icon icon-link"></span></a>4.3.1 标记清除和引用计数</h4><p>浏览器的实现有两种：</p><ol><li><strong>标记清除</strong>：所有变量打标记；去掉环境中变量的标记，以及被环境中变量引用变量的标记；之后，清除还有标记的变量。</li><li><strong>引用计数</strong>：跟踪每个变量引用次数，被引用的变量就加 1；如果此变量又取了另一个变量，减 1。</li></ol><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 引用0</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> copy </span><span class="token operator">=</span><span class="token plain"> value</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 引用+1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> obj </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  copy </span><span class="token comment">// 引用 + 1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">obj</span><span class="token punctuation">.</span><span class="token property-access">copy</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 引用 -1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 最后，引用次数为1</span></div></pre></div><p>引用计数无法处理“循环引用”的情况，例如：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">problem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> obja </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    objb </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  obja</span><span class="token punctuation">.</span><span class="token property-access">prop</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> objb</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// objb的引用次数和obja的引用次数都+1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  objb</span><span class="token punctuation">.</span><span class="token property-access">prop</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> obja</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// objb的引用次数和obja的引用次数再+1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// obja 和 obj2 的引用次数均是2</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 变量永远不会被清除，造成内存泄漏</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h4 id="433-性能优化"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#433-性能优化"><span class="icon icon-link"></span></a>4.3.3 性能优化</h4><p>在<strong>优化性能问题</strong>上，IE6 根据固定的内存分配量来触发 gc。但是如果脚本中声明了很多变量，并且都没有被释放，那么一直会达到触发标准，gc 会高频率触发，效率低下。</p><p>es7 做出了改进：临界值是动态计算的。如果一次垃圾回收的内存量低于 15%，那么临界值会翻倍；如果高于 85%，重置临界值。</p><h4 id="434-管理内存"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#434-管理内存"><span class="icon icon-link"></span></a>4.3.4 管理内存</h4><p>解除引用：不使用的变量，设置为<code>null</code>。</p><p>解除引用不意味变量内存回收，而是让其脱离执行环境，方便下次 gc 回收。</p><h2 id="5-引用类型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#5-引用类型"><span class="icon icon-link"></span></a>5. 引用类型</h2><p>ECMAScript 是面向对象语言，但不是传统的面向对象。提供构造函数，专门对接传统对象编程。</p><h3 id="51-object-类型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#51-object-类型"><span class="icon icon-link"></span></a>5.1 Object 类型</h3><p><code>new Object()</code> 和 <code>{<!-- -->}</code> 声明等效。</p><h3 id="52-array-类型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#52-array-类型"><span class="icon icon-link"></span></a>5.2 Array 类型</h3><p>创建有<code>Array</code>和 <code>[]</code>2 种方式。</p><p><code>length</code> 是可读写的，置 0 可以清空数组。</p><h4 id="521-数组检测"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#521-数组检测"><span class="icon icon-link"></span></a>5.2.1 数组检测</h4><p>请用 <code>Array.isArray</code> 检测数组。<code>instanceof</code> 不适用于网页包含多个框架，2 个运行环境，从一个向另一个传入数组构造函数，严格意义上并不相等。</p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation">{</span><span class="token script language-javascript"> frames </span><span class="token script language-javascript punctuation">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable">window</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> length </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> frames</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript property-access">length</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  xArray </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> frames</span><span class="token script language-javascript punctuation">[</span><span class="token script language-javascript">length </span><span class="token script language-javascript operator">-</span><span class="token script language-javascript"> </span><span class="token script language-javascript number">1</span><span class="token script language-javascript punctuation">]</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript known-class-name class-name">Array</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword">const</span><span class="token script language-javascript"> arr </span><span class="token script language-javascript operator">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name">Array</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript">  </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation">.</span><span class="token script language-javascript method function property-access">log</span><span class="token script language-javascript punctuation">(</span><span class="token script language-javascript">arr </span><span class="token script language-javascript keyword">instanceof</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name">xArray</span><span class="token script language-javascript punctuation">)</span><span class="token script language-javascript punctuation">;</span><span class="token script language-javascript"> </span><span class="token script language-javascript comment">// false</span><span class="token script language-javascript"></span></div><div class="token-line"><span class="token script language-javascript"></span><span class="token tag punctuation">&lt;/</span><span class="token tag">script</span><span class="token tag punctuation">&gt;</span></div></pre></div><h4 id="523-栈和队列"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#523-栈和队列"><span class="icon icon-link"></span></a>5.2.3 栈和队列</h4><ul><li>栈：<code>push</code> &amp;&amp; <code>pop</code></li><li>队列：<code>push</code> &amp;&amp; <code>shift</code></li></ul><h4 id="526-操作方法"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#526-操作方法"><span class="icon icon-link"></span></a>5.2.6 操作方法</h4><p>concat：参数会被自动展开</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> colors </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> colors2 </span><span class="token operator">=</span><span class="token plain"> colors</span><span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// [1, 2, 3, 4]</span></div></pre></div><p>slice(star, end): 切片，返回新数组。</p><p>splice(start, count, ...items):</p><ul><li>删除：不需要第三个参数</li><li>插入：第二参数置 0</li><li>替换：第二个和第三个参数要用</li></ul><h3 id="53-date-类型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#53-date-类型"><span class="icon icon-link"></span></a>5.3 Date 类型</h3><p>Date.now() 和 new Date().gewNow() 等价。</p><p>Date.parse(string): 返回 string 代表的日期的毫秒数。<code>年/月/日</code>，请不要使用<code>-</code>连接！</p><p>Date 实例可以直接比较大小，因为<code>valueOf</code>返回毫秒数。</p><h3 id="54-regexp-类型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#54-regexp-类型"><span class="icon icon-link"></span></a>5.4 RegExp 类型</h3><p>不推荐 <code>new RegExp(string)</code> 来声明正则，因为 string 是字符串，元字符需要双重转义。比如<code>\n</code>，就是<code>\\n</code>。</p><p>每个实例拥有以下属性：</p><ul><li>global：g</li><li>ignoreCase: i</li><li>multiline: m</li><li><strong>lastIndex</strong>: 搜索下一匹配项的字符位置</li><li><strong>source</strong>: 正则的字符串表示</li></ul><h3 id="55-function-类型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#55-function-类型"><span class="icon icon-link"></span></a>5.5 Function 类型</h3><p>代码求值时，js 引擎会将声明函数提升到源码顶部。</p><p><code>arguments</code>上重要属性：</p><ul><li>length：参数长度</li><li>callee: 函数自身引用</li></ul><p>函数上重要属性：</p><ul><li>caller: 调用此函数的函数引用。全局访问返回 null</li><li>length：函数希望接受的参数个数（不算默认参数）</li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">inner</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">,</span><span class="token parameter"> b </span><span class="token parameter operator">=</span><span class="token parameter"> </span><span class="token parameter number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token plain">arguments</span><span class="token punctuation">.</span><span class="token property-access">callee</span><span class="token punctuation">.</span><span class="token property-access">caller</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> outer</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">inner</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 2 - 1 = 1</span></div></pre></div><p>函数 prototype 属性无法枚举，不能用 for-in 枚举</p><ul><li>可以使用 <code>Object.getOwnPropertyNames</code> ，返回一个由指定对象的所有自身属性的属性名（包括不可枚举属性但不包括 Symbol 值作为名称的属性）组成的数组。</li><li>可以使用 <code>Reflect.ownKeys</code>，返回包括所有自身属性的属性名的数组</li></ul><h3 id="56-基本包装类型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#56-基本包装类型"><span class="icon icon-link"></span></a>5.6 基本包装类型</h3><p>num.toFixed(位数)：自动舍入，返回字符串。</p><p>num.toExponential(位数)：转化为科学计数法，返回字符串。</p><p>String.fromCharCode(...charcodes): 将字符编码转化为字符串。</p><p>String.charCodeAt(index): 将 index 的字符转化为字符编码。</p><h3 id="57-单体内置对象"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#57-单体内置对象"><span class="icon icon-link"></span></a>5.7 单体内置对象</h3><p>随机整数生成：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// [start, end]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">randomInt</span><span class="token punctuation">(</span><span class="token parameter">start</span><span class="token parameter punctuation">,</span><span class="token parameter"> end</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> times </span><span class="token operator">=</span><span class="token plain"> end </span><span class="token operator">-</span><span class="token plain"> start </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">floor</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> times </span><span class="token operator">+</span><span class="token plain"> start</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h2 id="第六章-面向对象的程序设计"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#第六章-面向对象的程序设计"><span class="icon icon-link"></span></a>第六章 面向对象的程序设计</h2><p>ECMA-62 对象定义：无序属性集合，其属性可以包括基本值、对象和函数。</p><h3 id="61-理解对象"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#61-理解对象"><span class="icon icon-link"></span></a>6.1 理解对象</h3><p>ECMA 有 2 种属性：数据属性和访问器属性。它们可以通过 <code>Object.getOwnPropertyDescriptor</code> 来读取。</p><p><strong>1.数据属性</strong></p><p>通过 <code>Object.defineProperty(对象, 属性名, <!-- -->{<!-- -->属性: 值<!-- -->}<!-- -->)</code> 来修改，可修改的属性是：configurable(是否可通过<code>delete</code>删除)、enumerable(能否 for-in 循环)、writable(能否修改)、value。</p><p>可以多次调用 api 修改上述属性，除了将 <code>configurable</code> 设置为 false。</p><p><strong>2.访问器属性</strong></p><p>访问器属性不包含数据值，也是通过 <code>Object.defineProperty(对象, 属性名, <!-- -->{<!-- -->属性: 值<!-- -->}<!-- -->)</code> 来修改。</p><p>可修改的属性是：configurable、enumerable、get、set。其中，只指定 get 不指定 set，那么就是不可写；反过来，不能读。</p><h3 id="62-创建对象"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#62-创建对象"><span class="icon icon-link"></span></a>6.2 创建对象</h3><h4 id="621-理解原型对象"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#621-理解原型对象"><span class="icon icon-link"></span></a>6.2.1 理解原型对象</h4><p>原型模式中，实例的 <code>__proto__</code> 指向构造函数的 <code>prototype</code>，因此，<code>构造函数.prototype.isPrototypeOf(实例)</code>返回 true。</p><p>因为原型链有下端“屏蔽”上端的机制，可以通过逐步 <code>delete</code> 来暴露上端属性。</p><h4 id="622-原型与-in-操作符"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#622-原型与-in-操作符"><span class="icon icon-link"></span></a>6.2.2 原型与 <code>in</code> 操作符</h4><p>如果对象可以访问给定属性，那么 <code>in</code> 返回 true。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;student&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> person </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token plain"> </span><span class="token keyword">in</span><span class="token plain"> person</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// output</span></div></pre></div><p>检测 <code>prototype</code> 是否位于 原型链上，而不位于实例上。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">hasPropertyInPrototype</span><span class="token punctuation">(</span><span class="token parameter">object</span><span class="token parameter punctuation">,</span><span class="token parameter"> prototype</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// hasOwnProperty 是否位于实例上</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> prototype </span><span class="token keyword">in</span><span class="token plain"> object </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">object</span><span class="token punctuation">.</span><span class="token method function property-access">hasOwnProperty</span><span class="token punctuation">(</span><span class="token plain">prototype</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h4 id="623-自定义原型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#623-自定义原型"><span class="icon icon-link"></span></a>6.2.3 自定义原型</h4><p>(构造)函数的<code>constructor</code> 属性是自身，所以重写<code>prototype</code>的时候，需要注意：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;dongyuanxin&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;constructor&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  enumerable</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">// Person.prototype.constructor 是不可枚举的</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Person</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div><h4 id="624-动态原型"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#624-动态原型"><span class="icon icon-link"></span></a>6.2.4 动态原型</h4><p>为了对应 OO 编程习惯，prototype 上属性在访问时动态创建：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;person&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> </span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">sayHello</span><span class="token plain"> </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">sayHello</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Hello, I&#x27;m </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation keyword">this</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h4 id="626-稳妥构造函数"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#626-稳妥构造函数"><span class="icon icon-link"></span></a>6.2.6 稳妥构造函数</h4><p>经常使用，尤其是在对原生对象做拓展时候，而且不能影响原有原型链。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">PowerDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> date </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  date</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">format</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">const</span><span class="token plain"> year </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">addZeroStr</span><span class="token punctuation">(</span><span class="token plain">date</span><span class="token punctuation">.</span><span class="token method function property-access">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      month </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">addZeroStr</span><span class="token punctuation">(</span><span class="token plain">date</span><span class="token punctuation">.</span><span class="token method function property-access">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      day </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">addZeroStr</span><span class="token punctuation">(</span><span class="token plain">date</span><span class="token punctuation">.</span><span class="token method function property-access">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      hour </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">addZeroStr</span><span class="token punctuation">(</span><span class="token plain">date</span><span class="token punctuation">.</span><span class="token method function property-access">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      minute </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">addZeroStr</span><span class="token punctuation">(</span><span class="token plain">date</span><span class="token punctuation">.</span><span class="token method function property-access">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      second </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">addZeroStr</span><span class="token punctuation">(</span><span class="token plain">date</span><span class="token punctuation">.</span><span class="token method function property-access">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">year</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">/</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">month</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">/</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">day</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string"> </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">hour</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">:</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">minute</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">:</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">second</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 可以new调用，因为return重置了返回值</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> date</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h3 id="63-继承"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#63-继承"><span class="icon icon-link"></span></a>6.3 继承</h3><ul><li>接口继承：继承方法签名</li><li>实现继承：继承实际方法</li></ul><p>常见四种方法：<a target="_blank" rel="noopener noreferrer" href="https://github.com/dongyuanxin/blog/blob/master/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/js/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86-%E4%B8%8B.md">JavaScript 基础知识梳理-下<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h2 id="第七章-函数表达式"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#第七章-函数表达式"><span class="icon icon-link"></span></a>第七章 函数表达式</h2><h3 id="72-闭包"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#72-闭包"><span class="icon icon-link"></span></a>7.2 闭包</h3><p>闭包是指：有权访问另一个函数作用域中的变量的函数。作用域得到了延长。</p><p>一个经典问题：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">createFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    result</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token plain"> i</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> result</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><p>调用 result 中的函数，返回值均是 10。这是因为 <code>var</code> 不是块级作用域，闭包声明造成了内函数可以访问 <code>createFunction</code> 的作用域，并且在结束函数后，变量<code>i</code>的生命被延长了下来。例如，当调用 <code>result[0]</code> 的时候，就会访问并且返回 <code>createFunction</code> 中的 变量<code>i</code>的值。</p><p>如果将 <code>var</code> 换成 <code>let</code>，则不存在这个问题。虽然变量<code>i</code>生命被延长，也属于 <code>createFunction</code>作用域，但是<code>let</code>本身是“<strong>块级作用域</strong>”。也就是说，闭包中返回的<code>i</code>是当前循环下的<code>i</code>，没有发生污染。</p><h3 id="73-模仿块级作用域"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#73-模仿块级作用域"><span class="icon icon-link"></span></a>7.3 模仿块级作用域</h3><p>下面写法内存占用低，标记清除的<code>gc</code>在函数运行完，检测到不被使用，会立即销毁作用域链。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// ...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div><h3 id="74-私有变量"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#74-私有变量"><span class="icon icon-link"></span></a>7.4 私有变量</h3><p>利用闭包，可以很巧妙地实现静态私有变量、私有函数方法等。</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">var</span><span class="token plain"> name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;&quot;</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 静态私有变量</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token plain"> name </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div><h2 id="第八章-bom"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#第八章-bom"><span class="icon icon-link"></span></a>第八章 BOM</h2><h3 id="81-window-对象"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#81-window-对象"><span class="icon icon-link"></span></a>8.1 window 对象</h3><p>双重角色：js 访问浏览器的 api + ECMAScript 规定的 global 对象。</p><h4 id="811-全局作用域"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#811-全局作用域"><span class="icon icon-link"></span></a>8.1.1 全局作用域</h4><p>定义在全局的变量不能被 delete, 定义在 window 上的属性可以被 delete。</p><h4 id="812-窗口关系及框架"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#812-窗口关系及框架"><span class="icon icon-link"></span></a>8.1.2 窗口关系及框架</h4><p>对于 window 的<code>frames</code>，为了保证兼容性，请使用：<code>top.frames</code>。因为<code>top</code>是绝对的。</p><p>除了<code>top</code>外，还有<code>parent</code>，在没有任何框架情况下，<code>top === window</code>。</p><p>最后，还有<code>self</code>。在 sw 中，常用 self 访问 window 上的 api。</p><h4 id="813-窗口位置"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#813-窗口位置"><span class="icon icon-link"></span></a>8.1.3 窗口位置</h4><p>跨浏览器取得窗口左边、上边的位置：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> leftPos </span><span class="token operator">=</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">typeof</span><span class="token plain"> </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">screenLeft</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;number&quot;</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">screenLeft</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">screenX</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">let</span><span class="token plain"> topPos </span><span class="token operator">=</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">typeof</span><span class="token plain"> </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">screenTop</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;number&quot;</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">screenTop</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">screenY</span><span class="token punctuation">;</span></div></pre></div><p>此外，还有<code>window.moveTo(x, y)</code> 和 <code>window.moveBy(offsetX, offsetY)</code>两个方法移动位置。但是默认是禁用的。</p><h4 id="814-窗口大小"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#814-窗口大小"><span class="icon icon-link"></span></a>8.1.4 窗口大小</h4><p>窗口大小无法确定，但是可以跨浏览器获得页面视图大小：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> pageWidth </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">innerWidth</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  pageHeight </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">innerHeight</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> pageWidth </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">compatMode</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;CSS1Compat&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 是否是标准模式</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    pageWidth </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">documentElement</span><span class="token punctuation">.</span><span class="token property-access">clientWidth</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    pageHeight </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">documentElement</span><span class="token punctuation">.</span><span class="token property-access">clientHeight</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 是否是混杂模式</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    pageWidth </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">clientWidth</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    pageHeight </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">clientHeight</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><p>此外，还有<code>window.resizeTo(width, height)</code> 和 <code>window.resize(offsetWidth, offsetHeight)</code>调整大小。但是默认是禁用的。</p><h4 id="815-导航和打开窗口"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#815-导航和打开窗口"><span class="icon icon-link"></span></a>8.1.5 导航和打开窗口</h4><p><code>window.open(href, windowName, paramsString)</code>: 最后一个参数形如 <code>height=400,width=10</code>。</p><p>这里有同域限制，并且返回的指针指向新开窗口，可以使用以上被禁用的方法。</p><p>对于一些浏览器插件，会禁用弹出，兼容代码如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">let</span><span class="token plain"> blocked </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword control-flow">try</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">let</span><span class="token plain"> wroxWin </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span><span class="token string">&quot;http://baidu.com&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;_blank&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token plain">wroxWin</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 打开失败</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    blocked </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">catch</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">error</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 插件禁止后，会报错</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  blocked </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><h4 id="817-系统对话框"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#817-系统对话框"><span class="icon icon-link"></span></a>8.1.7 系统对话框</h4><p>它们是浏览器决定的，是同步和模态的。显示的时候，会终止代码执行。</p><h3 id="82-location-对象"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#82-location-对象"><span class="icon icon-link"></span></a>8.2 location 对象</h3><p>location.href(最常用) 和 window.location 本质都是调用 location.assign()。</p><p>除此之外，修改 location 上的其他属性，也可以改变当前加载的页面，比如 <code>location.hash=&#x27;#setion&#x27;</code></p><p>以上方法，会在浏览器中生成新的历史记录。使用<code>location.replace()</code>方法，不会在浏览器中生成历史记录。</p><p>location.reload(true)：强制重新加载。</p><h3 id="83-navigator-对象"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#83-navigator-对象"><span class="icon icon-link"></span></a>8.3 navigator 对象</h3><h4 id="831-检测插件"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#831-检测插件"><span class="icon icon-link"></span></a>8.3.1 检测插件</h4><p><code>navigator.plugins</code> 存放插件信息：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 通用检测方法</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">hasPlugin</span><span class="token punctuation">(</span><span class="token plain">name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  name </span><span class="token operator">=</span><span class="token plain"> name</span><span class="token punctuation">.</span><span class="token method function property-access">toLocaleLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">var</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token dom variable">navigator</span><span class="token punctuation">.</span><span class="token property-access">plugins</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token dom variable">navigator</span><span class="token punctuation">.</span><span class="token property-access">plugins</span><span class="token punctuation">[</span><span class="token plain">i</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">.</span><span class="token method function property-access">toLocaleLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token plain">name</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><p>但由于 IE 浏览器的兼容，最好针对不同浏览器封装不同的插件检测方法。</p><h4 id="832-注册处理程序"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#832-注册处理程序"><span class="icon icon-link"></span></a>8.3.2 注册处理程序</h4><p>google 支持 register​Protocol​Handler 自定义协议。比如打开<code>https://www.baidu.com</code>的控制台，在其中输入：</p><div class="__dumi-default-code-block"><pre class="prism-code language-javascript"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 理论上是这样，但是效果不好</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token dom variable">navigator</span><span class="token punctuation">.</span><span class="token method function property-access">registerProtocolHandler</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token string">&quot;web+baidu&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token string">&quot;https://www.baidu.com/s?wd=%s&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token string">&quot;Baidu handler&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div><h3 id="85-history-对象"><a aria-hidden="true" tabindex="-1" href="/blog/前端知识体系/01.java-script/05#85-history-对象"><span class="icon icon-link"></span></a>8.5 history 对象</h3><p>history.go(): 任意跳转。数字代表前后跳转，字符串会自动找寻历史中最近的位置跳转。</p><p>history.length: 保存历史记录的数量。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/src/前端知识体系/01.JavaScript/05.JavaScript高级程序设计-读书笔记.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">9/4/2021 09:58:48</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog/umi.js"></script>
  </body>
</html>
