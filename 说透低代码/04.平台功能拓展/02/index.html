<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog/umi.css" />
    <script>
      window.routerBase = "/blog";
    </script>
    <script>
      //! umi version: 3.5.17
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.indexOf(e) > -1 ? e : r[0]
        );
      })();
    </script>
    <title>16｜扩展与定制：如何实现插件系统并形成生态圈？</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/说透低代码/04.平台功能拓展/02" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>计算机基础<ul><li><a href="/blog/编译原理之美">编译原理之美</a></li><li><a href="/blog/编译原理实战">编译原理实战</a></li><li><a href="/blog/深入浅出计算机组成原理">深入浅出计算机组成原理</a></li><li><a href="/blog/详解http">详解http</a></li><li><a href="/blog/计算机网络通关29讲">计算机网络通关29讲</a></li><li><a href="/blog/网络排查案例课">网络排查案例课</a></li><li><a href="/blog/linux操作系统">linux操作系统</a></li><li><a href="/blog/linux性能优化实战">linux性能优化实战</a></li><li><a href="/blog/程序员数学基础">程序员数学基础</a></li><li><a href="/blog/趣谈网络协议">趣谈网络协议</a></li><li><a href="/blog/操作系统实战">操作系统实战</a></li><li><a href="/blog/软件工程之美">软件工程之美</a></li><li><a href="/blog/sql必知必会">sql必知必会</a></li><li><a href="/blog/操作系统实战45讲">操作系统实战45讲</a></li><li><a href="/blog/网络编程实战">网络编程实战</a></li></ul></span><span>算法<ul><li><a href="/blog/常用算法25讲">常用算法25讲</a></li><li><a href="/blog/数据结构与算法之美">数据结构与算法之美</a></li><li><a href="/blog/业务开发算法50讲">业务开发算法50讲</a></li><li><a href="/blog/动态规划面试宝典">动态规划面试宝典</a></li></ul></span><span>前端开发<ul><li><a href="/blog/浏览器工作原理与实践">浏览器工作原理与实践</a></li><li><a href="/blog/新时代产品经理进阶之路">新时代产品经理进阶之路</a></li><li><a href="/blog/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog/flutter核心技术与实战">flutter核心技术与实战</a></li><li><a href="/blog/java-script核心原理解析">java-script核心原理解析</a></li><li><a aria-current="page" class="active" href="/blog/说透低代码">说透低代码</a></li><li><a href="/blog/nodejs应用开发实战">nodejs应用开发实战</a></li><li><a href="/blog/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li><li><a href="/blog/reactnative新架构实战课">reactnative新架构实战课</a></li><li><a href="/blog/正则表达式入门">正则表达式入门</a></li><li><a href="/blog/重学前端">重学前端</a></li><li><a href="/blog/serverless入门课">serverless入门课</a></li><li><a href="/blog/type-script入门实战笔记">type-script入门实战笔记</a></li><li><a href="/blog/图解googlev8">图解googlev8</a></li><li><a href="/blog/vue3源码分析">vue3源码分析</a></li><li><a href="/blog/玩转Vue3全家桶">玩转Vue3全家桶</a></li><li><a href="/blog/webassembly入门">webassembly入门</a></li><li><a href="/blog/手把手带你写一个Web框架">手把手带你写一个Web框架</a></li><li><a href="/blog/web漏洞挖掘实战">web漏洞挖掘实战</a></li><li><a href="/blog/跟月影学可视化">跟月影学可视化</a></li><li><a href="/blog/搞定音频技术">搞定音频技术</a></li><li><a href="/blog/攻克视频技术">攻克视频技术</a></li></ul></span><span>前端工程化<ul><li><a href="/blog/logger">logger</a></li><li><a href="/blog/webpack">webpack</a></li><li><a href="/blog/webpackChain">webpackChain</a></li></ul></span><span>前端性能优化<ul><li><a href="/blog/react性能调优">react性能调优</a></li></ul></span><span>软件测试<ul><li><a href="/blog/全链路压测实战30讲">全链路压测实战30讲</a></li><li><a href="/blog/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog/自动化测试高手课">自动化测试高手课</a></li><li><a href="/blog/软件测试52讲">软件测试52讲</a></li></ul></span><span>面试<ul><li><a href="/blog/面试现场">面试现场</a></li></ul></span><span>杂谈<ul><li><a href="/blog/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a href="/blog/Git实战手册">Git实战手册</a></li><li><a href="/blog/NodeJS">NodeJS</a></li><li><a href="/blog/ReactJS">ReactJS</a></li><li><a href="/blog/UI设计">UI设计</a></li><li><a href="/blog/webpack4系列教程">webpack4系列教程</a></li><li><a href="/blog/前端知识体系">前端知识体系</a></li><li><a href="/blog/剑指offer刷题笔记">剑指offer刷题笔记</a></li><li><a href="/blog/思考与成长">思考与成长</a></li><li><a href="/blog/设计模式手册">设计模式手册</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>计算机基础<ul><li><a href="/blog/编译原理之美">编译原理之美</a></li><li><a href="/blog/编译原理实战">编译原理实战</a></li><li><a href="/blog/深入浅出计算机组成原理">深入浅出计算机组成原理</a></li><li><a href="/blog/详解http">详解http</a></li><li><a href="/blog/计算机网络通关29讲">计算机网络通关29讲</a></li><li><a href="/blog/网络排查案例课">网络排查案例课</a></li><li><a href="/blog/linux操作系统">linux操作系统</a></li><li><a href="/blog/linux性能优化实战">linux性能优化实战</a></li><li><a href="/blog/程序员数学基础">程序员数学基础</a></li><li><a href="/blog/趣谈网络协议">趣谈网络协议</a></li><li><a href="/blog/操作系统实战">操作系统实战</a></li><li><a href="/blog/软件工程之美">软件工程之美</a></li><li><a href="/blog/sql必知必会">sql必知必会</a></li><li><a href="/blog/操作系统实战45讲">操作系统实战45讲</a></li><li><a href="/blog/网络编程实战">网络编程实战</a></li></ul></li><li>算法<ul><li><a href="/blog/常用算法25讲">常用算法25讲</a></li><li><a href="/blog/数据结构与算法之美">数据结构与算法之美</a></li><li><a href="/blog/业务开发算法50讲">业务开发算法50讲</a></li><li><a href="/blog/动态规划面试宝典">动态规划面试宝典</a></li></ul></li><li>前端开发<ul><li><a href="/blog/浏览器工作原理与实践">浏览器工作原理与实践</a></li><li><a href="/blog/新时代产品经理进阶之路">新时代产品经理进阶之路</a></li><li><a href="/blog/全栈工程师修炼指南">全栈工程师修炼指南</a></li><li><a href="/blog/flutter核心技术与实战">flutter核心技术与实战</a></li><li><a href="/blog/java-script核心原理解析">java-script核心原理解析</a></li><li><a aria-current="page" class="active" href="/blog/说透低代码">说透低代码</a></li><li><a href="/blog/nodejs应用开发实战">nodejs应用开发实战</a></li><li><a href="/blog/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li><li><a href="/blog/reactnative新架构实战课">reactnative新架构实战课</a></li><li><a href="/blog/正则表达式入门">正则表达式入门</a></li><li><a href="/blog/重学前端">重学前端</a></li><li><a href="/blog/serverless入门课">serverless入门课</a></li><li><a href="/blog/type-script入门实战笔记">type-script入门实战笔记</a></li><li><a href="/blog/图解googlev8">图解googlev8</a></li><li><a href="/blog/vue3源码分析">vue3源码分析</a></li><li><a href="/blog/玩转Vue3全家桶">玩转Vue3全家桶</a></li><li><a href="/blog/webassembly入门">webassembly入门</a></li><li><a href="/blog/手把手带你写一个Web框架">手把手带你写一个Web框架</a></li><li><a href="/blog/web漏洞挖掘实战">web漏洞挖掘实战</a></li><li><a href="/blog/跟月影学可视化">跟月影学可视化</a></li><li><a href="/blog/搞定音频技术">搞定音频技术</a></li><li><a href="/blog/攻克视频技术">攻克视频技术</a></li></ul></li><li>前端工程化<ul><li><a href="/blog/logger">logger</a></li><li><a href="/blog/webpack">webpack</a></li><li><a href="/blog/webpackChain">webpackChain</a></li></ul></li><li>前端性能优化<ul><li><a href="/blog/react性能调优">react性能调优</a></li></ul></li><li>软件测试<ul><li><a href="/blog/全链路压测实战30讲">全链路压测实战30讲</a></li><li><a href="/blog/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog/自动化测试高手课">自动化测试高手课</a></li><li><a href="/blog/软件测试52讲">软件测试52讲</a></li></ul></li><li>面试<ul><li><a href="/blog/面试现场">面试现场</a></li></ul></li><li>杂谈<ul><li><a href="/blog/超级访谈对话张雪峰">超级访谈对话张雪峰</a></li><li><a href="/blog/Git实战手册">Git实战手册</a></li><li><a href="/blog/NodeJS">NodeJS</a></li><li><a href="/blog/ReactJS">ReactJS</a></li><li><a href="/blog/UI设计">UI设计</a></li><li><a href="/blog/webpack4系列教程">webpack4系列教程</a></li><li><a href="/blog/前端知识体系">前端知识体系</a></li><li><a href="/blog/剑指offer刷题笔记">剑指offer刷题笔记</a></li><li><a href="/blog/思考与成长">思考与成长</a></li><li><a href="/blog/设计模式手册">设计模式手册</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog/说透低代码">说透低代码</a></li><li><a href="/blog/说透低代码/01.开篇词">01.开篇词</a><ul><li><a href="/blog/说透低代码/01.开篇词/01"><span>开篇词｜抛开争论，先来看看真正的低代码</span></a></li></ul></li><li><a href="/blog/说透低代码/02.认知基础与架构策略">02.认知基础与架构策略</a><ul><li><a href="/blog/说透低代码/02.认知基础与架构策略/01"><span>01｜低代码平台到底是什么样的？</span></a></li><li><a href="/blog/说透低代码/02.认知基础与架构策略/02"><span>02｜低代码到底是银弹，还是行业毒瘤？</span></a></li><li><a href="/blog/说透低代码/02.认知基础与架构策略/03"><span>03｜低代码的天花板：一个完备的低代码平台应该具备哪些条件？</span></a></li><li><a href="/blog/说透低代码/02.认知基础与架构策略/04"><span>04｜演进策略：先发展通用能力还是先满足业务需求？</span></a></li><li><a href="/blog/说透低代码/02.认知基础与架构策略/05"><span>05｜基础设施 ：启动低代码平台研发之前，你需要有什么家底？</span></a></li></ul></li><li><a href="/blog/说透低代码/03.核心功能开发">03.核心功能开发</a><ul><li><a href="/blog/说透低代码/03.核心功能开发/01"><span>06｜踏出新手村便遭遇大Boss：如何架构低代码的引擎？</span></a></li><li><a href="/blog/说透低代码/03.核心功能开发/02"><span>07｜结构化代码生成法：代码如何生成代码？</span></a></li><li><a href="/blog/说透低代码/03.核心功能开发/03"><span>08｜布局编辑器：如何做到鱼和熊掌兼得？</span></a></li><li><a href="/blog/说透低代码/03.核心功能开发/04"><span>09｜属性编辑器：如何解除Web组件属性与编辑器的耦合？</span></a></li><li><a href="/blog/说透低代码/03.核心功能开发/05"><span>10 | 可视化编程：如何有效降低App前后端逻辑开发的技能门槛？</span></a></li><li><a href="/blog/说透低代码/03.核心功能开发/06"><span>11｜亦敌亦友：Low Code与Pro Code混合使用怎样实现？</span></a></li><li><a href="/blog/说透低代码/03.核心功能开发/07"><span>12 | 业务数据：再好的App，没有数据也是白搭</span></a></li><li><a href="/blog/说透低代码/03.核心功能开发/08"><span>13｜多人协同编辑：野百合的春天为啥来得这么晚？</span></a></li><li><a href="/blog/说透低代码/03.核心功能开发/09"><span>14｜编辑历史：是对Git做改造，还是另辟蹊径？</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog/说透低代码/04.平台功能拓展">04.平台功能拓展</a><ul><li><a href="/blog/说透低代码/04.平台功能拓展/01"><span>15｜低代码平台应该优先覆盖应用研发生命周期中的哪些功能？</span></a></li><li><a aria-current="page" class="active" href="/blog/说透低代码/04.平台功能拓展/02"><span>16｜扩展与定制：如何实现插件系统并形成生态圈？</span></a></li></ul></li><li><a href="/blog/说透低代码/05.阶段性总结">05.阶段性总结</a><ul><li><a href="/blog/说透低代码/05.阶段性总结/01"><span>阶段测试｜这些低代码的知识，你都掌握了吗？</span></a></li><li><a href="/blog/说透低代码/05.阶段性总结/02"><span>总结与展望｜低代码之路，我们才刚刚开始</span></a></li></ul></li><li><a href="/blog/说透低代码/summary">说透低代码</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="通用型低代码平台的弊端有哪些？" data-depth="2"><a href="/blog/说透低代码/04.平台功能拓展/02#通用型低代码平台的弊端有哪些"><span>通用型低代码平台的弊端有哪些？</span></a></li><li title="插件系统的设计与实现" data-depth="2"><a href="/blog/说透低代码/04.平台功能拓展/02#插件系统的设计与实现"><span>插件系统的设计与实现</span></a></li><li title="SDK的提取方法" data-depth="3"><a href="/blog/说透低代码/04.平台功能拓展/02#sdk的提取方法"><span>SDK的提取方法</span></a></li><li title="可扩展的功能" data-depth="3"><a href="/blog/说透低代码/04.平台功能拓展/02#可扩展的功能"><span>可扩展的功能</span></a></li><li title="插件二次开发和manifest设计" data-depth="3"><a href="/blog/说透低代码/04.平台功能拓展/02#插件二次开发和manifest设计"><span>插件二次开发和manifest设计</span></a></li><li title="插件生命周期管理" data-depth="3"><a href="/blog/说透低代码/04.平台功能拓展/02#插件生命周期管理"><span>插件生命周期管理</span></a></li><li title="生态圈只是一个副产品" data-depth="2"><a href="/blog/说透低代码/04.平台功能拓展/02#生态圈只是一个副产品"><span>生态圈只是一个副产品</span></a></li><li title="总结" data-depth="2"><a href="/blog/说透低代码/04.平台功能拓展/02#总结"><span>总结</span></a></li><li title="思考题" data-depth="2"><a href="/blog/说透低代码/04.平台功能拓展/02#思考题"><span>思考题</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="16扩展与定制如何实现插件系统并形成生态圈"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#16扩展与定制如何实现插件系统并形成生态圈"><span class="icon icon-link"></span></a>16｜扩展与定制：如何实现插件系统并形成生态圈？</h1><p>你好，我是陈旭。</p><p>我们已经在专栏中多次提到插件这个词了，那么插件到底怎么来实现呢？今天我们就来系统地梳理一下。</p><p>在第9讲中，我们解决了低代码编辑器的属性编辑器与Web组件的紧耦合问题，而且在第12讲的获取组件个性化数据的方法中，我们也采用了类似的思路，实现了应用定制化的动作与低代码平台松耦合的效果。核心功能与扩展功能的松耦合架构，是实现插件的关键基础。所以，我们可以将这两讲采用的方法进行归纳和抽象，形成一个允许应用团队在更大范围内定制和扩展的能力，我将这个能力称为插件系统。这就是我们今天这讲要解决的任务。</p><p>特别是第9讲中，我们细化到代码层面，进行一步步地设计和解耦，最终用一套代码架构同时支撑低代码平台内部实现和外部扩展。你可以复习一下这一部分，能帮助你更好地理解今天的内容</p><p>在我看来，对于一个通用型的低代码平台来说，插件系统是一个非常重要的功能，它能够解决通用型低代码平台的许多弊端。我们一步步来分析，先看看通用型低代码平台都有哪些弊端。</p><h2 id="通用型低代码平台的弊端有哪些"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#通用型低代码平台的弊端有哪些"><span class="icon icon-link"></span></a>通用型低代码平台的弊端有哪些？</h2><p>我们之前已经说过很多发展通用型平台的好处了，不过凡事都有代价。如果站在业务开发（即平台的用户）的角度来看，通用带来的问题主要包括这几个方面：</p><ul><li><strong>使用门槛居高不下</strong>；</li><li><strong>效率无法最大化</strong>，高不成低不就；</li><li>平台过于“高冷”和“挑剔”；</li><li>容易与业务需求耦合，逐渐腐化；</li><li>平台容易积压需求，造成不满。</li></ul><p>我们简单分析一下这几个问题。首先要明确的是，效率和赋能（降低门槛）是建设低代码平台的两大目标。如果我们的低代码平台达不到这个目标，那它必然不能算作是一个成功的低代码平台。即使我们把效率和赋能中的其中一项做到极致，也很难说已经获得了成功。</p><p>不过，从通用到具体场景，我们还需要做很多的额外工作，而且这些定制化工作的难度和工作量可能还不低，或者是开发过程比较麻烦。总之，刚刚接触低代码平台的用户和低技能者是很难驾驭这个过程的。</p><p>当然，我们可以通过内置模板的方式解决配置方面的问题，但是深度定制部分的工作，往往通过简单的配置是无法解决的，所以模板也不行。那这方面要怎么处理呢？</p><p>深度定制这部分的工作和应用开发的效率紧密相关，实施难度很大。我们回顾下第8讲的内容，当时我们在讲解应用开发三部曲的布局篇时说到，网格布局器是一个通用的布局器，能用来开发表单类App，也可以用来开发Dashboard类App和其他多数分析类的App。但是，网格布局在各个场景下的效率表现有很大的不同，它在精细化UI的布局中的效率更高，但是在做表单布局时的效率却会比较低。</p><p>从这个例子中，我们可以看到：<strong>为特定场景提供定制化的能力，是提升效率的一个非常有效且直接的方法</strong>。</p><p>所以说，通用型的平台实现的任何需求，都需要充分考虑各种各样应用场景下的情况。在应用团队看来我们就非常高冷了，应用团队把一个小需求、小修改提给平台，往往都需要漫长的等待和评估，而且，许多在应用团队看来理所当然的需求，却会被平台团队给拒绝掉。</p><p>当然，只有在低代码平台团队非常强势的时候，它才能做到如此高冷和挑剔。但当低代码平台没有这样的资本的时候，事情则会朝另一个方向演进：与业务逐渐耦合，最终失去通用性。</p><p>如果扩展性不够，但又不够强势时，迫于压力，我们难免会使用if else来解决，if只能爽一时，但一个if一个坑，用不了多久，要么就if不下去，要么就由于if的情况考虑不足与应用业务产生硬耦合。当第一个if出现的时候，低代码平台的架构腐化就开始了，当再也if不下去的时候，已经病入膏肓。</p><p>如果低代码平台的代码架构，已经有一定的扩展能力，能从架构上隔离开业务定制性的需求和通用性需求的话，就可以避免与业务功能产生强耦合了。但这样还不够，由于应用团队无法直接参与需求的定制，这会导致应用的需求都积压到低代码平台团队中，漫长的交付周期要么把平台团队搞得精疲力尽，要么无法按期交付，导致业务团队的不满。</p><p>我们再换个角度，站在低代码平台角度看这些通用性的弊端，主要问题是需要有一个良好的代码架构和演进策略；其次是需要尽早规划尽早实施，越往后推历史负担越大；再者是实现难度比较大，任何修改都要能满足通用性和定制性解耦。虽然这些问题也不少，但是这些都是平台内部的问题，属于内部矛盾，解决起来相对容易。今天这讲就不深入讨论这个方向上的问题了。</p><p>那么，为什么说插件系统能够解决这些弊端呢？</p><p>首先，插件非常廉价。就凭这一点，插件就可以解决通用型低代码平台的各种弊端。廉价意味着开发成本低，也意味着可以有庞大的数量。数量庞大的插件可以像细沙一样，填满低代码平台各个大功能的覆盖盲区。</p><p>和平台团队接到需求时的各种瞻前顾后不同，用插件实现需求，就一句话：干就完了。也因为廉价，插件的试错成本比较低，搞错了大不了推倒重来。我们的许多需求可以先以插件的形式提供、试错，验证过后，再融入低代码平台中去。</p><p>廉价也意味着应用团队也可以参与，这样就能挡住不少原本应该提交给平台团队的需求。同时，鞋子好不好，只有脚知道，应用需要啥功能，应用团队自己最清楚。所以，这些自己为自己量身定做的插件也可以大幅提升应用开发的效率。</p><h2 id="插件系统的设计与实现"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#插件系统的设计与实现"><span class="icon icon-link"></span></a>插件系统的设计与实现</h2><p>那么，现在我们具体来说说如何设计和实现一个插件系统。我们可以从SDK的提取方法、可扩展的功能建议、插件二次开发和manifest设计，以及插件生命周期管理这几个方面来考虑。</p><h3 id="sdk的提取方法"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#sdk的提取方法"><span class="icon icon-link"></span></a>SDK的提取方法</h3><p>啥是SDK呢？SDK的全称是Software Development Kit，也就是软件开发套件。在这一讲里，SDK的作用是提供了一套实现插件的框架和必要的辅助功能。</p><p>在设计一个插件系统的时候，低代码平台要先定义好哪些需要扩展的功能，并在内部事先预留好扩展点。而SDK的一个主要作用，就是帮助二次开发者更方便地找到这些扩展点。而且，SDK需要提供必要的类型定义和功能，这些能够大幅降低在扩展点上做开发的难度，从而帮助二次开发者更快、更容易地做出一个插件来。</p><p>通常来说，SDK主要包括：</p><ul><li><strong>接口和类型定义</strong>。这部分代码量可能还占不到SDK包所有代码的1/10，但却是最重要的一部分。这些接口和类型就是插件的架构和框架，它们勾勒了整个插件系统的轮廓和概貌；</li><li><strong>基类的定义</strong>。扩展点通用部分的实现，需要我们尽可能完整地将各个功能实现出来，只留下尽可能少的抽象方法。而二次开发者主要的工作，就是补全所有的抽象方法、覆盖必要的父类方法；</li><li><strong>调试工具和构建&amp;部署脚本</strong>。这是二次开发过程必须的专用工具，包括调试器、构建&amp;部署的脚本、脚手架等。如果没有这些工具，二次开发基本就无法继续了，所以我们必须优先实现和提供；</li><li><strong>辅助性、功能性工具类</strong>。这些就是工具包，封装了常用的功能，目的是降低二次开发难度，提升二次开发效率。它们是辅助性的，没有它们也不会对大局产生多大影响。因此我们可以降低这部分的优先级，在资源允许之后，或者根据二次开发人员的所问所需，针对性地逐渐提供。</li></ul><p>那么，我们应该如何设计一个扩展点，以及哪些代码需要挪到SDK中呢？</p><p>这里你可以复习一下第9讲，我通过在低代码的属性编辑器上做扩展的方式，非常详细地给出了如何设计扩展点以及哪些代码需要放到SDK中的方案。同时，你也可以复习一下第12讲，这是另一个案例，采用类似的方法，你就可以按照自己的需要，设计出新的扩展点来了。</p><p>那么，有哪些功能适合开放出去给应用扩展呢？</p><h3 id="可扩展的功能"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#可扩展的功能"><span class="icon icon-link"></span></a>可扩展的功能</h3><p>总的来说，我们至少有数据与数据模型、自定义组件、自定义交互动作，等等这些扩展点。我们展开分析看看。</p><h4 id="扩展点一数据与数据模型"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#扩展点一数据与数据模型"><span class="icon icon-link"></span></a>扩展点一：数据与数据模型</h4><p>数据存取是存量系统与低代码平台之间最主要的对接方式，这也是插件系统主要要解决的问题。</p><p>我们都知道，App的职能可以分为两种：生产数据和消费数据，低代码平台自身能处理掉一部分数据，但是绝非全部，特别是对存量系统的数据的使用，是一个刚需。</p><p>但是喜新厌旧是人之常情，在企业里往往也是这样的。有了新系统，老系统的流量会逐渐切换到新系统，然后进入只读状态，但老系统里的数据是有价值的，可能由于数据结构、数据量等这样那样的原因导致无法将数据移植到新系统中，往往就必须新老系统并行一段时间（而且这个时间往往会很久），此时，我们就可以给老系统做一个插件用来与低代码平台做对接，是一个很好的选择。等以后老系统彻底下线了，直接把插件拿掉就行了，不会有残留。</p><p>还有另一种情况，也是我现在面对的情况，低代码平台与存量系统是共存关系，老系统数量众多，且依然继续在演进，不可能被低代码平台顶替。而低代码平台也不可能不顾一切地融入到某个存量系统（这样会大大降低低代码平台的价值），于是就出现了一个低代码平台需要对接许多存量系统的局面。而且每个存量系统都有自己的一套获取数据机制和迥异的数据模型。这样的情况下，唯有针对各个存量系统打造一个专用插件用来获取数据、提取数据模型这一条路可走。</p><h4 id="扩展点二自定义组件"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#扩展点二自定义组件"><span class="icon icon-link"></span></a>扩展点二：自定义组件</h4><p>自定义组件是低代码平台最主要的扩展点之一。一般来说，低代码平台内置的组件集都是通用的、常见的，而应用单位自行封装的业务组件，虽然通用性差，但在它适用的那一亩三分地里，价值很高，所以我们需要允许业务团队开发和封装他们适用的业务组件。</p><p>另外，再牛的内置组件集也会有功能盲区，在特定场合下，应用团队可以利用这个扩展点来为低代码平台添加新的组件。当然了，作为低代码平台兜底策略的一部分，低代码平台应该要有一种能力能在应用团队无需封装插件的前提下，直接调用原生API，快速使用第三方库。</p><h4 id="扩展点三自定义交互动作"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#扩展点三自定义交互动作"><span class="icon icon-link"></span></a>扩展点三：自定义交互动作</h4><p>我们前面也说过，可视化编程是可视化开发模式中最难的一个环节，因为可视化编程中，我们需要编排大量的逻辑。</p><p>业务组件也有类似场景，比如业务团队内部会积累一些程式化的交互动作。如果我们要用通用动作编排出这些逻辑，需要填写大量复杂、不好维护的参数。这时，我们就可以将这些逻辑封装成自定义交互动作，只暴露出若干输入框作为参数，这样一来，自定义动作卡的使用体验往往就会好许多。</p><p>除了封装复杂逻辑之外，自定义交互动作还可以对存量的复杂系统的用法进行场景化归纳，再根据归纳到的使用场景设计相应的参数。动作的使用者只要选定一个预设场景，正确填写所需参数后，低代码平台就可以按预设自动生成相应的代码了。</p><p>比如，我所在的产品线有一个WebGIS系统，它有上百个API。有一个深度使用这个GIS系统的业务团队把它在产品线中的用法归纳了一下，整理出了栅格展示、小区展示、热力图等用法，然后将各个用法封装成一个个自定义动作，每个动作必填的参数很少，主要是在配置如何查询数据。完成了后，即使对这个GIS系统不熟悉的人，也能快速地在GIS上渲染出所需的图层和数据。</p><h4 id="其他扩展点导出登录等"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#其他扩展点导出登录等"><span class="icon icon-link"></span></a>其他扩展点：导出、登录等</h4><p>最后，我们这里再列举一下其他可做插件的扩展点。</p><p>首先，我们在导出应用数据时，如果有扩展点，就可以对导出的原始应用数据做一些转换，转为其他平台或者其他用途的数据。我给你介绍下我碰到过的两个实际场景：第一个是将应用数据一键导出成支持多种运行平台应用包，有的是物理机运行时，有的是Docker虚拟机运行时；另一个是将在线Web应用直接导出为离线报告，比如Word、PDF等格式。我们现在就有应用团队正在研究如何导出有交互能力的离线Web应用包。</p><p>另外，如果你的低代码平台需要被其他多个系统纳管，或者要部署到客户的系统中，那很可能需要支持多种不同场景的单点登录功能。这个时候，针对每个系统制作登录插件，按需安装，就是一个非常好的做法。</p><h3 id="插件二次开发和manifest设计"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#插件二次开发和manifest设计"><span class="icon icon-link"></span></a>插件二次开发和manifest设计</h3><p>除了前面说的SDK的提取和可扩展点的设置外，在插件系统的设计和实现上，我们还需要考虑插件二次开发和manifest设计的问题。</p><p>和多数其他系统的插件一样，我们需要有一个manifest文件来描述插件的信息，基本信息包括：插件的名字、插件的版本、所用SDK的主版本，以及插件功能描述等静态描述信息。</p><p>但更关键的是，Schema必须给出这个插件实现了哪些扩展点、各个扩展点所在的路径，还有各个扩展点的个性化配置信息等。举个例子，如果我们添加了自定义组件，那可能需要为每个新增的组件配置一个图标。</p><p>比如下面这个插件manifest是我们的低代码平台Awade正在使用的：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">{</span></div><div class="token-line"><span class="token plain">        &quot;name&quot;: &quot;datahub&quot;,</span></div><div class="token-line"><span class="token plain">        &quot;module&quot;: &quot;DataHubModule&quot;,</span></div><div class="token-line"><span class="token plain">        &quot;path&quot;: &quot;web/dist/@awade/plugin&quot;,</span></div><div class="token-line"><span class="token plain">        &quot;serviceInfo&quot;: {</span></div><div class="token-line"><span class="token plain">            &quot;services&quot;: [</span></div><div class="token-line"><span class="token plain">                {</span></div><div class="token-line"><span class="token plain">                    &quot;label&quot;: &quot;DataHub&quot;,</span></div><div class="token-line"><span class="token plain">                    &quot;name&quot;: &quot;datahub&quot;,</span></div><div class="token-line"><span class="token plain">                    &quot;remoteData&quot;: {</span></div><div class="token-line"><span class="token plain">                        &quot;class&quot;: &quot;DataHubRemoteData&quot;, &quot;import&quot;: &quot;web/src/lib/components/datahub/remote.data-type&quot;</span></div><div class="token-line"><span class="token plain">                    },</span></div><div class="token-line"><span class="token plain">                    &quot;renderer&quot;: {</span></div><div class="token-line"><span class="token plain">                        &quot;class&quot;: &quot;DataHubRemoteDataRenderer&quot;, &quot;import&quot;: &quot;web/src/lib/components/datahub/remote.data-renderer&quot;</span></div><div class="token-line"><span class="token plain">                    },</span></div><div class="token-line"><span class="token plain">                    &quot;initData&quot;: {</span></div><div class="token-line"><span class="token plain">                        &quot;style&quot;: {</span></div><div class="token-line"><span class="token plain">                            &quot;dataReviserHeight&quot;: &quot;calc(90vh - 410px)&quot;, &quot;paramBoxHeight&quot;: &quot;calc(90vh - 475px)&quot;, &quot;configModalHeight&quot;: &quot;calc(90vh - 405px)&quot;</span></div><div class="token-line"><span class="token plain">                        }</span></div><div class="token-line"><span class="token plain">                    }</span></div><div class="token-line"><span class="token plain">                }</span></div><div class="token-line"><span class="token plain">            ]</span></div><div class="token-line"><span class="token plain">        },</span></div><div class="token-line"><span class="token plain">        &quot;actionInfo&quot;: {</span></div><div class="token-line"><span class="token plain">            &quot;actions&quot;: [</span></div><div class="token-line"><span class="token plain">                {</span></div><div class="token-line"><span class="token plain">                    &quot;category&quot;: &quot;事件与数据&quot;,</span></div><div class="token-line"><span class="token plain">                    &quot;type&quot;: &quot;datahub&quot;,</span></div><div class="token-line"><span class="token plain">                    &quot;action&quot;: {</span></div><div class="token-line"><span class="token plain">                        &quot;class&quot;: &quot;DatahubAction&quot;, &quot;import&quot;: &quot;web/src/lib/components/datahub/action-type&quot;</span></div><div class="token-line"><span class="token plain">                    },</span></div><div class="token-line"><span class="token plain">                    &quot;renderer&quot;: {</span></div><div class="token-line"><span class="token plain">                        &quot;class&quot;: &quot;DatahubActionRenderer&quot;, &quot;import&quot;: &quot;web/src/lib/components/datahub/action-renderer&quot;</span></div><div class="token-line"><span class="token plain">                    },</span></div><div class="token-line"><span class="token plain">                    &quot;initData&quot;: {</span></div><div class="token-line"><span class="token plain">                        &quot;style&quot;: {</span></div><div class="token-line"><span class="token plain">                            &quot;padding&quot;: &quot;10px 10px 0 10px&quot;,</span></div><div class="token-line"><span class="token plain">                            &quot;dataReviserBottom&quot;: &quot;10px&quot;,</span></div><div class="token-line"><span class="token plain">                        }</span></div><div class="token-line"><span class="token plain">                    }</span></div><div class="token-line"><span class="token plain">                }</span></div><div class="token-line"><span class="token plain">            ]</span></div><div class="token-line"><span class="token plain">        },</span></div><div class="token-line"><span class="token plain">        &quot;metadatas&quot;: [{</span></div><div class="token-line"><span class="token plain">            &quot;selector&quot;: &quot;plx-table&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;class&quot;: &quot;PaletxTable&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;import&quot;: &quot;web/src/lib/components/table/index&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;category&quot;: &quot;dataDisplay&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;label&quot;: &quot;Paletx Table&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;desc&quot;: &quot;Paletx Table&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;icon&quot;: &quot;assets/icon/plugin-paletx-pro/table.svg&quot;</span></div><div class="token-line"><span class="token plain">        },</span></div><div class="token-line"><span class="token plain">        {</span></div><div class="token-line"><span class="token plain">            &quot;selector&quot;: &quot;plx-badge&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;class&quot;: &quot;PaletxBadge&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;import&quot;: &quot;web/src/lib/components/status/index&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;category&quot;: &quot;dataDisplay&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;label&quot;: &quot;Paletx Badge&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;desc&quot;: &quot;Paletx Badge&quot;,</span></div><div class="token-line"><span class="token plain">            &quot;icon&quot;: &quot;assets/icon/plugin-paletx-pro/status.svg&quot;</span></div><div class="token-line"><span class="token plain">        }]</span></div><div class="token-line"><span class="token plain">    }</span></div></pre></div><p>插件系统在拿到一个插件包之后，首先就要读取这个文件，通过它来获取插件的所有信息。因此，这个文件在插件包里的位置和名字必须固定，比如就放在插件包的根目录下，名为manifest.json就可以了。</p><p>而二次开发的最主要工作，就是在安装好了SDK包之后，按照平台的规范，正确编写各个扩展点的代码。插件的开发工作一般不会特别难，但万事开头难，因此<strong>我建议你的平台可以根据不同的扩展点给出一些Demo插件</strong>，这样应用团队就可以在对应的Demo插件包的基础上，依葫芦画瓢完成剩余的工作。</p><p>注意，给出的Demo插件一定要是可以安装和使用的，否则它的价值就大打折扣了。</p><p>按照我的经验来说，编写的图文文档一般没人看，多数人还是喜欢直接照抄。在照抄的同时有不明白的地方，会直接来问，没几个人有耐心去搜索文档。所以，你可以把一些常见问题的解决方案，直接通过注释的形式，写在Demo插件的示例代码中。必要时，还可以在注释中放上一个超链接，导航到更详细的图文文档中去，这样的效果最好。</p><h3 id="插件生命周期管理"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#插件生命周期管理"><span class="icon icon-link"></span></a>插件生命周期管理</h3><p>最后，我们还要关注插件的生命周期管理的问题。一个插件的生命周期，大概有这些主要阶段：上传、安装、激活、使用、去激活、迭代更新、卸载。<strong>插件系统需要在各个阶段提供对应的通道和工具，支持插件更新和切换自己的状态。</strong></p><p>上传比较简单。我们直接在开发平台上开放一个插件上传通道，这样开发者就可以将他的插件上传到系统中来了。</p><p>接下来，插件系统就需要对插件包做静态校验，读取manifest.json文件，并检查所有必要的配置项是否合法有效。校验通过之后，就可以把插件安装到插件系统中来了。这个过程主要是文件拷贝，在我们的实践中，主要是js bundle、npm包以及其他静态文件的拷贝，插件系统此时不会去使用或执行相关的代码。完成之后，插件后台管理器会给界面推送一个安装完成的提示，收到这个提示之后，应用就可以激活这个插件了。</p><p>插件激活时，插件系统就会实际使用和执行插件包里的代码了，所以这个操作对低代码平台的安全性会构成一定的风险。</p><p>需要说明的是，我这里并未对系统的安全性做特别的关注，因为我们现在主要面对内网用户，没有面向不确定的公众开放，因此我们没有将插件系统的安全性提到特别高的优先级，目前只做到单一插件死掉不影响系统和其他插件的最低程度，不考虑插件开发者有破坏系统的主观恶意。因为在完全实名的前提下，我们通过日志是很容易抓住破坏者的。</p><p>如果你的系统需要<strong>向不确定的公众开放</strong>，那么系统的安全将是一个非常重要的议题，需要重点关注。</p><p>具体激活插件时要执行哪些操作，取决于低代码编译器的架构，一般包含前端和后端两部分。前端的部分要把 JavaScript bundle 从服务器下载到浏览器，然后eval一下就可以了，后端部分则是执行插件包的初始化代码，把NPM包的入口注册到插件包的功能入口上。</p><p>可以看到，这两部分都是有安全风险的：前端的激活容易遭受XSS攻击，后端在执行插件的初始化脚本时，有可能会执行到恶意代码。但我这里暂时没有防范的经验可以分享，如果你有相关的经验，欢迎在评论区分享给我们。</p><p>插件激活的时候，插件系统会把插件所提供的各个功能植入到低代码平台的各个环节，比如组件列表中增加对应的业务组件，动作列表中增加对应的自定义动作，获取数据的功能列表里增加对应的数据获取通道，等等。这些功能都植入好了后，我们就只需要等着应用开发人员按需使用就好了。</p><p>与激活和安装的流程相反，插件去激活和卸载的过程需要我们在相应的功能入口处删去植入的能力，删除插件相关的文件、包等内容。</p><p>最后，如果有余力，你还可以开发一个插件分发平台，用于集中管理插件，包括新增与删除插件、插件的在线自动发现、插件的版本升级，等等。如果你资源有限，又很需要这个功能，也不需要从零开始搭建，可以复用已有的功能，比如制品库和内部NPM镜像等。如果你们有内部网盘、论坛等，只要能托管文件，也可以加以利用，实在不行，搞个FTP服务器也成。</p><h2 id="生态圈只是一个副产品"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#生态圈只是一个副产品"><span class="icon icon-link"></span></a>生态圈只是一个副产品</h2><p>根据我们前面的分析，存量系统通过插件，可以将其数据与业务流程和低代码平台相连，应用团队通过插件，可以把业务组件、业务模板、方法和低代码平台连接。当连接的节点逐渐增多之后，你会发现原本相互隔离的人和数据之间，间接地产生了连接。</p><p>数据与数据之间、人与数据之间、人与人之间相互打通，形成了一个圈子。随着加入成员越来越多，每个成员可以从圈子里获得更多收益，同时也会吸引更多的成员加入，这是一个正向的增强回路。</p><p><img src="https://static001.geekbang.org/resource/image/3c/3b/3c8yy3bc6171e83d98ccc565ecd7ac3b.png?wh=1666x940" alt="图片"/></p><p>这就是一个生态圈。一般生态这样字眼，会给人一种比较虚的感觉。但是我们这讲所谈及的插件系统是非常务实的，都是从实用以及如何解决存量系统之间的关系着手，也都是扎根于这样的目的。因为，我相信，在任何正常的企业中，低代码平台都绝不是第一个系统。在它之前，必然已经有形形色色的系统在跑，在用。</p><p>低代码平台不能仅仅是另一个新系统，而是要<strong>成为企业的核心</strong>，通过插件联通各个存量系统，贯通数据，让存量数据创造更大的价值。从这个角度看，低代码平台实际上起到的是中台的作用。这一点我在第一讲也说过，低代码平台的演进线路有相当一部分与中台是同向，甚至是重叠的，这两者可以、也必须放在一起考虑。</p><p>虽然我们不着重谈生态圈这样的虚头巴脑的内容，但是，依托于插件系统，实际上低代码平台和所有存量系统之间，自然而然就形成了一个生态。低代码平台能帮助存量系统发挥更大价值，而存量则一步步将低代码平台推到企业的核心。联通的系统越多，低代码平台对企业的价值就越大、越重要，这是一种良性共生关系。</p><p>在和其他系统打成一片的同时，又能独善其身，不与任何系统耦合，只有插件系统才有可能达到这样的目的。</p><h2 id="总结"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#总结"><span class="icon icon-link"></span></a>总结</h2><p>今天这讲，我们从全流程设计插件系统的角度，分析了插件系统的各个环节。由于内容比较多，我们没能仔细深入讲解一些环节。不过，其中插件系统的核心功能，也就是SDK的设计和功能，我们在第9讲和第10讲里已经做了非常详细的阐述，而插件系统的其他功能，都是围绕着SDK的架构设计和功能来打造的。</p><p>为了方便你更好地理解这些内容，我这里贴了一张Awade的插件系统架构关系图。我们一边分析，一边回顾这些知识点：</p><p><img src="https://static001.geekbang.org/resource/image/6d/2f/6d33a7c01e3abd59f0afc2f806248b2f.png?wh=1442x1344" alt="图片"/></p><p>你可以看到，在编译器内核之上，是一层协议层。它是编译器对外的抽象，所有的扩展点都是由协议层来定义和约束的。SDK则是建立在协议层之上的，它提供了编译器协议的默认实现，以及所有扩展点的基类的定义。这些基类不仅能在减轻二次开发的难度的同时，更重要的是也约束了插件必须遵守的编译协议，插件的二次开发只能按照协议所画出的套路来实现。</p><p>SDK之上，就是各个插件了。从架构图上可以看到，内置功能和插件一样，也必须要遵守编译器协议。因此，从架构角度来说，内置功能与插件是平起平坐的，这样才能确保插件具有充分的扩展能力。当然，这只是从架构角度的设计，实际上插件能有多大能耐，还是取决于你的SDK。这样就可以在实现层面上，保持内置功能的优势。</p><p>结合第9讲和第12讲的内容，以及上面的架构关系，相信你已经可以掌握SDK的架构和设计的方法了。在掌握了SDK的架构方法之后，你紧接着就需要考虑有哪些功能可以作为插件进行扩展。我认为插件系统可以在数据与模型，自定义组件，自定义动作等部位发挥显著的作用。其中，最重要的是数据与模型，通用型低代码平台要处理好存量系统的数据与模型的关系，插件是必须具备的能力。</p><h2 id="思考题"><a aria-hidden="true" tabindex="-1" href="/blog/说透低代码/04.平台功能拓展/02#思考题"><span class="icon icon-link"></span></a>思考题</h2><p>我们假设，在你日常工作所要接触的各个系统和团队中，有这样一个插件系统可以打通所有的存量业务的数据。在这个前提下，互通的数据能创造出多少新的业务价值出来？</p><p>欢迎在评论区分享你的想法。我是陈旭，我们动态更新部分再见。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/docs/说透低代码/04.平台功能拓展/02.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">5/2/2022 10:56:42</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog/umi.js"></script>
  </body>
</html>
