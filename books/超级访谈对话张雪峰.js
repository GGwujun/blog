exports.category = "other";
exports.title = "超级访谈对话张雪峰";
exports.data = [
  {
    chapterTitle: "篇首语",
    children: [
      {
        title: "篇首语 | 张雪峰：我参与的饿了么成长轨迹中，这些事需要反思",
        id: 430901,
        content:
          "<p>你好，欢迎来到《超级访谈：对话张雪峰》这个专栏，我是专栏编辑利莹。</p><h3>专栏缘起</h3><p>两个月前我和极客时间总编辑郭蕾去上海，采访前饿了么CTO张雪峰，我问他“饿了么曾经经历收购百度外卖，后又被阿里收购，技术团队经过不断分合，以及比较复杂的融合过程，你有什么感悟吗？”他给我讲了讲在不同的角色里，要保证什么样的心态。</p><p>假如你是收购方，刚开始的心态一定要有包容性，因为以胜利者的姿态去收购，被收购方总会是难受的，要理解。在收购百度外卖的时候，上海的同学就是包容性不够。那假如你是被收购方，也不用太紧张，提前设定好期望值，面对最终的结果就好。</p><p>这个回答是他真实经历过后的感悟，在动荡的组织中如何调整心态，很重要。收购百度外卖面临的是两个同质业务的融合，且从技术角度，是一个技术相对弱的团队收购技术相对强的团队；而被阿里收购是补充阿里生态，面临的情况是技术强的团队收购技术相对弱的团队，这是两个类型的案例，他给我做了这样的分析。</p><p>其实对于饿了么的这段历史，相信很多同学也略知一二，当然最后饿了么走向被阿里收购的终点，很多人唏嘘，昔日的独角兽企业，没有逃脱这个结局。但在饿了么的发展过程中，对外竞争与对内整合，都在体现一家企业顽强的生命力。</p><!-- [[[read_end]]] --><p>收购与被收购的故事，相信身在其中的人会有更深刻地体悟。张雪峰作为参与其中的一个重要角色，在我们的采访中，也分享了他自己的很多故事。</p><h3>张雪峰和饿了么的故事</h3><p>张雪峰从毕业后经历过几段工作，第一段是跟随国内最早的Blogger毛向辉做教育软件，两年后跳槽到第二家公司，很高兴拿到薪资翻倍，之后进入一家外企，他最大的喜悦是获得了正式地晋升。再然后就是被大家熟知的：进入微软、出来创业、成为携程国际BU CTO再到饿了么CTO，他的职业成长也是在不断做选择的过程中。</p><p>进入饿了么是张雪峰职业生涯里一段非常重要的经历，他和饿了么这个企业更是相互成就。我们往往会更关注他“CTO”这个标签，但他其实也是从一个普通程序员一步步走到CTO的岗位。</p><p>说一说他的成绩吧，在最初加入饿了么的三年时间里，他将技术团队从几十人扩张到近2000人，引进工程界学术界诸多技术牛人；饿了么所能支撑的日订单量级从几十万到千万。这背后的人才吸引、技术文化土壤打造、底层架构建设过程虽然艰难，但最终都变成饿了么飞速发展的坚实后盾。在IT圈，饿了么拥抱开源，还有如异地多活、智能调度等这样的技术实践非常具有行业影响力。</p><p>但他自己评价自己“算是做出一点成绩的，就是跟这个团队的融合是最成功的。”我想，这也源于他对组织融合、文化融合之难的体会。</p><p>在采访过程中，他更多讲了自己做得不好的地方，一些教训、失败或者要去反思的地方，比如：</p><p><strong>收购百度外卖后，在团队融合这件事上不够果敢。</strong>为了照顾两边情绪，一直不敢做大尺度融合，虽然留住了百度外卖技术团队三分之二的人，但是在这个过程中，增加了团队内耗。</p><p><strong>在异地多活的技术决策上有过犹豫，没有一步到位。</strong>饿了么异地多活外界以为是一步到位，其实没有，在做异地多活之前还做了灾备，花了不少钱，他认为这是在技术决策上的一次偏差。</p><p><strong>不搞团建，他自认为这是有错误的。</strong>有人跟他吐槽过，不搞团建，没有让团队之间良好的关系建立起来。对他来说，更是导致后面要付出更大成本去做协调，他最后也反思应该多搞搞能够让大家互相吐露心声的活动。</p><p>另外，还讲到管理1800多人这样规模的技术团队的无奈，1800多人的时候，这位CTO已经做不到让绝大多数人能够享受这个工作的过程，也很难管到一线，很多一线工程师都不认识这位CTO。张雪峰离职的那天，办理离职的IT跟他说，我还是第一次见您的面，他跟我说在那个情境下感觉是很惭愧的。</p><p>对于自己的职业经历，特别是在饿了么的经历，他和极客时间做了分享。我们聊了100多个问题，除了上面的故事，我还问了他这些问题，比如：</p><ul>\n<li>为什么说自己是“土八路”，把百度外卖说成是“正规军”？</li>\n<li>从商业角度，收购百度外卖这件事是不是失败的？</li>\n<li>两个团队融合，技术语言要统一吗，这事你怎么处理？</li>\n<li>你如何让团队保持激情，喜欢自己做的事？</li>\n<li>工程师除了基本的技术能力外，有哪些软技能是你比较看重的？</li>\n<li>对团队中一个人偏爱，会不会让其他人觉得不公平？</li>\n<li>技术团队的价值是什么？</li>\n<li>……</li>\n</ul><p>开始采访前，我是非常期待这些问题的答案的，如果你和我一样，那就从接下来的访谈中找答案吧！在极客时间，让技术人发声，为技术人发声，一直是一件很酷的事情，我们希望有更多技术人能分享自己，分享他们看问题的视角。这也是我们做这个专栏的初衷。</p><p>接下来每一篇内容我们都会以访谈形式展现，欢迎你多发表看法，如果你觉得内容不错，也欢迎把它分享给你的朋友。</p>",
        article_title:
          "篇首语 | 张雪峰：我参与的饿了么成长轨迹中，这些事需要反思",
      },
    ],
  },
  {
    chapterTitle: "收购与被收购",
    children: [
      {
        title: "01 | 收购百度外卖：“土八路”收购“正规军”",
        id: 430918,
        content:
          "<p><strong>极客时间：</strong>为什么把自己比喻成“土八路”，把百度外卖说成是“正规军”？</p><p><strong>张雪峰：</strong>刚收购的时候，饿了么联合创始人汪渊跟我说过一句大白话，大致意思是他们（百度外卖技术团队）就是国军的整编七十四师，我们（饿了么技术团队）就是一帮还在陕北的红军，离“土八路”都还有距离，他们估计是看不上我们的，就感觉竟然被一帮“土八路”收购，大致就是这种味道。</p><p>其实有一个相似的案例，就是淘宝当年收购雅虎中国这件事儿，后来有很多骨干真的是很不爽，感觉你们一帮“乡巴佬”去收购我们。当然，站在当年两边的技术底蕴和技术能力对比看，他们（雅虎中国）有这个资格说，当时淘宝就是一帮“乡巴佬”。</p><p>我们虽然有一定技术成就，做了异地多活（基础设施）、智能调度（物流匹配）、Element（GitHub全球百强），但其实工程这一块还是不够成熟的，特别是跟百度这么强大的技术底蕴相比。为什么百度能成为人才工厂？是有它的道理的，而且你看现在还在源源不断输送人才，它的体系、底蕴不是一般企业能有的。</p><p><strong>极客时间：</strong>2017年收购百度外卖的时候，他们有多少人？收购完走了多少人？</p><p><strong>张雪峰：</strong>业务的人我记不住了，技术团队大概在600左右，后来陆陆续续走了三分之一，留下400人的团队。</p><!-- [[[read_end]]] --><p><strong>极客时间：</strong>收购消息刚下来的时候，你们都有做哪些动作？双方团队是怎么沟通的？</p><p><strong>张雪峰：</strong>是这样，最早是我们单向地找他们，我们6月底过去做尽职调查，后面7月份已经确定收购这件事，一般到尽职调查基本都确定了，百度外卖那边应该也开始通知了。</p><p>正式官宣前的全员会议在北京开，但那次我没去，Mark（张旭豪，饿了么创始人、CEO）他们包括CPO都去北京开这个会去了，就是要给团队信心，去安抚一下。</p><p>再之前还有一次，我们周末开管理会的时候，三个人有老巩（百度外卖原CEO巩振兵）、陈青（原百度外卖副总裁）、耿艳坤（原百度外卖CTO）到上海这边来，大家认识一下。那天我和汪渊就跟耿艳坤表达了我们的诚意，我跟艳坤说，即使收购，我们也保持不变，团队还是归你管，你不用汇报给我。</p><p>那次相当于两边团队见了一下，第二天，我们就到北京再跟他们的核心团队见面，那一次耿艳坤的核心团队（不完全是他的直线汇报，也有一些关键的角色）都来了，我们这边一些重要的产品、技术的负责人也都在，那一次，大家都有点拘束，我们也不会去说做两边的融合啊什么的，绝对不能提融合，就大家say hello，认识一下，就是这样的一个过程。</p><p><strong>极客时间：</strong>当时从商业上是计划百度外卖单独运营是吧？</p><p><strong>张雪峰：</strong>其实更多是从业务上，主要是业务上的重合度比较高，当时并不是说要把百度外卖独立一个品牌，而是希望两边的份额1+1&gt;2，形成效应。</p><p>因为那时候饿了么已经被美团反超了，我们希望能追上美团，再实现反超。其实更多还是指望百度外卖在北京的份额，上海是我们占优，北京是美团占优，但百度外卖在北京做得很不错。同时，百度当时也有一个做团购的团队，后来关掉了，叫糯米，所以当时是形成了一些联动效应的。</p><p><strong>极客时间：</strong>最后耿艳坤他还是离开了。</p><p><strong>张雪峰：</strong>我也尽力了，但确实不是我可以挽回的。</p><p>我们去做尽职调查的时候，技术+产品只是耿艳坤一个人来。做尽职调查，你也知道，即使你很温和，不咄咄逼人，对方可能也会感觉是有一点不爽的味道。因为我自己也有感受，我们被阿里尽职了两次（一次是投资，二次是收购）嘛，就是打破砂锅问到底。</p><p>当时也问了艳坤一些问题，我尽可能温和，但有些问题没办法，你肯定要问各种数据，以及他们做的同城多活怎么样之类的，这样的问题。我知道他们肯定是不爽的。我当时就想百度外卖干脆就让他独立搞一块。</p><p>但后来他闪电离职，没办法，我必须直接接管。最近我不是做“中介”吗，给大家搭线介绍工作，我也问了当时北京那边的同学，他们跟我说开始是很不信任我的，即使撸串也撸过了，喝酒也喝过了，但是他们还是感觉不信任的，估计感觉我们都是土包子，肯定会用土匪的做法。</p><p>第二个大家可能的感觉，就是因为你们艳坤才离职的，谁知道是不是你在里面使绊子。但这个我没法解释，就跟我离开阿里这个事情一样，我没法解释，即使解释了，局外人也不会相信，或者更倾向自己的推测，哪怕是善意的推测。</p><p><strong>极客时间：</strong>你怎么评价百度外卖这个技术团队？</p><p><strong>张雪峰：</strong>他们的工程师，确实比我们甚至比阿里更“工程师”。阿里很多时候还要受运营的限制。</p><p><strong>极客时间：</strong>所以从技术实力来说，饿了么需要这批人吗？我听之前在饿了么的人说你很看中百度外卖的这批人。</p><p><strong>张雪峰：</strong>是的，而且他们并没有太辜负我们的期望，就按平均线来说，我们确实是逊色于百度外卖这支团队的，就是在个人素养、团队文化这方面。</p><p>当然这是排除饿了么几个特例团队的啊，比如兰建刚（ 原饿了么中间件团队负责人）带的中间件团队，还有石佳宁（原饿了么中台技术团队负责人）带出来的中台团队比我们平均线要高一些。</p><p>我就说素养这个东西，因为他们本身的背景，很多都是通过校招进去的，有忠诚度，还有经过百度体系的洗礼，而且他们对技术的纯粹要比我们强。</p><p><strong>极客时间：</strong>你觉得百度外卖技术团队的平均技术素养是比饿了么要高。这个技术素养是什么可以再具体讲讲么？</p><p><strong>张雪峰：</strong>这个技术素养我认为就类似于基本功，百度的人才是体系化培养出来的。饿了么其实都是江湖上搜刮来的，收购百度外卖之前我们团队有一千多人，怎么来的？在上海哪招得到那么多互联网人才啊，在上海你挖不到人的，那时候拼多多还没起来，拼拼多起来后，我也去挖人。</p><p>基本上海所有相关的企业包括eBay、大众点评，我们都撸了一圈了，没人了，至少没有合适匹配的人，另外顶尖人才不在其列啊，因为这是极少部分，到哪都很难挖动。没人你只能去招非互联网行业的人，包括外企的、民企的，非互联网的传统企业技术人员，基本功确实有点参差不齐。</p><p>这还是跟培养体系有关，百度就是中国特色培养出来的有很扎实技术基础的一帮人，它是相对纯粹的工程师文化或者叫工程师驱动文化。工程师文化相比技术文化会让技术人员感觉更好一些，工程师可以决定大部分的事，包括延期这些事都能决定。</p><p>如果非要说国内有一家一定规模公司的技术团队能在文化和底蕴上稍微接近一点Google，那绝对非百度莫属，华为、阿里、字节、腾讯还是要差一些。</p><p>而且他们很多校招进去的，校招进去培养是最好的。举个例子，你看金庸小说，为什么郭靖这么一张白纸能够练成那么厉害的武功，黄蓉这么聪明的人反而练不好？一张白纸好搞啊。江湖上混了五年的，即使不是老油条，他也有惯性思维，就像我，我也有惯性思维，即使反复提醒自己换位思考，也不是很容易接受新的一套东西重新开始的，我会认为我总是对的。</p><p>很多人都在百度待了8年10年12年没有换过公司，一是忠诚度，二是他们从一开始还是蛮注重工程师培养，不是催命三郎马上要你做交付的，当然现在可能有点不与时俱进了。所以，培养体系非常重要。</p><p>我们没时间搞，因为我们整天在收购被收购、融资被融资，我们只能说靠一些 Senior（高水平）的人去平衡这种技术风格，尽可能把它们聚合在一起，但其实我们更多的还是靠一些Leader的个人能力和职业素养，而不是完全靠组织培养，因为一是人才来源成分复杂，二是没有稳定周期。</p>",
        article_title: "01 | 收购百度外卖：“土八路”收购“正规军”",
      },
      {
        title: "02 | 饿了么上海本土团队和百度外卖北京团队的冲突",
        id: 430934,
        content:
          '<p><strong>极客时间：</strong>我看过当时饿了么和百度外卖发的组织架构联合的通知，一共6项任命，有4项是和技术有关的，这是你们稳定百度外卖技术团队的手段吗？</p><p><strong>张雪峰：</strong>对。因为百度外卖收购价格差不多就8亿美金，离他们原先估值差很远，相当于除以3~4了，期权一下子就贬值了，所以他们其实是需要安抚的。最主要安抚的倒不是业务团队，主要还是安抚技术团队。有些同学说，钱不是万能的，但至少是对他的尊重，这个有一定道理。</p><p>回过头来讲，说直白点，当时稳定团队你至少从钱上要表现出诚意。说个小插曲，在阿里收购我们之后，有一天，新的CPO说了一句话，从来没见过像饿了么这样的公司收购一个团队，给出这么好的补偿方案。</p><p><strong>极客时间：</strong>什么补偿方案？</p><p><strong>张雪峰：</strong>我们当时一是给兑换期权，应该不是完全1:N，但更重要的是我们给了现金补偿。当然现金补偿是有限制条件的，比如说一年内不能离职，逐月发给你，相当于就锁定一年不要走，当时这个策略还是相当有效果的。</p><p>在宣布收购之前，我们内部其实有激烈讨论，我们要商量Announcement上写什么，其实要解决的问题很简单，就是看给北京团队什么地盘，因为钱的尊重问题解决了，接下来和钱一样重要的就是地盘尊重问题了。从业务上讲，大家都是重叠的，也都知道业务很好说，就是先不重合，比如北京以百度外卖销售为主、上海以饿了么销售为主，还是维持现状，大家不变就好。</p><!-- [[[read_end]]] --><p>但是技术团队，我要提前考虑起来，因为我要留住这么多的核心技术人员，其实这一点上我跟公司有些分歧，但最后CEO、CPO他们还是支持了我的建议。</p><p>我提了一个比较激进的方案。这也是后来上海同学可能心里会感觉有一些失落的地方吧，我把两个很重要的团队：新零售和物流的一号位都给了北京。</p><p>关于新零售，我们原来也在做，其实这个是饿了么首先做出来的，就是可以在商超买东西，不光买吃的，还能送卷筒纸，送饮用水，送药，还有送充电线，我们手机充电线一直卖的很好，所以我们叫新零售，现在饿了么和美团都有。在这块业务上，两边都差不多，都有一摊。反正我们开电话会议讨论了很长时间，后来公司也是冒一定风险同意了我这个方案，就是把新零售、物流的一号位给北京的同学。实际上，新零售不止一号位，连整个技术团队都交给了北京。</p><p>后来百度的同学也觉得很惊讶，就感觉居然能够给到我们这样的一个地盘，这个可能比钱更重要，我是这么想啊，但实际不一定，没有钱的尊重，可能都走不到地盘尊重这一步。他们的惊讶在于，认为这是根本不可能的，就是当时没有这样的期望值，觉得能不血洗已经不错了，也做好走人的准备了。</p><p><strong>极客时间：</strong>那上海的新零售团队呢？</p><p><strong>张雪峰：</strong>后来我们就准备把上海的新零售取消，当然这些同学我们会去安置，当时也走了一些人，事后把整个新零售技术线，全部交给北京，上海团队就等于Close掉了。</p><p>还有更重要的是，我们把物流一号位经过讨论也交给北京了。虽然两边都有物流团队，但一号位大家是非常在意的，你交给北京很多人就会解读是北京物流做得更好，但其实不完全是这样。这两项任命，就相当于把上海的地盘剥离了很大一块。</p><p>上海物流团队的人数跟北京相比还是多的，因为一号位给了北京，上海那个Leader差点离职，他说凭啥？他说你这不“丧权辱国”吗？但是从这个谈判来说，你收购了就是你的人，这不是“丧权辱国”。所以我当时坚持做了这件事。</p><p><strong>极客时间：</strong>为什么要这样坚持？</p><p><strong>张雪峰：</strong>为了留住北京这个团队，我不管商业上怎么样，Mark给我两个目标，一，留住技术团队；二，业务上做融合，这个不全是我的目标，后来我们空降了一个CEO过去。所以在我能力范围内，用我当时能平衡好的方式，换句话说，即使上海团队有诸多不爽，但我能控住大盘，就这样基本留住了北京技术团队。</p><p><strong>极客时间：</strong>上海的同学有说过，觉得你太照顾百度外卖的人了，他们其实有点委屈。</p><p><strong>张雪峰：</strong>是，准备收购的时候，我去过北京，回去后跟上海同学说起，确实有点数落上海同学的味道，我说你们看看你们所在的高级写字楼，下面就是地铁，周围商业繁荣。你们再看北京的同学，在上地办公，四街五街周边，简直就是五线乡镇感觉，最多就是有几栋高楼的乡镇。</p><p>我说我在那边骑自行车，尘土飞扬，你们看看百度外卖同学，天之骄子啊，人家技术那么强，在那么恶劣的环境，人家把百度外卖做得那么好。我当时还专门做了一张表格，对比这两个团队，给上海同学们这样说。</p><p>但后来上海同学还是怨气很大，感觉我太照顾北京同学。因为他们跟北京同学接触之后，去过上地五街之后，就感觉没你说的有那么多土、外面环境那么恶劣啊。当时链家也在那，隔得很近嘛，就感觉楼都挺不错的。</p><p>上海同学说我偏心，还有一块跟Hackathon有关。饿了么每年都会举办一次Hackathon，百度外卖加入进来后，我们要看是在北京还是上海进行决赛，当然老员工们都希望在上海，后来我坚决反对，就拍死了，说必须在北京，你们的差旅费我跟公司去搞定。差旅费并不便宜，因为大部分是上海这边的人，上海参赛的人多，所以大家很不爽。</p><p>大伙说我偏心，还有一个细节：每天参赛团队都要提交代码，每天刷评分，只要百度外卖同学上来，我就会在群里鼓掌，上海同学我是一概没有的，类似于这种。在会上我也说人家才多少人，你们丢不丢人，你们是做基础设施的，人家百度外卖的同学都是做业务的，他们做中间件的参赛很少。</p><p>回头看，决赛到北京，其实有点劳民伤财，但对于南北一家亲以及两边团队的后续融合，我并不后悔。这方面我们很舍得投入，我也感谢公司，这一届比赛在组织上我也是做了很多努力，有些地方我比较独断专行。</p><p><strong>极客时间：</strong>你刚说到对两个团队的对比，还做了一张表格，都比较了什么？</p><p><strong>张雪峰：</strong>我可以发给你，这张表里，百度外卖北京中心叫TPU，技术就是T（Technology），P（Produce）是生产，U就是是UED，它们是合在一起的，所以叫TPU。收购百度外卖前，我们有上海研发中心和北京研发中心，当时饿了么的北京研发中心在望京，由史海峰负责。</p><p><img src="https://static001.geekbang.org/resource/image/bc/22/bcc359554e0fd4419828d8809fb95022.png?wh=1916x1646" alt=""></p><p>这个表格里，可能少数也有夸张成分，就是想和饿了么同学讲包容、换位思考。</p><p><strong>极客时间：</strong>你觉得百度外卖做的还是很不错的。</p><p><strong>张雪峰：</strong>其实针对我们外卖行业，我一度也怀疑是个伪需求，真正把伪需求这个“伪”抹掉的，就是百度外卖，因为他们开始做白领市场。</p><p>我们和美团一开始都没意识到这个，就做高校的生意，因为对于高校学生来说，培养习惯就一点：价格，但价格恰恰是商业模式双刃剑，尤其是伤害远超过它的收益，所以不能只靠价格血拼。在上海，高校周围也有一些商业区，我们去扫楼，那个商业区的楼是很难扫的，所以我们当时感觉白领市场肯定做不起来。</p><p>我们感觉白领看不上外卖，因为那时候还没有现在这么精美的包装，你现在看很多火锅外卖都很精美的，包装就值这个价。但那时候外卖都是白盒子，还被人吐槽说你们造成环境污染。所以我们跟美团就在高校硬干，你低一块钱，我少5毛钱，就血拼，没啥奇招。当然了，全国大网下的无数区域网格精细化运营，极其考验组织能力、运营能力，不是有钱就能砸出稳定市场份额。</p><p>外卖一开始做高校市场是绝对亏的，如果我们一直做高校一定死无葬身之地。百度外卖的逻辑其实蛮有道理的，我认为整个行业应该感谢百度外卖。百度外卖做白领，虽然还是亏损，但一下子找到了商业模式，因为客单价上去了。</p><p>我跟你说，开餐饮是很苦的，虽然毛利是有50%甚至60%，但是房租、人员成本都是很大开销，所以商户是比较欢迎让别人去配送，就是不要让他们自己去配送，他们想人越少越好。房租和人员成本这两个去掉，之后的毛利可能只有20%甚至15%，另外，平台还有费用，比如：佣金、物流、广告、营销等等。</p><p>其实饿了么本质上跟携程是一样的，就是抽佣，但携程客单价多高？虽然机票是薄的，但一般用携程订机票的有相当比例会用携程订酒店。度假就更高了，上万都可能。所以客单价真的是决定命运。你总要找到商业模式，要赚钱的，你可以现在亏，但不能看不到尽头的亏。</p><p>一个商业的正循环，一定是要有持续、合理的需求，确实C端用户能接受外卖，有这个需求。我自己刚开始感觉外卖可能是伪需求，所以我这人做商业大概率一败涂地。包括Mark已经是非常有商业头脑了，但是他一开始也没有铺开做白领。因为白领客单价上去，意味着补贴也要上去。一开始肯定是要砸钱，刚开始，白领砸的钱可能更多。</p>',
        article_title: "02 | 饿了么上海本土团队和百度外卖北京团队的冲突",
      },
      {
        title: "03 | 不够果敢带来的内耗",
        id: 430940,
        content:
          "<p><strong>极客时间：</strong>我们前面说到血洗这个词，大家为什么觉得会被血洗呢？收购案例中血洗的情况比较多是吗？</p><p><strong>张雪峰：</strong>血洗这词或许夸张了点，大家明白意思就行。收购本身就是后妈养的，很正常。很少有被收购还能占主导地位的，单个人或小团队这种情况是有的，但是如果说美团当时把百度外卖收购，美团只会用更激烈手段。它跟大众点评是互补的还好一点，但是美团收购点评的时候也闹出了很多动静，而它跟百度外卖几乎是重叠的。</p><p>当时我们收购之后，其实想着这就是和美团最后一波PK了。</p><p><strong>极客时间：</strong>针对百度外卖技术团队，做了这样的决策，最后从结果上看，达到你的预期了吗？</p><p><strong>张雪峰：</strong>整体上讲，等于把上海的利益切掉三分之一给到北京，仅从一号位角度看，给了北京两块肥肉，尤其物流这块最肥的肉。其实从组织上看，物流就是上海和北京要做融合，没有裁撤任何一边物流，但上海的新零售裁撤掉了。</p><p>最后百度外卖技术团队留下了三分之二，也算是稳住了。尽管我们做了这些努力，最终还是有大约三分之一的人走掉了。其实刚开始没走三分之一那么多，刚开始只是几个Leader离开，我都是一个个谈，但后面他们还是走了。</p><p>他们大部分去了顺丰（跟随原百度外卖CTO），不去顺丰的话，主动离职不多。但耿艳坤还算比较仗义的，后来我跟他还有接触，他没有一股脑把人带走。你想，即使我们给了现金待遇，即使我们给出了地盘，但如果他要带走他这些嫡系，应该也不难。所以我后来感觉他还算做的ok的，没有说他一个人走了之后就把团队搞残了。</p><!-- [[[read_end]]] --><p>否则的话，没有管理层、没有中坚力量，你如果只留下400个兵是没有意义的。一我要从上海派人，或者我再去北京招人，但北京我不太熟，如果发展到这个地步，那业务交付就比较麻烦了，要是把上海同学派过去的话就不是出差了，而是Relocate，更麻烦。</p><p>但这样如果还留不住，我也没办法了。有几次开全员会，我说我没法让你们完全信任我，只能日久见人心了，到底我是司马昭之心还是日久见人心，看我后面的行动。</p><p><strong>极客时间：</strong>除了留住了这么多人，从商业上这次收购其实是不成功的。</p><p><strong>张雪峰：</strong>我们第一个目的，就是把它的份额叠加过来，后来发现效果不好。第二个要做的，就是留住人（主要指技术团队），减轻上海技术团队巨大的招聘压力，那时在上海能招到合适的人，已经非常困难了。所以对收购这件事啊，从商业上是失败的，从技术团队来说我打70分吧。这是在我当年能力范围内能做到的最好结果了。</p><p><strong>极客时间：</strong>感觉你是有遗憾的，打了70分，如果让你现在做决策的话，你会做不同的决定吗？</p><p><strong>张雪峰：</strong>回过头来，如果我现在去做这件事，我可能会在适当的岗位做些牺牲。</p><p><strong>极客时间：</strong>怎么讲？</p><p><strong>张雪峰：</strong>因为当时给我们的时间很少，业务压力巨大，和美团白热化激战，我们要快速做决定，要给什么地盘，而且这些人没怎么共事过，相当于你要做一些赌博的。后来证明，我们把物流一号位给到崔代锐，利弊各半。</p><p>有一次我们在外地开会，他在房间跟我说，雪峰，我可能要走了。我说为什么？他很坦诚，因为其实他也预感到我对他有一些不满。因为代锐到上海次数太少，一是对上海的技术团队管理不够，二是参加业务少，因为业务的总部在上海嘛，这个是被团队诟病的。后来我问他为什么，他说因为家庭原因很难频繁地到上海。最后他离职还有一个原因，他说，雪峰，我个人的兴趣还在AI算法，我对管工程团队其实有点力不从心，我兴趣不大。</p><p>当时那个背景下也是赶鸭子上架。相当于说我们认为他有一定潜力，当然这个潜力是有一点点因为要考虑两边团队快速融合，同时稳住北京物流团队。其实我知道对代锐来说，是有一些拔苗助长的。所以后来相当于这个对于潜力的尝试是失败的。当然代锐也稳了团队一段时间，虽然开始很艰难，也被业务产品同学反复Challenge，但后来北京的物流团队开始形成一定战斗力了。</p><p><strong>极客时间：</strong>所以说重新再来的话，你会重新安排一些人。</p><p><strong>张雪峰：</strong>事后诸葛亮吧，比如说代锐，其实我是知道让代锐担任一号位可能有一点难度，但是因为百度内部自驱还是比较强的，他们工程不需要太费劲。蒋凡（曾任百度外卖研发中心高级研究员）也在帮他一起搞。全世界第一个外卖智能调度，其实是百度外卖做出来的，就是蒋凡和崔代锐他们搞出来的，饿了么和美团是后面才搞出来。</p><p>所以如果让我重来的话，可能就安排别人接了，但这样可能会对北京的物流团队有不小冲击甚至解体，因为收购后流失的骨干，相当一部分来自北京物流团队。当时为了全局稳定，我们一下子把这两个一号位给了北京团队，当然对稳定团队还是起到很好效果。</p><p>我现在感觉，到底孰对孰错分不清了，也不好说，历史没有如果。或许我当时狠一点，即使这些同学走了，但是对于公司可能是好事，当然了，也可能上海一直招不到合适的人，业务交付更慢，因为当时内耗很大，上海的同学和北京的同学都互不买账，对立程度甚至超过了后来口碑团队跟饿了么技术团队这种味道，因为饿了么毕竟是被阿里投资过，不是一下子收购，而百度外卖是瞬间就被收购了，没有任何技术融合（饿了么和阿里云前期还有技术交流）。</p><p>就是因为这样一下子收购，我一直不敢做大尺度融合，当时可能有点逃避心态，就是为了照顾两边的情绪。</p><p>但后来我们也产生信任感，最后他们跟我交心的时候就说很感谢，其实是我为了留住他们，增加了团队内耗。</p><p><strong>极客时间：</strong>所以你会更果敢一些。</p><p><strong>张雪峰：</strong>我那个妥协可能是，如果按两个极端来说，一个是0，一个100，我那个偏的度呢可能已经逼近20了，那最好是在45-55之间游荡，按上海同学想的就应该保留90，你最多给他们10，从单量考虑也好，从其他角度考虑也好。但其实如果论单量，百度外卖全部砍掉也不可惜，就是说这个技术团队我不要了，但我们收购是为了啥呢？至于收购之后在商业上并不成功，那也是后话，没有谁能穿越历史再来一次。</p><p>我没有做到我个人心目中理想的45-55之间这样的一个balance，我一直在努力，但这件事上，现在回过头去看，如果以我现在阅历，可能会做得更好一点，但终归影响不了大局，包括之后饿了么被收购这个终点。</p><p><strong>极客时间：</strong>所以正常的操作方式还是会像阿里或者美团那样。</p><p><strong>张雪峰：</strong>对。阿里其实在本地生活上反而没怎么操作，所以昆阳（王磊，曾任阿里本地生活CEO）相当于包容了我们好几年。</p><p>美团收购点评这件事情绝对是做的很漂亮。那时候团购这个东西已经江河日下了，美团收购点评的时候自身业务已经往外卖倾斜了，而且点评跟美团的业务互补性还是比较强的。但是饿了么跟百度外卖真的没办法，90%-95%业务重叠，必须要有人动，除了这些技术团队。</p><p><strong>极客时间：</strong>收购百度外卖后，你会经常到北京吗？</p><p><strong>张雪峰：</strong>对，我不知道你去过上地没有。上地信息路一直过了三街，五街是彩虹大厦，再往前，六街大概是百度地图，七街道有个拐角，拐角有一个CityGo，那时候那边成了饿了么的据点，就一直在那。</p><p>技术融合之后，我最多的时候一周半到两周就要去至少待两个晚上。后面该走的也都走了，团队稳定下来之后，慢慢的就不用去那么频繁。</p><p>其实这里面还有一个插曲，本来我跟耿艳坤说，我们还是两条线，你还是汇报给你那边CEO，我们融合就先别谈。先把耿艳坤留住，大家留人都是先留核心团队。而且我也知道他也是江湖味很重的，兄弟感情很深，留住他就ok了，后面稳定再说。</p><p>但是很麻烦的是我们的HR体系居然也割裂了，就是我们两边各有一个HRBP。这件事情其实也是蛮为难的，我相信Mark也是思索良久最后做这个决定。</p><p>后来，过了好一段时间，北京那边的HRBP走了，才慢慢把北京的HRG这条线给收起来，所以当时我同时要对接两个HR。我们半年有调薪晋升，每次这个时候，我都要用Excel跟两个人去对，还得拆开来，不能互相看到，就很痛苦，每次到晋升季的时候要选评委也是个很头疼的事。所以这里面内耗也蛮多，就是不得已的这种内耗。</p><p><strong>极客时间：</strong>现在让你评价一下坚决留住百度外卖技术团队这个决策呢？</p><p><strong>张雪峰：</strong>我坚决要把百度外卖的技术团队留住，这个决策你可以认为成功，也可以认为是失败，我也不好评判，最后双方的融合还算度过了艰难时期。其实关键是留住人，系统我不是特别在意。</p><p>毛泽东曾经有一句话特别有名，“存人失地，人地皆存，存地失人，人地皆亡”，当然这个人我认为是值得留的人。但这个决策你也可以说，哎呀你们这个拖了很长时间，为了迁就百度外卖，搞得市值下跌，业务也没上去，当然不至于影响最后饿了么这个风向标，因为百度业务量少，你最多就花点钱养着，我们最后也并不是因为百度外卖这几百号员工的工资导致公司被收购。</p>",
        article_title: "03 | 不够果敢带来的内耗",
      },
      {
        title: "04 | “戏剧性”的裁员，反思组织融合之难“难于上青天”",
        id: 430962,
        content:
          "<p><strong>极客时间：</strong>之前我们聊到你说去北京要宣布裁员的事，那个过程是怎么样的？</p><p><strong>张雪峰：</strong>是这样，因为后来阿里收购我们的事情也有一些风声了。在2018年1月份，我是知道收购百度外卖这件事在商业上看来是难以继续了，远远没有达到我们预期的商业效果，当时就等于硬撑着。</p><p>然后春节前都要发年终奖嘛，我们管理层就在讨论这件事，就说可能要准备裁一些人，因为要省一些成本。</p><p>本来是准备要去裁员的，先从百度外卖做起，当然上海团队也要出一定裁员比例。当时我跟汪渊讨论方案，我们先跟Mark开了会，后来我俩又反复核算，说得直白点就是裁员数字，其实汪渊他是让着我的，他那边出的份额多一点，虽然我不太想搞这事，但没办法，上海、北京都要出数字。</p><p>上海那时候资金可能也有点紧张，上海bonus也会有点降，但百度外卖基本就腰斩，准备要去宣布了。那天我和汪渊先坐飞机过去，准备宣布，已经快到门口了，CFO在机场刚刚降落，说立即暂停，你们现在就当什么事都没有发生，听我指挥，等我到了你们现场配合我就行了。</p><p>后来我估摸着（没找CFO求证过），可能跟阿里已经到最后一步了，你这时候去裁员可能会导致一系列问题，收购之前不能出现团队的动荡。所以，后来进去之后，完全180度转变，CFO上来就是说，今天我们怎么样，我们业务怎么怎么样，说了一堆。有同学就提问说，那我们年终奖怎么办？他说如果发不到位，我就xyz。</p><!-- [[[read_end]]] --><p>CFO这么承诺，我和汪渊傻眼了，我们白跑一趟了，来做灯泡了，只能配合他说，我们绝对会重用你们，绝对怎么怎么样。因为那时候两边融合已走上正轨，开始形成合力，所以当时这么说比收购之初更有说服力。收购一个组织，业务是一方面，人也是一方面，百度外卖这个技术团队还是优质资源，也不枉我当年偏心了他们一点。</p><p><strong>极客时间：</strong>所以阿里在收购之前，百度外卖和饿了么融合其实已经就相对是稳定的了。</p><p><strong>张雪峰：</strong>对，至少没有说刚开始就一下子走了一些人。</p><p><strong>极客时间：</strong>还有一个好奇，两个团队融合，语言要求统一吗？这个事情怎么办？</p><p><strong>张雪峰：</strong>饿了么早期用的Python，这还是比较头疼的问题，招人比较头疼，那时候还算有点体量的，就是豆瓣、知乎，我们有不少豆瓣过来的人，靠他们撑起来。后来我们再找不到用Python的人了，就只能用Java，我个人并不喜欢Java，过于臃肿，写代码太难受，但没办法。</p><p>关于用什么语言，也有曲折，没有被阿里收购的时候，我已经基本做了决定，Python、PHP团队转Go，但最后很遗憾，没有实现。</p><p>当时收购百度外卖就面临语言不统一这个问题，百度PHP可以说是国内最强PHP团队之一，百度外卖（核心都是老百度）过来之后坚持用PHP，后来两边折中，我说把上海的Python也废了（当时Python已经有一部分转到Java），把北京的PHP也废了，我们都用Go+Java，皆大欢喜。Java不能取代，不然你招不到人。当然，我选Go也是跟团队聊了很长时间。</p><p>那时候要准备搞这个东西，我们都很兴奋。但后来阿里收购我们，我知道这事儿没戏了，不可能用Go了，阿里核心还是Java。在阿里Go基本只适用于K8S，还有一些纯粹玩技术的团队。我那时候的心情非常低落。</p><p>后来行癫跟我说了一段话，他说雪峰你听我一句，我不是像外界传的那样，非要用Java，大家一直说阿里很霸道，我不是的，你们用Go，用PHP都行，但你相信我，到后面你们会很难受（指各种技术融合、业务接入等）。</p><p>我们其实每一年都在收购或被收购的路上。16年蚂蚁投我们，17年我们收百度外卖，18年被阿里收购，甚至美团也多次要收购我们（指15年美团、点评合并前，一度传闻美团、点评、饿了么三合一）。所以在这条路上你完全不可控的，Mark也很无奈，他也想独立发展。</p><p>所以在这种情况下，我们很多事情是有遗憾的。</p><p><strong>极客时间：</strong>很少有公司能像饿了么经历这么跌宕起伏的过程，特别是对于技术团队来说，经过不断分合，还有比较复杂的融合。如果让你给正处在这个阶段的人一些建议的话，比如计划收购别人或者将被收购的情况下，大家一定要有一个怎么样的心态？</p><p><strong>张雪峰：</strong>我们是先收购别人，我先说这个层面。你作为收购方，一定要有包容性。</p><p>我们收购百度外卖，上海的同学包容性不够，真正有包容性的可能也就是我和汪渊。我知道是大家做的东西重复度是比较高的，他们道理是对的，但是我认为你好不容易收购一个团队，你先观察一段时间。我其实并不是说后面过程上的事，而是你刚开始的心态要有包容性。</p><p>说难听点，你以胜利者的姿态去收购，被收购方总会是难受的。而且至少从技术角度，是技术偏弱的团队去收购技术偏强的团队，那别人肯定不爽。你要说阿里收购我们，其实我们并没有什么受害者心态，因为阿里技术本来就比我们牛逼，虽然做外卖我们更擅长。我们被阿里收购，其实我们当时是有心理预期的。</p><p>被收购的团队，大家也不用太紧张。或者换句话说，你自己设定好期望值就好。</p><p>如果是非常同质的业务，又是棋逢对手，有这个担心是正常的，有必要的，因为他肯定是要把你Buyout，你全部走了都无所谓。但是如果是差异业务的话，即使阿里这么厉害的团队，后来事实也证明昆阳还是比较依赖我们这些老兵的。所以如果你是差异化收购，其实不用担心。</p><p>百度外卖的同学，他们担心的，一是他们感觉很委屈，我们的精锐被你们“土匪”收购。第二，这么同质的业务，他们担心你们只是把我Buyout。其实并不是收购就要Buyout，消灭一个对手，我们确实是希望把百度外卖的业务再做起来，合在一起，技术上更是这样，希望这个团队来补充我们的短板。所以也分两种情况。</p><p>但我是说，站在技术团队整体不如别人的角度，确实你要有包容性。如果我们当时，比如说是百度外卖收购饿了么团队，那除了像做异地多活的团队还有一些存活空间，其他大家就自求保佑吧。</p><p>所以我感觉还是看业务形态，因为技术也是为业务服务。说难听点，业务如果是要签“丧权辱国”的条约，那真没办法，但如果收购是为了补充它的短板还是有价值的。我们正好经历的第一桩Case，是业务重叠度很高的。第二桩是补充阿里的。所以两个经历过了。</p><p><strong>极客时间：</strong>在饿了么这段经历，你自己怎么评价？有什么反思？</p><p><strong>张雪峰：</strong>其实我认为我最大的幸运或者说也算是做出一点成绩的，就是我跟这个团队的融合，我认为是最成功的，在饿了么这个业务上其实并不成功，在技术上也只是尽我们最大的能力做到了，不能说有多好。</p><p>但是在融合方面我对比了像国内其他这样体量的公司，要么就是空降的领导被干掉，要么就是空降的领导血洗现在的一批人，再把另一批人带进来，总之就是反复折腾。</p><p>在饿了么这里，我也有教训，就包括当时收购百度外卖的时候，上面我的做法偏温和，我现在想想血腥一点可能更好，但现在他们跟我私交很好，这也是收获吧。如果当时血腥一点，现在或许早就恩断义绝了。</p><p>当时我沿用了原来在饿了么的策略，快速做融合，那个效果很好，因为那时我相当于是空降，但现在变成百度外卖是收购来的，他们算是被迫空降，虽然不需要取代你的位置，但是他们希望把原来团队各种文化带来（指百度文化）。</p><p>而我们有很多从腾讯过来的人，还有后来阿里进来，还有本土的（指饿了么），本土也有两拨，一拨是我加入后进来的，一拨是最早创业的，这五拨人在一起非常有挑战。阿里收购之后，还有口碑这么大的团队加进来，所以文化融合真的是比较难的问题，甚至是最大挑战，远超过业务融合、技术融合。</p><p>这里有很多教训，我也反思多次。收购百度外卖，从业务看是一个失败尝试，从技术组织上看也有不少遗憾。大概走了三分之一。虽然后面我们尽可能还是把不少百度外卖骨干都留了下来，至少留到他们期权兑现为止，但是当时是有很多内耗的，即使我去强行调节，但两个团队坦率说，刚开始是完全互相看不上的。</p><p>后来到阿里内部也一样，我们被阿里收购，口碑的同学也看不上我们，其实现在反过来想想完全没有必要。反而我们在Leader层还好，我跟白起，白起是原来口碑CTO，我们两个之间倒没什么大问题，但是下面的团队真的是矛盾很大。即便阿里非收购团队内部的组织之间都可能存在这种情况，更何况是我们一个被收购团队，好在我们被收购还有点价值。</p><p>所以现在反过来想真的没必要。我跟你又没有什么仇，但是大家要拧成一股绳真的很难很难，尤其不同的文化。</p><p>阿里、华为应该算国内组织能力非常强的企业了，其他包括美团在内，技术架构、技术能力很强，但组织能力、组织文化都要差一截，包括百度也有这样问题。</p><p>组织融合跟历史很像，以李世民之能力，也不能轻易搞定他老爹之前的班底。并不是说这些老班底没有价值，只是说味道上跟你、包括你的嫡系不那么融洽。所以，我感觉一个组织内部能够真正融合，真的很难。</p>",
        article_title: "04 | “戏剧性”的裁员，反思组织融合之难“难于上青天”",
      },
    ],
  },
  {
    chapterTitle: "CTO职责与成长经验",
    children: [
      {
        title: "05 | 职业成长：从校园到职场的蜕变",
        id: 435053,
        content:
          '<p><strong>极客时间：</strong>我们会很关心用户的成长，我们平台也会有一部分用户，可能刚毕业面临一些职业选择，会有焦虑，会对自己的未来发展方向有迷茫，所以我们挺想从你的故事里让大家去找找自己的答案。</p><p><strong>张雪峰：</strong>我明白你的意思，我用那句话回答你吧，就是“幸福都是相似的，不幸的各不相同”。其实我感觉我还算幸福的，我还没到毕业就工作了，最后一年是在我们教授的实验室里做项目，那时候也算接触了互联网初期阶段。</p><p>但我说的不一定大家可以借鉴，因为这种其实就是硬币的两面，你去做项目固然可以长见识，但也可能你前面三年还没打好基础，把地基打扎实也很重要，这个要因人而异。如果感觉基础没打扎实，那我建议不要直接去外面的企业实习，意义不大。</p><p>只是我感觉我自己还OK，所以最后一年我就去实验室做项目，接触外面的世界了。我们当时做了上海第一个电商网站，那时候电商才刚起来，当然我只是打杂的，在后面做一些东西，能接触到一些不同的技术。</p><p>迷茫也很正常，绝大部分人都是那样，天赋异禀毕竟极少数。沉下心来做事情，多和高手聊、多向前辈请教。</p><p><strong>极客时间：</strong>2000年前后，做程序员对你们来说是一个很好的选择吧？大家都想干这行吗？</p><p><strong>张雪峰：</strong>是，我学的是计算机科学专业，就业还是挺不错的。当时我毕业的时候，1800块已经算可以了，还有600块补贴。</p><!-- [[[read_end]]] --><p>所以到了毕业的时候，我有一点底气。当时我同学有的投了100多份简历，我因为在实验室有项目经历可以写上去，所以还好，我就投了5份，拿到了2个Offer。最后我去了一家初创公司，就在上海交通大学旁边，三个创始人都是交大的。</p><p>那会我就觉得我们老板真的很有个人魅力，我上下班来回通勤要四个多小时，没有地铁，更没有座位，两部公交车都是长距离，一部横穿浦西市区，另一部横穿浦东住宅区，上下班高峰都非常拥挤，那时候也没有加班打车福利，但我也很开心，乐在其中。没别的，就觉得每天工作都能学到东西，都有进步。</p><p>现在大家讲所谓内卷，可能985的计算机专业都不一定有好工作，找工作都讲什么介绍、内推的，我们那时候没有的，搞编程的企业就没多少。大家比较倾向去大外企、大国企或事业单位，那时候民企是很难赚钱的。另一个靠编程赚钱的路子是做共享软件，但能做到一定规模且口碑好的很少，而能靠共享软件赚大钱的，就更少了，印象最深的就是 NetAnts、Foxmail，我自己也一度产生过是否做共享软件赚大钱的念头，还好很快掐灭了冲动的火苗。</p><p>第一家公司是做教育软件的，简单说就是学校校园网的信息管理，包括考勤系统、排课系统、成绩系统，还是能赚一点钱。我们老大，在这我必须提一下大名以表感谢和敬佩，他叫毛向辉（Issac Mao），非常有技术前瞻性，比如说我们是国内最早搞XML研究和布道推广的。当时还成立了一个对应的组织，依托交大和交大学生在外面做布道，我们那时候做布道可起劲，研究各种基于XML的技术和标准，后者虽然很难，但极有成就感。</p><p>同时，我印象中这位老大也是国内最早的Blogger（博客），好像没有之一，够超前吧？虽然第一家公司的业务最后没做起来，但这位老大是对我这么多年职业生涯中影响最大的一位，没有之一。之后我见过无数比这位老大更成功、更有名望、更有前瞻性的技术人，但即使算上王坚博士、行癫、鲁肃这样国内数一数二的人物，也没能再引发我当年那种对技术的无比狂热、无限憧憬，不能不说是个遗憾。</p><p>那时候编程语言的话，主要用Visual Basic、Visual C++，也接触了一些国际化标准，很超前，还有包括局域网这种概念，怎么样把电脑串起来，在这家公司我基本上都体验到。但这家公司后来挂掉的原因之一也是技术（idea/prototype）太超前了，从今天来看都还有点超前，定义了很多教育行业的标准（不只局限于校园网或国内教育相关领域），也做了一些 prototype（原型）。</p><p>第一段工作经历，对我个人的影响，直至今天都是巨大的，也让我在之后二十多年工作中，逐步看清了国内做软件或行业标准的无比艰难，从此不再有奢望。</p><p>这中间，我还经历过Leader离职，他也是创始人之一。那时候我很震惊，感觉是不是公司快倒闭了，因为有一天他突然跟我说，雪峰，我可能要离职，部门交给你了。我很懵啊，我都没管过人，但后来还算顺利，因为主要是CEO有人格魅力，对我非常信任。</p><p><strong>极客时间：</strong>在第一家公司，你是自己在自驱地成长，还是说你前面其实有一个更强的人带着你成长？</p><p><strong>张雪峰：</strong>我自己成长。我的领导人很Nice，他都是把任务甩给我的，就让我自己摸索，我在学校有C++基础。入职后直接给了我一个月，让我做一个制作课件的软件。</p><p>我自己用VC做，我VC上手其实还挺快的，因为我大四实习就用VC，但是独立做一个软件还是第一次，然后我就自己摸索，反正出了很多Bug，还把公司的一些东西误删掉了。后来我就自己折腾用恢复软件，好在恢复出来，没造成大的损失。反正就让我各种折腾，公司氛围主要是老板非常包容。</p><p>所以，还是回来说刚才的问题，我觉得每个人都要走自己的路。刚毕业，没钱、没经验，但是有时间，所以一定要多折腾，怕什么，你一个光脚的怎么能怕穿鞋的啊。</p><p><strong>极客时间：</strong>你在第一家公司待了多久？</p><p><strong>张雪峰：</strong>两年。后来第二家公司也是教育软件公司，做培训+考试的，这也影响了我之后对教育行业的持续关注。现在K12被双减，职业培训就上来了，但都是民间驱动的职业培训，我们那时候职业培训主要靠政府组织，相当于是政府的定点供应商。</p><p>我在这家公司的主要收获，不在技术方面，而在于收入翻倍。但现在看来，虽然工资高了，但是我职业方面的成长几乎没有。</p><p>生活上，我在第二家公司任职期间，当了丈夫，当了父亲，这也是比较大的变化。</p><p><strong>极客时间：</strong>要说技术底蕴，反而第一家公司会更好，对吧？</p><p><strong>张雪峰：</strong>那绝对，第一家公司甚至超过了我自己“掌勺”的饿了么，因为饿了么我有很多要迁就的地方，但第一家公司我几乎是可以“为所欲为”的。</p><p>刚才说了，第二家公司除了钱，其实对于我的职业生涯没有太大提升（接触Delphi是唯一亮点）。那时候才开始思考自己的成长问题，因为第一家公司给我的成长空间太大了，之后包括微软、饿了么在内，都没带给我这么大的技术成长空间，导致我的期望值过高，第二家公司虽然薪水双倍，但兴奋不到一年也就淡了，然后就投简历去了。</p><p>后来到第三家公司，让我知道了什么叫正规化作业。第三家公司算是外企，名义上是外包软件公司，实际上也是有自己核心的东西。他们是用B/S架构，后来才知道原来美国这么先进，人家B/S早就已经如火如荼了，我们国内还在C/S呢，真是落后。</p><p>现在你说AI、云计算这些是不是落后美国五年，我不好说，可能国内看着好像很繁荣，其实也有水分的。但我们那时候感觉真的是美国先进，他们包括3层架构、4层架构、N层架构，我以前只是听说过，没有实践过。</p><p>那时候还没有感觉外包公司那么烂，现在外包公司就不怎么样了。那时候互联网公司没人愿意去，就感觉朝不保夕，因为我们被2000年“.com”泡沫吓怕了，那会造个网站就能融资的，2000年绝大多数就挂掉了。尤其在上海，以前的毕业生大家都希望去金融企业，去世界500强。</p><p>不过，第三家公司我得到了晋升，很正式的，要去答辩的那种。我感觉那次的兴奋度超过了我在第二家公司薪水翻倍那次，因为双倍薪水的快感没多久就淡了，举个不恰当例子，那些财务自由的同学们，估计过阵子就淡了，心中依然期待财务双倍自由、财务无限自由。但晋升通过我是感觉很意外的，因为当时基本没抱什么期望，就当走过场，后来晋升了之后，就让我独立带一个项目，开始跑客户了，不是做销售，主要是了解、分析需求，和客户对技术方案。</p><p>我还记得我那时候的领导是一个女孩子，岁数比我稍微大一点，她英文非常好，我有一天跟她说我要走了，她说是不是去微软？如果你去微软我就不拦你了。那时，好多 .NET 程序员，最大理想就是去微软。</p><p>其实我去微软也有曲折的，去微软是面第二次才进去的。第一次面试对我打击特别大。其实我并不想去做顾问或做微软的架构师，我一直想做微软的研发，就做它的核心软件。微软那个时候有个成立不久的亚洲工程院（ATC），主要是做一些工具，比如Visual Studio，我很喜欢。当时面试我准备了很长时间，但最后没过，对我打击太大了。</p><p>那个时候，我一直期待邮箱里收到一封邮件说经过怎么样怎么样我们决定怎么样怎么样，但后来等了一段时间，终于等到了一封“感谢你”，之后整个人都不好了，很长一段时间没缓过劲来。</p><p>你看，这就是我经历的较大挫折之一，之后还有很多，包括饿了么期间。我真心觉得我天资普通，普通人怎么可能那么顺利呢？这次失败之后，我也在复盘、调整自己，当时我还想了挺多东西的。具体就不和大家说了，我想换作任何人，那个年龄，遭遇失败，都会反思。</p><p>失败没有价值，失败之后的反思和行动才有价值。</p><p><strong>极客时间：</strong>那个时候你觉得自己技术很厉害是吧？</p><p><strong>张雪峰：</strong>我感觉还行，我那时候写文章也有些读者，文章的阅读量也还可以。那会很少有左耳朵耗子这样的持续布道牛人，当时我们就自己买书研究，书都不便宜，比如说Windows核心原理、MFC编程这种东西，这些对我来说问题不是太大，也有兴趣研究。</p><p>后来第二次面试，面了5轮，我拿了Offer，去了MCS（微软咨询服务部）。当时这个岗位要出差，我那时候还比较傻，我说如果出差是不是要我自己出路费住宿费餐饮费什么的，有没有出差补贴就更不敢问了，老大说这怎么可能？全部是公司出。因为以前没出过差，就闹了这么个笑话。</p><p><strong>极客时间：</strong>你在微软待了几年？</p><p><strong>张雪峰：</strong>5年半，后来就出来创业了。其实我最后几个月已经跟北京的HR说我准备离职。HR说，“雪峰，能不能帮我个忙，最近离职太多了，我有指标压力，你能不能延到明年1、2月份，或者3月份再离职，或者到时候我们再沟通一次，能不离职就更好了”。</p><p>我说我现在没法干微软的活，我也不好意思拿微软的薪水，因为接下来上班时间我要去搞另外一个事情，她说没关系，你可以做你的事情，没有薪资，但公司给你交社保公积金，微软这方面做得还是非常好的，后来接触多了，发现名声好的外企这方面都差不多。也因为这件事，我知道了一个专业术语：No Pay Leave。</p><p>那时候发现还有这种操作，真的很牛。我后来在饿了么也尝试这样的办法，为了留住一些员工，我会说先让他做自己喜欢的事，哪怕回老家休息都行，我给你把社保交了，让它不要断。</p><p>这里，和年轻的朋友说下，社保真的很重要，千万不要等闲视之，即使决定要离职休息几个月，也尽量通过第三方平台自己续上社保。我面试的时候，对于断过社保的同学会打个问号，因为我会想，这哥们是不是目光短浅，还是说家里有几套房？</p><p><strong>极客时间：</strong>微软这份工作给你带来最大的收获是什么？</p><p><strong>张雪峰：</strong>我认为最大的收获不在技术上，而是在视野上。因为我进了一个需要去一线的团队，需要自己解决各种问题，我要跟客户去解释，你这100万花得很值，接触这些东西，让我知道这是在做一个Business（生意）。</p><p>我以前是一个很纯粹的工程师，虽然我在第二家公司第三家公司也去客户现场，但那只是了解需求，还是为了代码服务，但我在微软的时候，才知道做成一个Business有多么艰辛，哪怕已经完成签约、只是完成一个合同上的Milestone（里程碑）让客户验收通过、客户最终同意公司寄出发票、公司确认收到客户打款等等，都很艰辛。</p><p>刚进微软时太天真，以为只要用Windows或Office的客户，那还不是手到擒来？只要自己嘴不太笨、整体架构不太烂、适配好所有上下游接口（那时相当多精力需要花在这上面），IBM、Oracle这些公司不都得靠边站？但是最终，每次的客户现场，都给了我最大锻炼。说人话就是，分分钟教你怎么理解业务、做好乙方。</p><p>微软这段经历之后，我发现永远是人适应环境，不可能别人来取悦你或适应你。我那会也算做了半个售前（另外1/4个架构师+1/4个程序员），喝酒也是商业的一部分，这个东西只要在国内就很难避免，你就要去适应这个环境。即使我在饿了么有不小的“权力”了，但我也必须经常去适应别人（当然不是喝酒），还有业务团队。所以我变得真正发自内心愿意，而不是忍受地去适应，这是对我最大的触动和改变。</p><p>还有，我们经常说去大公司学技术，我觉得不只是这样。对于一个工程师而言，技术是立命之本，但商业、管理这些东西也很重要，有机会，你还是应该跳出技术，理解技术之外的东西。</p><p><strong>极客时间：</strong>你刚才说忍受着去适应到发自内心地去适应，这应该是你成长中的一次变化，至少从微软这段经历来讲。</p><p><strong>张雪峰：</strong>对，因为我以前也经常不能换位思考，比如夫妻吵架。其实我刚从阿里退下来的时候，我跟我老婆刚过两人世界，吵架反而越来越多，后来和好，我老婆跟我总结说，以前有你爸妈在带小孩，你又在外地，念你辛苦，回来你累得要死，我也不找你发火。现在闲下来了，火气越来越大。后来我也知道她只是要找一个倾诉者、倾听者，这在企业里面也类似。</p><p>我老婆和我有一阵子生气，两个人不讲话，就背对背用微信聊天，有时候我看她只要打表情包了，我就知道怒气稍微下去一点（笑）。换位思考、设身处地为对方着想，真的说易行难，我现在做得还很不够，但是微软这段经历可能是我一个转折点，我知道了商业的不容易，就是知道了在我角色之外的不容易。</p><p>这个词说的简单，我毕业的时候我就说我算是一个很能换位思考的人，因为我有一定的包容性，但大部分还是忍受的包容，你不爽的时候，其实就存在你要忍受了。但是微软让我感觉可以尝试着真的去站在对方的角度思考，因为真正和你因仇恨而撕的人能有多少呢？</p><p>很有意思，你看，就同样一个事情，你心态一变，结果马上就能发生变化。</p><p><strong>极客时间：</strong>刚开始到饿了么整体感受如何？</p><p><strong>张雪峰：</strong>饿了么我是很有感情，我不是饿了么第一任CTO，其实饿了么第一任CTO是科班出身的，听说他有点完美主义，跟现在很多架构师也是一样，希望完美地去上线，但是Mark（张旭豪）希望快点上线，先做出一个版本来（饿了么创业时就有MVP萌芽），我听说两人意见不一致。</p><p>后来是Raymond（汪渊）接任CTO，他的第一家公司并不是饿了么。他的经历很有意思（之前InfoQ还拍过一个<a href="https://www.infoq.cn/video/9giixvfyc2ffpvff1e6l">短视频</a>），汪渊在第一家公司干了三个月，然后他觉得没意思，自己也不能掌控一些事情，于是就离开了。这里我说个题外话，他第一家公司的老板叫黄峥，他的直线老板是阿布。所以我跟汪渊说，你到哪都是“真龙天子”。</p><p>他心胸很宽广，其实创办饿了么的这批人都能容人，格局很大，否则他们也很难接受我这么一个中年大叔，我去的时候已经40岁了，他们都是85后，还有90年的，要考虑到也许我们之间可能很难融合，但这个团队最终还是选择并接受了我。</p>',
        article_title: "05 | 职业成长：从校园到职场的蜕变",
      },
      {
        title: "06 | 拆解CTO：CTO的岗位职责",
        id: 435058,
        content:
          "<p><strong>极客时间：</strong>我特别好奇，从你的视角来看，CTO的职责是怎么样的？</p><p><strong>张雪峰：</strong>不同阶段CTO的职责都不一样，这个要注意。经常也会有其他公司的技术同学来问我这问题，我说我只能和你分享我的经验，具体你的场景是怎么样的，得你判断。</p><p>几年前，InfoQ采访我，我当时说了5个点，分别是：找到合适人才、组建合理团队、稳定交付产品、极致经营产品和激发团队。现在我想了想，还是有一些认知变化吧。</p><p>CTO本身有一些共性的我先不讲了，哪怕3个人的公司也要考虑一些技术前瞻、选型、搭建团队，等等，这些都是需要的，不可能说招一个CTO，但是他不搭团队，那就不应该叫CTO了，应该叫全栈工程师。</p><p>这些前提之下呢，我认为CTO的职责主要取决于业务。业务的成长，包括业务规模，也包括它不同的边界方向，还有其他一些杂七杂八的事情，CTO都要看。</p><p>或者我从三个阶段来讲。</p><p>第一个阶段，以我自己的经历感觉，如果公司就是线性增长的话，一个成熟的CTO，他的职责应该没有大的变化。比如说我们从100万单量增长到500万、1000万，一个成熟的CTO他的职责应该没有大的变化。</p><p>什么是线性增长？我解释一下啊，有两种，一种是规模化，一种是你做的业务差不多，只是尝试性的延伸。比如抖音现在做了无数尝试，上面小业务很多，但抖音一直没变，这个我认为也不会有技术层面的大变化。商业层面他可能要去思考，比如做抖音教育和做飞书可能是不一样的，所以这还取决于你的业务。</p><!-- [[[read_end]]] --><p>第二个阶段，就是另外一种情况，你要做的是一个全新的、创新的，甚至大家都没做过的东西，或者说是一个你自己也吃不准的业务，这个阶段我认为CTO的职责可能会有些变化。重点就不在技术选型那些东西，而是你要为3年后考虑，考虑一个新业务的发展。</p><p>这两个阶段的区别是，前一个是有迹可循的，但第二个阶段就是无迹可寻的。到了第三阶段就是CTO变成CEO，因为CTO下一步就是CEO，很少有CTO去做其他角色（转型产品负责人也是个选项），创业不算啊，所以我只讲两个阶段，我没经历过第三阶段，不好讲。</p><p>第二阶段我以王坚博士做阿里云为例，这件事是对他产生挑战的，因为他要说服马云，同时马云也得相信他。做阿里云对他来说就是一个全新的职责，阿里到今天为止，给本地生活给的时间还稍微长一点，给了超过3年时间，剩下可能只有对阿里云是给了超过1年时间做探索。</p><p>以前我记得的，或者我知道的，基本业务1年没达标的话，要么换人，要么砍业务，砍业务可能是有时候为了面子再撑一撑，但人一定是换掉的，不管你是什么级别，到合伙人也要换掉的。所以阿里经常组织架构调整，多岗轮换什么的就是这个原因，就是换人，当然阿里有这个底气可以去试错，是试人的错，不是试业务的错。</p><p>所以对于王坚博士来说这是很罕见的，这对他的考验是：一、他自己要坚信云计算一定是未来，这时候考验CTO的眼光，绝对不是什么技术选型这种。大家说CTO还有一个词叫技术战略，我认为是跟业务相关，你是要决定公司生死的，你现在是“O”，所有的“O”都是决定公司生死存亡的，否则你就是一个执行者，我认为我在这一点上，只做到了一部分，没有完全达到我所说的这个层面。</p><p>我理解的技术战略就是技术跟业务相结合的，云计算表面是一个技术，其实内核是个业务，因为有商业价值。这个不是大家说的那种纯技术战略，比如选一个三层架构还是微服务，选一个放之各种设备都能用的一套代码，这样的技术战略还是比较窄。</p><p>纯粹的技术商业价值有限，最多它的价值是节流，节省成本，但它不会开源，我说的商业价值一定是开源（不是“开源软件”的开源），要能给公司带来商业的收益。包括像饿了么这么烧钱的公司，我们一直也对节流不敏感，如果一家公司要对节流敏感，要么就是出了问题，要么就是它已经很稳定要做一些精细化或人员裁汰。</p><p>我前面说的总结一下就是，第一阶段是大家普遍认为的CTO要做技术战略、团队组织，包括把团队热情激发出来，技术按时按质量交付、保证稳定性；第二阶段你要思考几年后，这个技术怎么快速帮业务实现商业化、突破，技术要去坚定地相信这个业务或支持这个业务做好；到了第三阶段就是CTO变成CEO。</p><p><strong>极客时间：</strong>如果从从业视角看，比如某个人要去应聘某个公司的CTO岗位，那要往他身上安几个职责，比如3个或4个职责之类，可以这样分吗？就像刚才你其实也有说过有组织的建设，有文化的建设之类。</p><p><strong>张雪峰：</strong>这个要看公司那时的瓶颈，不同阶段和不同公司找你去做CTO的瓶颈可能不一样。饿了么当时团队更需要一个Mentor，还有那时候老宕机，要你去解决问题。当然不是每个人都要解决那么多事情的，可能有的公司就是技术影响力不够，想找个人装个门面，或者要上市了找一个CTO，这是几种不同阶段。</p><p>假设抛开这些不同阶段的考虑，我把职责不分优先级地列一下。第一个职责是建组织，甭管3个人还是30个人，你一定要去Build，这个Build可能是Rebuild，有可能是Merge（融合），有可能是水乳交融（更大可能是水火难容），这个是建立组织层面，这里当然包括人才的吸引，因为组织涵盖人才。</p><p>我认为饿了么已经接近水乳交融，百度外卖除外啊，因为在我离开的时候和百度外卖还没有完全水乳交融，我指的是原来饿了么老的团队和我进去之后的这个团队是水乳交融的状态。</p><p>第二个职责是做所谓的技术战略，说的细一点叫技术选型，比如大到云计算这样惊天动地的抉择，小到语言，你都要做决定。其实语言也不小，但我假设是从CEO的视角出发来看技术团队的各种选择的啊，比如语言其实对CEO来说是很不敏感或很难理解的，但做异地多活这件事对CEO是敏感的，因为要花大钱，要停3个月业务，所以目前我认为可以用一个方法来看技术战略的大小、价值，就是：站在CEO角度去看CTO应该要怎么做。</p><p>建组织和做技术战略这两个职责可能最重要。</p><p>以饿了么为例，在第一阶段，我要解决当时团队头疼的组织问题，另外就是解决稳定性问题，当然这其实只是技术层面一小块任务啦。我总结要解决跟纯技术相关的主要就几件事：安全、稳定、性能、可扩展（灵活性伸缩性等）、可管理（运维运营等）。</p><p>关于可管理，说人话就是，无论代码层面还是产品层面，要让你接班人读得懂、玩得转，你这个系统是可管理的，而不是动不动就要靠某一个人、靠一个英雄去搞定，而是可以传承的。</p><p>另外大家提到CTO的职责肯定要包括稳定性，因为稳定性太突出了，尤其对规模化来说，稳定性可能超过了安全性。但我个人认为安全性是超过稳定性的，在饿了么，以前没有太多安全性方面考量，我接到这个任务是因为要解决稳定性的问题，但我进去之后，其实安全方面是花了我同等的心血。这些东西是常规的、本职的工作。我和团队经常说一句话：没有安全性，你连宕机的机会都没有。</p><p>另外，关于组织也涉及到一堆事情，我刚没展开。比如说要提升团队活力，或者叫激情（仅靠激励不持久），让他们能够喜欢自己的这个岗位，包括喜欢你的角色、喜欢你做的事业，这个事还看两个层面，你是喜欢这个过程，还是喜欢结果。我个人更倾向于喜欢过程，因为你只有热爱这个事情之后，才能大概率得到一个好结果。</p><p><strong>极客时间：</strong>总结下，就是一个组织，一个技术战略？</p><p><strong>张雪峰：</strong>其实就是技术的本职和组织的本职，你要做好。因为你是CTO，这三个字母拆开来看，“T”就相当于是在技术层面，不说你写代码最强，至少技术视野没问题，你要自己做过这些东西或至少探索过，这个T你一定要有。</p><p>“C”就是组织层面，你是技术组织里最重要的一号位，相当于出了事你要直接担责的，你要去更多地激发人。也不是说每个技术方面或领域都非常过硬、必须最强，但至少你自己不能不懂，不能太外行，回到本职就是“C”和“T”这两块。</p><p>“O”其实是CTO的第二阶段，公司的命运、公司的新业务是跟你休戚相关的，你并不只是执行。</p><p>但“O”比较难，“O”基本就是公司决策层（最高管理团队），我认为所有的“O”，至少在几个因素当中，它的权重要做到不能忽略不计那种。换句话说，你的团队和结果是要在公司的财务报表里体现或影响公司重大决策的。有很多团队和结果，是根本连上财务报表或影响公司重大决策的资格都没有。</p><p><strong>极客时间：</strong>你刚刚还说到要让团队保证激情，喜欢自己做的事，那你怎么能保证大家都喜欢过程，或者结果呢？</p><p><strong>张雪峰：</strong>我刚说更倾向让大家享受过程嘛，前提是你把他安在合适岗位。不满足的时候只能去调配，组织架构调整只是最后一招，是组织临近腐化甚至癌变的被迫手段，能不组织架构调整就不调整，当然也不可能人人都满意。</p><p>我以前跟团队说，第一你要尽可能喜欢你做的事，你不喜欢做这件事你来找我，真的是这么说。我还跟大家说，如果你感觉在饿了么做技术（包括尝试内部转组后）和在其他公司做技术没啥大差别，哪怕业务相似度高达90%以上的美团外卖，那你真要考虑换个公司（换公司的另一个说法，就是炒老板鱿鱼），当然了，也可能是我和你Leader做得不到位。</p><p><strong>极客时间：</strong>在CTO所有的工作中，你觉得什么事情是最耗费你的时间和精力的？</p><p><strong>张雪峰：</strong>协调。其实最耗费时间可能是开会，但是耗费精力、耗费脑力或者最让我头疼的还是协调。</p><p><strong>极客时间：</strong>什么样的协调工作？</p><p><strong>张雪峰：</strong>我说的协调可能包括大家发牢骚，有些是个人的原因，有些是团队之间的矛盾，包括还有技术跟业务团队之间的协调。当然和业务团队有矛盾我是可以顶在前面，但是有时候是业务团队去投诉跟他对口的那个技术团队，这种情况我就很难办。</p><p>有一次业务团队说，雪峰，我这边缺人，你看你们中间件团队都已经很稳定了，异地多活都搞了，还要那么多人干嘛？后来其实我也有点被他们“绑架”，我就强行跟兰建刚说，我没法完全照顾你们感受，你们要出人去做业务。</p><p>后来建刚被我逼着去调人，建刚也是比较强势，但是他不会不征求意见，尤其是涉及到调人。征求意见的时候大家都不愿意去做业务。后来勉勉强强有个团队去做业务了。最后证明这次试验不成功，业务部门也不满意，被征调同学更不满意，他说我这辈子绝对不再做业务了，不管离不离职。</p><p>因为他们有技术洁癖嘛，但业务那边催得急，他想做得好很难的，就觉得都是些什么狗屁需求、追求代码洁癖有错吗、质量不过关宁可推迟上线等，反正就是各种不爽。</p><p><strong>极客时间：</strong>这种抱怨如果有失偏颇了你会怎么处理？</p><p><strong>张雪峰：</strong>我更倾向于相信他。</p><p><strong>极客时间：</strong>他说的这句话，如果让做业务的同学听到，别人可能会觉得很不舒服。</p><p><strong>张雪峰：</strong>站在业务的角度这样想是对的，但是我很难去强扭、强迫他接受做业务更有价值。当然业务有同等价值，做业务很有意思，只是每个人想法不同。</p><p>中间件团队建立了最扎实的地基，但是他们最讨厌装修。尤其讨厌什么呢？装修也就算了，你让我做中国式装修，每家都要推翻前面的房东，这个他绝对受不了。如果让他统一样式，精装像美国那种房子他也能装，因为一行代码就可以搞定了，但让他天天搞这种又不是完全重复，但是思想又是重复的东西，他就觉得很无聊，就感觉这是对他技术的侮辱。</p><p>我面对的是这种情景，所以我也不强扭，我也不能因为他做这个不成功就惩罚他，因为他毕竟也是勉勉强强来做支援，他也没有说不负责任，还是把这事情干了的，只是说这辈子再也不做业务了。</p><p>除非面临的问题是公司业务技术团队全部离职，必须你中间件团队冲上去了，那没什么悬念，你不做就走人，但没到这个程度，因为组织大了还是有一定弹性。我还是尽可能尊重个人选择。</p><p><strong>极客时间：</strong>在技术跟业务中间，你其实是一个缓冲区？因为一般的业务它总是要求快，对吧？</p><p><strong>张雪峰：</strong>对，但我也不是缓冲区，我就是顶包，这可能是我自认稍微帮兄弟们担起来的点，包括出大的故障我自己扛，或者技术跟业务有矛盾的时候。</p><p>当然我自己团队内部不存在顶不顶包的问题，我肯定要协调他们，不可能所有的事都我来担，也没必要，总是老大自己担责也是有问题的，你不能走到另一个极端，什么都老大担，那小弟就会感觉反正犯错没有成本，就更不注意了。</p><p>饿了么早年这样是OK的，那时候大家比较单纯，而且大家责任心非常强。但是当你团队扩大规模之后，一个是平均素质下降，二是责任心也会下降，这是正常的，这是人的本性。因为地盘就这么多，1800人做这么多模块，肯定是利益分配不均的。</p><p>其实程序员就关心我做的东西能不能跟同学去吹牛。今天你做了一个不成功的东西，和一个天天可以跟同学或老婆吹牛，说这功能是我开发的，这两个事情，对于人的成就感肯定不一样，我不可能让所有人都去做那种天天可以跟同学或老婆吹牛的事情，总要有人去地里面浇水的，去收割的毕竟少。</p>",
        article_title: "06 | 拆解CTO：CTO的岗位职责",
      },
      {
        title: "07 | 对程序员来说，自由价更高",
        id: 435060,
        content:
          "<p><strong>极客时间：</strong>饿了么的技术文化是什么？</p><p><strong>张雪峰：</strong>用一个词来总结就是自由。自由到就是同学不爽，我可以让他换岗之类。但后面我很难做到了，因为没有那么多岗位可以让你随便调，要么就是让另一个岗位挪，要么就是我造出岗位，但这其实是一个很大的风险，因人设岗是可以的，要看什么人，你也不能经常用这种招数，绝大部分情况下，你还是要守正。</p><p>刚开始我可以让同学们吐槽，因为你迁就了这个同学，让他做了自己感兴趣的，有可能他到一个新团队，别人可能跟他配合不好，所以这个也需要平衡。刚开始我基本上尽可能满足同学们的诉求。</p><p>对程序员来说，自由真的是价更高，你要给他一定自由度。</p><p><strong>极客时间：</strong>除了“技术自由度”，还有别的关键词吗？</p><p><strong>张雪峰：</strong>饿了么以前其实是有六个字来代表企业精神的，叫极致、激情、创新。因为我们本身推崇的就是极客文化，刚开始完全按这个来的，因为我们CEO Mark他特别Geek，他特别推崇扎克伯格，特别推崇键盘改变世界这种理念，所以我们都受他的影响。</p><p>技术团队我们当时也总结过一些词，我印象最深的就是开放、自由，我认为开放、自由，这就是我给程序员最大的两个词。</p><p><strong>极客时间：</strong>前面我们聊收购百度外卖的时候有说过工程师的技术素养问题，工程师的基础能力是基本的，除此之外，大家肯定也要有一些其他的软技能，你觉得比较重要的软技能都有哪些?比如沟通能力算不算？</p><!-- [[[read_end]]] --><p><strong>张雪峰：</strong>沟通这个词比较泛，举个例子，比如说最简单的Presentation的能力，不管你晋升述职还是跟老板汇报，PPT是绕不过去的，虽然很多人讨厌这种方式，但你绕不过去，因为你要让别人知道你的想法，不可能上来都是Demo、代码，这不行的。一是写PPT，二是把它讲出来。</p><p>大部分的工程师都是受Linus Torvalds（林纳斯·托瓦兹，Linux之父）的影响，在不想沟通或者自己不擅长沟通、表达、分享的时候，就扔出来那句话，“Talk is cheap,Show me the code”。其实，这句话有他的语境，你看Linus的表达能力是很好的。所以，我和团队说，“Talk is important”。</p><p>加入阿里后，我也参加过几场晋升述职，去担任评委，人家PPT几乎没有写得烂的，水准都很高，但是讲得有差异。演讲的技巧非常重要，而且其实这项能力在外企是特别重要，因为在外企还要用不同的语言跟别人去沟通。</p><p>另外，写Email也是个技能，我有时候写Email都要反复措辞的，要发给谁，抄送给谁，还有密抄给谁，这种都需要小心的，这方面我统称为Presentation。你说的人与人沟通那属于情商，Presentation Skill是你要让对方明白，同时你要看懂对方要表达的意思。</p><p>但也有些人走火入魔，比如PPT一搞就搞100页，那个也不行，还是需要抽象能力。一般来说，程序员抽象能力都还可以的。</p><p>我再讲个小故事，饿了么曾经有一个小伙子，那哥们特别神奇，我很看好他，他晋升述职不用PPT，一上来就说，我本来准备了一个PPT，后来想想没必要，我就跟大家讲一讲，然后就开始脱稿讲。</p><p>当时上海的评委只有一票投反对，因为他确实讲得不错，不需要PPT他能讲清楚。但这次晋升答辩北京团队清一色全部投否决票，因为这是百度体系不能容忍的方式，你这是对评委的不尊重。最后结果是我求情让他过了，这个其实不太好，但因为我对他有些偏爱。我只是举个例子说做演讲这个事情。</p><p><strong>极客时间：</strong>对一个人偏爱，会不会让其他人觉得不公平呢？你怎么看这事呢？</p><p><strong>张雪峰：</strong>肯定会有不公平议论，说实话，饿了么让我偏爱的同学比较多，有我一直在孜孜不倦准备的 CTO backup（接班人），还有就是让很多同学有“苦”说不出的我最偏爱团队 CI（Core Infrastructure）。</p><p>没办法，人都有自己偏好，纯上帝视角、无利益相关几乎没人能做到，更不要说持续做到，对我来说，尽量在偏好和公平之间取得一定平衡。比如：我虽然偏爱 CI 团队，但出了故障或 CI 被吐槽、投诉，我一般也是先追杀 CI（兰建刚/徐盎/刘焱等同学苦张雪峰久矣），被我挑战最严厉的一般也是 CI 团队，即使主责或 Root cause 不在 CI 团队。</p><p>又比如：我虽然偏爱石佳宁（中台技术团队负责人，二代 CTO 首选）、黄晓路（全局架构组负责人）、许红涛（商户开放平台技术负责人，三代 CTO 首选）等同学，但佳宁、晓路他们也是我在部门例会或各种群里 Challenge 最多的几位同学。</p><p><strong>极客时间：</strong>你觉得技术团队的价值体现在哪里？</p><p><strong>张雪峰：</strong>我后来到阿里，行癫（阿里云总裁、前阿里巴巴集团CTO）跟我们开会说过几次，他说技术团队的价值是什么？我们脱口而出驱动业务，他说不可能，我今天明确跟你们说，不可能。</p><p>在他看来，技术只有两个核心价值。第一就是对于验证成功或接近成熟的业务，你要帮它做Scale，快速做规模化，不要线性。比如从1-10用了10天，那你从10-100应该只用两天或一天。</p><p>线性就是用工程师堆业务逻辑嘛，业务逻辑就是需要人的，虽然很多人说讨厌CRUD，但也没办法，业务逻辑人工智能是搞不定的。反而中间件是很容易做规模化，非线性的东西是难度高，但一本万利。中间件一开始投入很大，比如投入100多人，这些人都很贵，公司可能说凭什么要投资他们，又看不出交付了多少业务需求。但这样考虑是不对的，一旦上线，价值非常大。</p><p>第二，就是技术团队要帮业务团队快速试错。这个我是在饿了么深有体会的，Mark就总是说，你要上线了，我才知道公司这个业务行不行，能不能活下来，哪有时间让你搞什么架构。饿了么2009年第一版快速上线，绝对归功于&nbsp;No Architecture，汪渊（Raymond）居功至伟。我曾和他聊过这事，如果当初饿了么找我做第一版，我绝对迅速搞（拖）垮公司，最简产品、唯快不破 vs. 完美架构、技术洁癖之间很难调和。饿了么那时候最重要的是速度，你也不要管什么战略不战略的，你就给我最快速度上线、试错。</p><p>饿了么创业就是靠试错试出来的，快速创新完全是基于快速试错的，现在对这个理念我是绝对的拥趸。那种瞬间虎躯一震、如有神助、不用试错就一炮打响的成功业务，用凤毛麟角来描述都算夸张了。</p><p><strong>极客时间：</strong>“技术驱动业务”这句话在技术圈太常说了，很多人也是这么认知的，你现在对这个观点的看法呢？</p><p><strong>张雪峰：</strong>就像我刚才说的，行癫的视野是非常开阔的，我很佩服他，他说你今后不要再跟我说妄图去驱动业务，只有一种情况，像Google这样靠技术驱动纯线上业务的，才有资格去说驱动业务（今后如果无人车实现商业规模化，或许也算一种）。阿里又不是纯线上的，我们还有很多销售人员要去谈合作的，技术主要还是推进业务实现。</p><p>所以现在一看到技术驱动业务的文章，我确实也不怎么会去看，除非你做的就是技术产品，比如数据库之类的基础软件产品。所以他总结的这两条技术团队的核心价值还是很淳朴的。</p><p><strong>极客时间：</strong>前面聊了很多，能感觉到你很在意同学们的职业成长，希望给大家自由度，或者说希望大家都能好好思考自己的职业生涯。</p><p><strong>张雪峰：</strong>肯定，我希望大家尽可能喜欢自己做的事，在这个层面，我也有挺多反思。比如说，其实我们前端团队经历过动荡的。</p><p>有一段时间，我们所有的前端都是归Sofish（原饿了么前端负责人）一个人管的，C端、B端、物流都要做，但是后来出了问题。有人就说，这些做前端的家伙，整天去搞开源（其实有失偏颇），搞最新的那些东西，搞他们自己喜欢的那些东西。但对业务来说，我们希望进度再快一点，也希望他们能和我们一起加班，哪怕你在那磨洋工呢？人就是这个心理，不患寡而患不均。</p><p>因为我跟你一个团队，都是搞技术的，你说产品经理不加班还可以理解，咱们都搞技术，你不加班，是不是你工作量不饱和？Leader会去质疑你的成员，平级（Peer）也会质疑的。</p><p>但Sofish他不管这些，后来我说你面儿上也得过得去，让同学们在那边加加班。其实联调几乎都是后端的锅，前端他们做的质量确实非常好。Sofish就说，我干嘛要让他们非要待到8点以后？后来他这个团队是被我摁着加班的。</p><p>后来摁不住了，我就跟他说算了，你把你做物流的前端切出去，切到了物流的研发团队，就汇报给那边。我们早期其实除了C端，都是这样的，就是每一个产品的研发包括前端和后端都是在一个团队。后来是因为Sofish做得真的很棒，所以我希望他把所有前端都管起来。这个事儿可能我当时也有点认知偏差，其实这里面是有矛盾的。</p><p>比如对前端来说，你汇报给业务的研发团队，这样做业务交付，效率是最高的。但是对于个人成长，对自身的技术追求来说，其实是比较糟糕的，因为你没有同道中人啊，你跟后端没法交流。</p><p>如果前端大家都坐在一起，就会很有共同语言。平时还能搞一些技术分享会，那如果你去了业务团队，你位子要搬，就可能缺少这样的条件。当然这不是绝对，只是我的看法，有些团队前端跟后端在一起也非常好，他们内部也会搞一些小技术创新什么的。</p><p>但有些团队他们就感觉很失落，尤其物流团队的前端切出去之后，他们业务的交付速度是快了，但同学的职业生涯可能会有遗憾。就是我认为技术的职业生涯和你做交付的效率其实是有天然的冲突的。你很难做到让他技术有很大收获，又让他交付速度很快，因为交付速度很快证明你很难有时间学习，更何况大家不坐在一起。所以在这件事上我们走了一些弯路。</p><p>另外，Sofish他其实是比较纯粹的技术人，他的主要精力还是放在对前端技术的不断追求上面，比如说性能、框架、工具。因为前端有很多的东西需要做，比如他们用的框架、工具，很多是他们自己做的。反过来，他们对业务的关注可能就有点不够。</p><p>有时候我感觉，“拔苗”是可以拔的，但有些“拔苗”其实非常违背同学们本意。虽然没出什么大事，但下面大家的冲突并不少、吐槽更多，后来我就做了调整。所以，组织架构调整很难的，像阿里这么成熟的组织体系还经常调组织架构呢。</p>",
        article_title: "07 | 对程序员来说，自由价更高",
      },
      {
        title: "08 | 50X增长：管理35到1800人团队的难题",
        id: 435063,
        content:
          "<p><strong>极客时间：</strong>我看到网上的资料，你刚到饿了么的时候技术团队一共35人是吗？</p><p><strong>张雪峰：</strong>2014年9月还是10月是35人，就技术加UED（用户体验设计）。然后第二年春节后就70个人了，一下翻倍，这速度很快。</p><p>到2015年底大概就是五六百了，具体数字现在我记不住了。</p><p><strong>极客时间：</strong>增长蛮快的。</p><p><strong>张雪峰：</strong>那时候当然也是一步步上来的，但是确实招人太快了，我自己也要去面试一些人。</p><p>从我自己的感觉，组织管理这一块，我感觉还好，还能驾驭住，没有出现吃力。跟业务团队相处也还好，可能我的强项之一就是，组建一个团队，然后快速把大家的能力或能量激发出来。</p><p><strong>极客时间：</strong>到2018年被阿里收购之前你的团队有多少人？</p><p><strong>张雪峰：</strong>1800多一点。不收购的话，其实我们本来计划要做优化了。因为以前饿了么从来不提末位，都是让大家自觉走人嘛，但是后来发现，人力成本很高。</p><p>但这个也要对比来看，其实人力成本也还好，饿了么人员的薪资这些加起来，占的成本（百分比）其实是不如很多企业的，大部分线上的企业，人力成本是很大的。但是你对比其他支出来看，像我们一天三四千万的补贴就出去了，所以人员成本反而还好。</p><p><strong>极客时间：</strong>你是后来觉得人员成本也是一个比较大的支出了？</p><p><strong>张雪峰：</strong>因为我自己一开始也没经验，就是为了招人，也没有职级观念，只要感觉是个人才，他开价我就答应对吧？就进来。后来我们学阿里，开始搞组织体系、人才盘点的时候，我发现真的很心酸。</p><!-- [[[read_end]]] --><p>我以前不看他们薪资表的，虽然能看，但我从来不看，那时候全员拉齐我看到大家的薪资，老员工们那么优秀，不少都是一万出头一点，新员工进来就两三万，而且老员工能力还比大部分新员工强。</p><p>我们越到后面，到一千人的时候，或者就到2015年年底五六百人的时候，人才的平均水平其实也是掉了，组织越大越会掉。但是到了2016年、2017年，我认为人才水平是下降比较严重。但没办法，因为有很多业务要做。业务方和我讲了，机器人搞不定增删改查，说到底也不是增删改查本身，而是业务逻辑嘛。这个东西你很难去靠一个抽象的方式去弄，虽然这曾经也是我的技术理想之一。</p><p>因为很多业务上线一周可能就下线了，你没法抽象，你搞得抽象就容易陷入完美主义。到今天做软件，即使你有低代码也搞不定，低代码只是让不怎么懂编程的人也可以编程，但这个还是体力活，即使拽拉也是体力活。</p><p><strong>极客时间：</strong>是的。但是人员的水平下降这事，你后来反思过吗？对企业来说，这是否是一个必然趋势？以及你有想过用什么办法提高大家的水平吗？</p><p><strong>张雪峰：</strong>我尝试过，但效果一般，整体趋势还是下滑。虽说&nbsp;A Player 更倾向与&nbsp;A Player 共事，但有几个制约因素：一个是公司、业务的扩张和变化，包括投融资、收购、被收购，以及因此而产生的被迫技术融合与改造，最典型就是我们遍历了国内最大的“三朵云”。</p><p>第二，Leader包括我自己本身的视野局限，不是不想招更好的人才，而是你看中的Better不一定就是真正Better。一种情况是这个候选人面试水平高于实战水平，还有一种常见情况是候选人确实是真正Better，但不一定适合你的团队或者看不上你的团队。这样的候选人也会导致团队平均水准下降或氛围变差，至少团队协作方面会有问题。我认为，强强组合如果不能形成合力，有些时候甚至针尖对麦芒的话，那还不如“强+一般”这种组合形成的战斗力。</p><p>我个人认为，只要企业到了一定规模，平均水准下降或者说职级通货膨胀似乎难以避免。但比这更可怕的，是团队活力、热情逐步下降，所谓各种“卷”的应运而生也没什么奇怪了。</p><p>我之前尝试过拆分团队的方案，类似企业拆分 SBU/BU/BG 独立运营，但后来发现核心业务即使拆分了也是强耦合，很难独立运营，更不用说技术团队独立运营了。小而美，确实是“看上去很美”的解决方案，但有个大前提，就是：能否最大限度独立或者说灵活运营？我举个例子：微软如果拆分为 Windows、Office（平台中立）、Azure（平台中立）三个独立公司或团队，还是有可能的，但对饿了么当时业务来说，非核心业务可以拆分，核心业务没有这种可能性，因为就是强耦合，牵一发动全身。</p><p><strong>极客时间：</strong>对于业务来说，资源永远是不够的。这是所有公司的常态。</p><p><strong>张雪峰：</strong>有些时候我们要故意冗余，多招人，因为这个增删改查是绕不过去的。我现在发现几乎所有企业，就是做纯C端业务系统的，大家管程序员叫“码农”，真的有道理，确实以前码农还是一个有一点小得意的说法，还有点自鸣得意的感觉，但现在码农就是“农民”，绝大部分，相当于现在就是一个不在工地堆砖的人，真的很无聊，但没办法。</p><p><strong>极客时间：</strong>3年的时间，团队从几十人一直到1800人，这些人你们怎么招进来的？</p><p><strong>张雪峰：</strong>坑蒙拐骗（笑）。我们其实要感谢校长（这里指：极客邦科技创始人Kevin）这边。我们技术文化这块一开始顾不上，2015年我们就是解决宕机问题，到2016年开始感觉要搞搞技术文化，因为要吸引人才嘛。</p><p>后来我们就想试试看能不能参加你们大会（QCon、ArchSummit等），其实你们还是很帮忙，像我们这种“屌丝”也能上大会去吹牛了（笑）。你们可能是看中饿了么业务还可以。</p><p>其实我们饿了么的业务团队，就销售团队，我觉得全国可以排进前五名。但是我们技术团队，就互联网这一块，就算吹牛最多也只能排进全国前二十名，不吹牛可能更靠后一些。所以我们技术团队跟业务团队完全不匹配，后来是吸引到很多人才，慢慢拉近距离。</p><p>对我们当时这样的团队来说，去大会真的是帮到大忙，稍微吹一吹牛，就能吸引到一些过去招聘渠道覆盖不到的人才。当然了，顶尖人才肯定不行，还得靠自己去聊，去“画饼”。</p><p>2016年，我们筹备搞异地研发中心，那时候Mark心气很高，他说硅谷要不要搞一个，你自己去Build。我跟他说，硅谷现在还不具备条件，我们在美国没什么影响力，就在北京搞了一个研发中心，先试试水。我说能把北京的搞好，已经很不错了。饿了么的名气主要在上海，虽然北京市场也还可以，但是技术毫无名气，所以后来就先从北京开始做，北京有人了就啥都好办。这个人才只要他有一技之长，就可以去宣导宣导。</p><p>我们那时候有PMO团队（Project Management Office，项目管理办公室），还帮忙搞Meetup，他们谈合作能谈到免费的场地，我觉得蛮牛逼的，我们就出去搞这种Meetup，在北京也搞过好几场。</p><p>后来史海峰（原饿了么北京研发中心第二任老大）进来之后，局面就不一样了。海峰很厉害，他来了之后，和PMO在北京搞的Meetup就多起来了。海峰没进来之前，我们在北京搞得比较吃力，那时候我们还没收购百度外卖。</p><p>饿了么那时候是特别需要这种宣传，但好在我感觉也没有太过火，略有一点包装，至少也达到我们的初衷了，慢慢吸引到人才。</p><p>那时候我们也只能吸引国内的一些人，但我们对BAT的人才吸引力还是相对差一点，像百度的人是不会考虑来饿了么的。</p><p>到后来我们有了一定名气了，为啥呢？因为那个时候腾讯云、阿里云都进来了，我们被这个投资，被那个注资。对应的，饿了么也是几朵大云的 Big Show Case，虽然很折腾，但有一个好处，至少证明你这家公司有价值，别人愿意来投你，就这样海外的人也都知道饿了么。</p><p>那时候海外有两拨人，一拨人就是想回国发展的，还有一波人说雪峰，你们卖不卖代码？把饿了么卖到比利时，卖到荷兰，我说代码是不卖的，今后我们可以考虑做一个SaaS云帮你们，因为欧洲的需求都很简单，他们吃的东西本来就很简单，哪有中餐这么复杂。</p><p>到了2017年，我们高阶的人才开始变多，加入不少牛人，比如Jason（张浩，现货拉拉CTO）是滴滴研究院五虎将之一，以前在Microsoft、LinkedIn、Uber；Alex（王胤）从Facebook过来，算是Facebook华人中级别还可以的大牛；Kay（范晓锋），以前在Microsoft、PayPal、蚂蚁（P9）。他们原来都在硅谷或西雅图，大部分薪资比我高不少，我们当时真的是不惜一切代价挖牛人。2017年加入这批人，对我们的技术品牌影响力非常大。</p><p>然后最牛的就是何田教授，他是ACM Fellow（注：在计算机领域，仅次于图灵奖），ACM就是发图灵奖的那个机构。何教授的这个ACM Fellow，据我了解，也是阿里 + 蚂蚁两大集团史上第一个。何教授来了之后，一下子又吸引一堆人。我们以前只能吸引工程界的，包括从Facebook、LinkedIn、滴滴、百度过来，但是科学界或学术界的人很难吸引到。有了这些牛人加入，我们的AI、IoT甚至小范围科研实力也上来了。</p><p><strong>极客时间：</strong>人才吸引人才嘛。</p><p><strong>张雪峰：</strong>得人才者得天下，所以你一定要找到一些人才，或者说牛人。当然我也有过一些人才选用上的不当，但整体我认为还算顺畅。至少从组织层面我认为还可以，包括后面跟口碑的磨合，虽然磨了一两年，但最终还是和平交接了。</p><p><strong>极客时间：</strong>你之前说到喜欢过程大于结果，一般会有什么样的手段或者方法，去激活一个1800人的组织，让大多数的人去享受它的过程？</p><p><strong>张雪峰：</strong>1800人的时候我已经无能为力了，不是无能为力驾驭这个数量级的组织，而是无能为力让这个数量级的组织中的大多数人满意。以我这样的阅历、经历和驾驭能力，1800人的团队，我认为很难做到让大多数人Enjoy这个过程，或者说让每个人选自己的兴趣，这不可能的，业务还做不做呢？</p><p>因为五六百人的时候我就很难管到一线了，很多人都不认识，但只要我听说过名字的，或者知道他曾经做出过一点事情的，我尽可能去关注。有人说干得郁闷，那我就跟他说你到底要什么，抛开钱不到位，郁闷就几种，要么就是他还喜欢这个工作，只不过周围的环境氛围出了问题；要么就是感觉干这个活已经很无趣，主要就这两类。我就跟他们谈，你想去哪儿，我尽可能满足。你想做什么随你挑。</p><p>但是我其实挽留住的少，最后还是留不住的多。所以尽可能还是防患，就跟稳定性建设一样，到了救火的时候，我救下一两个，但是还不如我去做预防，做预防我一个人不行，这个需要组织，你要让大家感觉在这做技术是不一样的。所以，从人的角度需要组织，因为到毛细血管不是我能覆盖到的了，到1800人连HR都Cover不了。</p><p>那时候（这里指2017年）我们就在楼下喝茶谈心，我下午茶就是那时候喝出来的，我其实不怎么喜欢喝下午茶的，但是大家有郁闷找我，然后就聊。对于我认为还值得留的人，我很直白，就是说随你挑，我这边虽然说比不上BAT，但也是五脏俱全。</p><p>有些同学他说做业务研发烦了，想去搞机器学习，那我说你去吧。我会跟他们说得很直白，很简单，你想搞机器学习，正常情况到外面连面试资格都没有，更不要说面试通过。在我这至少是平行调过去，我可以跟那边打招呼，让你有一段时间的学习期还照发工资，还不降级的，当然除了你犯了过错。说的功利一点，这也是一个吸引手段，只要他对这还有兴趣。</p><p><strong>极客时间：</strong>你下面会有几个人直接向你汇报？</p><p><strong>张雪峰：</strong>最后收购之前大概9个、10个，最多的时候大概15个，正常状态也就大概9个、10个的样子，我们组织也经常动。我刚进去的时候虽然团队人不多，但汇报不少，但后来发现还是要靠组织力量。</p><p><strong>极客时间：</strong>直线汇报多少个人，你感觉是一个比较舒服，或者合适的状态？</p><p><strong>张雪峰：</strong>不同时期心态不一样，如果以我离开时候的心态来说，我体会更深刻一点。比如像1800人这样的组织，大概100个人配一个直接汇报，平均一下大概是15~18个，15个左右可能合适。</p><p>因为我们当时1800人，其实汇报的只有那么几个，导致我后来开周会的时候，会发现这个人说不清，必须把他的直接汇报里面有一部分我认为重要的人也要拉进来才行。</p><p>一开始我想汇报的人少一点，几个大业务的Leader，但后来发现不行，汇报人少了你也会懒惰的。我现在感觉就是100~150人之间配一个直接汇报，这是平均的结果，有些岗位不太一样。</p><p>但只要汇报的人数多，肯定是有问题的，你要么去抽象业务，要么就是抽象组织，抽象能力是很重要的。</p><p>我自己现在钻研数学和历史带给我最大的收获，归根结底还是一个抽象能力，人类进步都是这样，螺旋式上升就是抽象，我讲过，你其实还是那么回事，但是抽象层次高，能适应的范围就更广。以前大家说到抽象就是架构师的责任，现在不是，现在我认为是技术人员一个基本能力。</p><p>反正我感觉就是100~150人，差不多这样的规模，以我的能力和视野，差不多可能合适，或者100~200人也无所谓，没有本质区别。</p>",
        article_title: "08 | 50X增长：管理35到1800人团队的难题",
      },
      {
        title: "09 | 如何用人？",
        id: 435066,
        content:
          "<p><strong>极客时间：</strong>你有开除过人吗？</p><p><strong>张雪峰：</strong>有，如果说劝退都算开除的话。</p><p><strong>极客时间：</strong>最开始的时候，会觉得很难吗？</p><p><strong>张雪峰：</strong>还好，我开始主要是考虑到汪渊的感受，对老员工从来没有开除过。</p><p>我进去之后半年才决定要让一位老员工离开，你也懂什么意思对吧？我问汪渊意见，因为包括其他老员工对这个人都有投诉，但这个人有汗马功劳，然后不听任何人建议。我说这个事情怎么办，很多项目尤其涉及到跨团队项目很难搞，汪渊说你别说了，明天就让他走人，他说你别顾及我感受。后来是汪渊亲自出面，去跟这个同学谈，当天下午就办手续。</p><p>我当时来的时候是希望两个团队不要出现摩擦，因为饿了么经不起大的组织折腾，当时现状就是：极速扩张、竞争激烈、频繁宕机、组织薄弱、融资不断等，我加入饿了么前那个夏天，老饿了么都经历过那段不堪回首的岁月，订单还没到日均百万，基本两天一宕机，我怎么敢随意折腾组织呢？你还得依赖老员工熟悉业务逻辑。</p><p>我自己当时在这件事上有点吃不准，虽然汪渊绝对信任我，印象中从我加入到离开，我提出的稍微大一点的建议，他几乎从没拒绝过，但我还是担心会触动这些老同学神经。即使过了一段时间，我还担心老员工会有反弹，但后来事实证明还好，大家比较接受我。</p><p>汪渊对我是完全信任，给我的权限非常大，无条件支持我，比如说后来搞定级，他说老员工你要降级就降级（实际并没出现这种Case），不要考虑我。</p><!-- [[[read_end]]] --><p><strong>极客时间：</strong>我看过一篇文章，应该大概是2015年、2016年的时候，张旭豪好像更赞成从内部去培养一些管理者。</p><p><strong>张雪峰：</strong>对，我们就那时候做的，后来发现有些培养不出来。比如人工智能我们就培养不出来，因为我自己不是这个专业的，我只是有兴趣，还是要专业人做专业事。还有就是大数据方向是有一个人，但人才还是不够。</p><p><strong>极客时间：</strong>所以那个时候挖人就是能快速解决问题的办法。</p><p><strong>张雪峰：</strong>对，当然也有一些推荐，也要聊。但是越是高阶的聊得越少，因为这种人你只能赌了，你不可能通过面试面出来的。先不说人家是不是有面试技巧，人家那个专业，就是你不擅长的领域，这时候真有点赌。</p><p><strong>极客时间：</strong>随着饿了么越来越大，你会觉得挖人越来越简单吗？</p><p><strong>张雪峰：</strong>不简单，甚至我感觉可能难度更大一点。因为公司越来越大，你要招的人层次就高了，我认为这个东西还是线性的，甚至更难。因为你大了之后，美团外卖也在大，人家更能吸引人。</p><p>当年你可以不计代价的开Offer，到1800人的时候你就不能轻易打破薪酬体系了，老是破例也不行。而且到了1800人，比如某个岗位最开始没人，你招一个过来，后面你再招一个高阶过来，他们之间怎么汇报？很多高阶的人，或者说牛人在一起，尿不到一块，即使尿在一块，也很难做出好成绩。</p><p><strong>极客时间：</strong>这种情况就是1+1没法大于2。</p><p><strong>张雪峰：</strong>对，有时候反而就是一个很强的搭一个中等的，或者搭一堆普通的，反而能做得好。这个试错我都试过，强强组合，发现强强不行，强强都有个性，都想自由或者说自主，越强越这样。</p><p><strong>极客时间：</strong>如果有人要离职，你会劝别人留下吗？怎么劝？</p><p><strong>张雪峰：</strong>会劝，但是往往也留不住。有一度大家都去拼多多找工作，拼多多离我们很近，都不用装模作样请假去的，直接中午出去就可以面试了，我们内部还成立一个小组叫“打拼组”，打拼多多的挖人组（笑），但其实这种情况，对要跳槽的人来说，在这已经没有动力了，即使我不鼓励他跳槽，他自己也会想去跳。</p><p>我跟他们说你在相似度这么高的业务中，如果没有发现Difference，那就再考虑考虑。我特别在意Difference，当然你根基要打牢，这叫守正出奇。“正”也就是基本功还是要有的，但要保证持续的热情还是要有一些催化剂，也就是Difference，催化剂是你一定要去思考的问题，这是我一直给他们说的话。</p><p>极端一点讲，如果你在一家公司做技术，跟同质的公司没有任何区别，可能这个角色不适合你。要么是你出了问题，要么公司没法Offer你，总有一个。当然，公司毕竟是商业组织，也不会给你那么尽善尽美，所以你还得信任公司。你要去努力找到让自己兴奋的点。</p>",
        article_title: "09 | 如何用人？",
      },
      {
        title: "10 | 管理的不足：不团建，管理不到毛细血管",
        id: 438602,
        content:
          "<p><strong>极客时间：</strong>你在饿了么典型的一天大概是什么样的？工作的节奏是怎么样的？</p><p><strong>张雪峰：</strong>我还是只讲被收购前。不算周一管理例会、周五Program（技术改造）例会这种特殊日子，常规的就是到公司，首先看业务的报表，看看业务的数据。</p><p>研发效能坦率说我是不看的，因为这个东西不是靠几张报表能看出来的，以前有所谓人均代码量、人均提交次数等，后来发现这很无聊，又搞什么交付时间，这也是被拼多多和抖音逼的，所以我个人不太喜欢总盯着研发效率搞KPI。其实讲研发效率就是看你自己的承诺，你自己对自己能力有一个估算，只要工作过几年，估算一个任务几天能做完，大致都能算出来的。</p><p>然后第二步就是看邮件，判断要回的邮件，我Email还是蛮多的，当然有一些是杂音，但杂音我已经自动过滤掉了，有一些发布计划我是要看的。</p><p>还有一点我不知道算做得好还是不好，我们其实并不要求日报，但是PMO很负责任，他们会给我发各种项目（业务交付、技术改造等）日报，会提出各种风险，他们不是暗的，不是东厂，他们就是明的锦衣卫，就是来督促大家的。比如昨天发布有什么问题让我看一下，项目的各种出错情况，有些是大项目、大节点，有些是常规的，我就看看邮件里面这一部分。</p><p>我的Peer（平级）和我的上级（CEO），他们找我都是直接电话，我们几乎不用邮件，我们要邮件就变成外企风格了，所以几乎不用邮件。我个人认为，邮件主要就三个作用：一、通知；二、存档；三、文明吵架。有了钉钉后，文明吵架也可以退出邮件舞台了。</p><!-- [[[read_end]]] --><p>另外，到1800人的时候，我的面试相对就少了，早期其实面试是我一天比较重要的工作，虽然不一定每次都能到我这，但还是有相当的面试量。</p><p><strong>极客时间：</strong>早期是2015年吗？</p><p><strong>张雪峰：</strong>对，就刚进去嘛。后来从国外请了一些高手过来之后，他们面过的我就要面一下，只要到了他们这一级的我都会看一下。</p><p>被收购前其实我的面试量已经不大了，反而是收购完之后要重新调组织结构什么的，那时候也有些面试，但至少被收购前面试不是主要占用我时间的工作。刚说的这些工作差不多就要搞到下午了，上午是搞不完的，因为光项目日报和提出的问题风险，我就要看好一会，业务数据我基本心里有数。</p><p>其实还有一个常规的事情，饿了么基本上每天或多或少有一些告警，是真的有异常，但是它不是故障，我就要看一下。</p><p>从我加入饿了么第一天起到离开，我还是一直放不下这件事，其实按道理讲，这不应该是一个典型CTO在团队到这种规模的时候的一个常态，但是没办法，因为我们的迁移改造，包括百度外卖的PHP没有全部迁完，其实被收购前我还没有完全搞完。</p><p>除了这些，另外就是参加公司的会议，也就是例会。一般业务找我开会我不去的，之前业务他们开会我也去过几次，就是念PPT，会议一开就4个小时，轮番汇报。到后面团队越来越大，组织也有点臃肿，甚至有点腐化，所以后来我就不参加单个业务的会了，除非他们出了状况，出了状况我们一般私了。</p><p>我一直Follow不知道谁说过的一个原则：大事小会，后面我再补一句：小事钉钉，最好没事。做到极致就是当我这个角色不存在。当然了，有些会也不得不去，比如：技术准备和业务Battle，当然更多时候是和产品“吵架”，他们会拉我去站台；又比如：技术同学有个Idea，希望布道全公司，拉我到发布会现场伪装成CTO明令要求等等。</p><p>回到那句话“大事小会”，其实在大会上吐两句槽的一般我都是忽略的，不是特别重要，真的出事，没时间让你开会吐槽的。还有一种会，类似上面提到的，他们拉着我的虎皮去参加一些会，让我去现场压某个团队，或者要发起一个事情，需要我在现场，不一定要说话，就是要听一下汇报。</p><p>另外还有周会，我这边也是开的，但就我自己印象，除了第一次开会主要say hello，之后到我离开前最后一次周会，我从没搞过一次“各团队例行汇报”（注：疫情期间远程周会汇报各团队安然无恙除外）。我们都是这种模式：第一步，提前征集议题，一半以上是我提的；第二步，未结议题跟进或关闭；第三步，新议题讨论和决议，决议不了的，专人跟进；第四步，散会，不到点也散会，或者大家说点八卦。</p><p>其实我不喜欢开会，也不太喜欢听汇报，这种事我还是喜欢通过Email或钉钉，就是事务性工作尽量不开会，所以到了1800人的时候，很多员工只知道我，但从来没见过我。</p><p>我最后去办离职的时候，那位&nbsp;IT&nbsp;同学跟我说“我第一次见您的面”，我感觉很惭愧，我说今后反正微信上有你，到时候联系。我跟很多同事都是这样，到了那个规模，对基层的关怀可能真是少了一点，覆盖一线几乎不可能。</p><p>我盯一线只有一种可能，就是出故障的时候，我盯着工程师，但我不会去罚工程师。我们所有的惩罚，都是对至少是闹出故障的工程师的Leader，然后一直到VP，或到我的D（Direct Reports，指直接汇报给张雪峰的人）。</p><p>阿里进来之后，我就不只在故障的时候跟一线工程师有联系了，因为阿里经常会搞圆桌。我在阿里最后1年，圆桌会议开了无数次，在北京、上海都开过。</p><p>其实到1800人的时候，我晚上回家基本可以在8点左右，有时候更早一点。如果这一天没有什么特别的事，我也不会去发起一些会议或钉钉群，我就看看技术资料，比如说写点小程序，因为那时候毕竟在其位，需要了解一下前沿。</p><p>当然这一天工作中会有穿插的就是同学找我聊天，尤其在被收购前，大家都很紧张、很慌。虽然我自己也吃不准我的命运。但是我比较笃定，即使我感觉需要我让位，那我就直接让位，人就是这样，你有预期了，再碰到就不会惊慌，人的惊慌或者惊喜都来自于你根本没料想到，比如我在第三家公司时的那次晋升通过。所以那段时间，我的主要工作之一就是安抚大家。</p><p><strong>极客时间：</strong>所以还是有非常多沟通的事情，是吧？</p><p><strong>张雪峰：</strong>对，但很少到毛细血管，这是我一个做得不足的地方，我当时没想到圆桌这样的形式。我在公司收购百度外卖那段时间，因为要安抚北京团队情绪，经常开All Hands，我在北京开的最多的就是All Hands。有时候下面部门会议，会搞些花样，比如月度新星这种活动，找我去颁个奖什么的，但这不算常态。从本质上说，我这人不喜欢暴露在大庭广众之下，很多时候没办法，被逼的。</p><p><strong>极客时间：</strong>在阿里搞圆桌主要是什么样的形式？</p><p><strong>张雪峰：</strong>圆桌是这样的，HR会收集问题放在一个Excel表里，都是大家关心的问题，有些是普遍的，有些是个例的，就是让大家吐槽。我估计是在吐槽的同学里面筛选一部分，然后来跟我圆桌。</p><p>刚开始还比较机械，大家做个小游戏，热热身。当然目的很简单，就是让我“出丑”，这个出丑是比较温馨的出丑，绝不是网传破冰那种。就是调戏我一下，然后活跃一下大家的气氛，不要那么拘束，后面就是按部就班，开始念Excel里的问题。</p><p>其实圆桌开得多了之后，就感觉大家也有点提不起劲。因为啥呢？很简单，相似的问题或者我已经知道的问题，我要是之前解决不了，那还是解决不了。我也不能跟大家说，我承诺你几个月能搞定，要是我能解决的事，当场就拍了。所以后来发现圆桌会议，我也就是做一个倾听者角色，让大家知道我愿意听你发牢骚。</p><p><strong>极客时间：</strong>所以能倾听，在管理中也是很重要的。</p><p><strong>张雪峰：</strong>对，我在工作中特别善于做一个倾听者，甚至可能不亚于HR。其实员工找我也就是吐槽、抱怨，除了不方便直接说给我升职加薪，就是抱怨不爽嘛，包括晋升失败之后的不爽等等。</p><p><strong>极客时间：</strong>还有什么是你觉得自己做得不好的地方吗？</p><p><strong>张雪峰：</strong>还有一点我做的不太好，这是有人给我吐槽过的。好几个同学离职的时候都跟我说，“雪峰，有一点我们认为你是做得很差的，就是不搞团建”，我离职之前，还有人跟我说这个事。</p><p>我确实不搞团建，都是单独吃饭的。我搞团建其实很勉强，都是HR去张罗着、劝着我搞，我们也很少去外面的风景区。阿里特别喜欢搞团建，我不喜欢。</p><p>我后来反思，这可能跟我性格有关。你别看我现在滔滔不绝，讲话也算利索，抽象也算到位，其实人一多，我还是比较紧张的，虽然到不了社交恐惧程度，但是我确实不太喜欢社交，哪怕是网上社交我也不太喜欢。所以，后来我几乎退掉了所有微信群，可能是我这个人的性格问题。</p><p>包括我去百度外卖开All Hands都是硬着头皮上的，其实我是很紧张的。有时候参加一些新闻发布会，有聚光灯的话我更紧张。所以这可能是我不太想做的事，我更喜欢的是单独聊，但是你管组织就没有办法。</p><p><strong>极客时间：</strong>不搞团建是说你不参与大家团建，还是说你不鼓励团建呢？</p><p><strong>张雪峰：</strong>我没有不鼓励，就是我自己不搞团建。大家可以说这是我的一个问题，但现在回到过去，我还是不会搞。因为你搞什么呢？要么旅游一场，要么做游戏，但更多的估计还是围着领导转，这样除领导外都不爽，非我所欲也。</p><p>我们就搞过一种团建，是HR劝着我搞，叫裸心会，但后来我觉得蛮有价值的，基本都要到凌晨结束。裸心会就是开诚布公，大家甚至在裸心会上对骂，当然是文明的骂，就是平时有不满，有抱怨就说出来，然后最后一个环节是吐槽技术团队、吐槽张雪峰，说这个组织有多么烂，张雪峰做得最烂的一件事是什么，都要提。</p><p><strong>极客时间：</strong>裸心会上大家都在吐槽什么？</p><p><strong>张雪峰：</strong>反正各种各样都有吧，当然有些是照顾我面子，但整体我感觉从裸心会来看呢，大家可以给我打70分。</p><p><strong>极客时间：</strong>但其实是到了阿里才会有这样的东西是吧？</p><p><strong>张雪峰：</strong>是，到了阿里才有。那次开裸心会，是阿里收购了我们，但是还没有开始融合的时候。因为昆阳有一段时间是保持不变的，他还要在业务上解决两个组织融合的问题，技术融合还是第二位的。</p><p>当时搞裸心会，我们到上海淀山湖旁边搞一些节目，他们要我也做节目，我坚决不干，我说你们可以善意地“羞辱”我，但不要通过搞节目显示我菜。这个谈不上我的底线啊，如果大家非要坚持，我也只能硬着头皮上，反正裸心会上就各种平时的抱怨，对公司的抱怨，对技术组织的抱怨，对我的抱怨。这很好，完全达到了预期目标。当然了，最后还是要去解决裸心会暴露出来的一些可以有效解决的问题，否则就纯粹是发泄大会了。</p><p><strong>极客时间：</strong>像裸心会这样的活动，你觉得对于团队融合是很有用的吗？</p><p><strong>张雪峰：</strong>有价值的，相当于是一个发泄的渠道，这个比倾听更重要。</p><p><strong>极客时间：</strong>回到刚才说不搞团建这事，我很好奇，为什么你会对团建旅行很抵触呢？你觉得旅行对一个团队融合来说，意义不大吗？</p><p><strong>张雪峰：</strong>还是像刚才说的，除领导外都不爽，非我所欲也。我在携程倒是搞过团建，就是大家一起去旅行。我也不会“夹带私货”，给大家讲任何PPT，就是聊聊天或者玩一玩，纯粹的旅游放松，但我感觉我还是会破坏这个氛围。</p><p>吃饭的时候，不管怎么样大家总会拘束的，当然说难听一点也有来奉承你什么的，也有让你讲一些段子的，但总体我是感觉大家比较拘束，因为我也说了，这个组织的特点，大部分是比较年轻，我即使能跟90后保持沟通，但是在私下非工作层面，我感觉还是有代沟的，所以我是感觉自己会成为瓶颈，阻碍了大家的兴趣。宁做孤独的灯塔，不做惹人厌的灯泡。</p><p>他们下面经常团建，会拍个照回来给我看，都很快乐的。搞气氛我认为我是比较糟糕的，但同学们不吐槽我这点，可能他们认为这不是CTO主要的工作，但我认为这也是蛮重要的。</p><p>因为我之前拆解了CTO，“T”这层面我认为我还可以，“C”组建团队还可以，挖掘人才也凑合，技术文化也还说得过去，但是在促进大家更深度的情感融合方面，这个是指他们之间，不是跟我之间啊，我感觉差了很多。</p><p>因为我要开团建会，更多不是要我去跟我的直接汇报线沟通感情，跟他们沟通感情我每天喝一次咖啡就行了，更多的是促进他们互相之间的了解。</p><p>有一次他们说，峰哥，我们今年团建费比较多（公司官方团建费很少，主要靠会议迟到赞助费），要不去泰国搞一搞？后来我也没同意，我说你们要去日本，要去泰国自己去，但这些钱就不够分了，因为他要分到他的团队。我说一定是按人头分，你别跟我要多少钱，没钱。</p><p>其实饿了么以前团建费是比较少的，除非是搞一些特殊活动，我会去向Mark申请。搞团建、促进感情方面我投入不多，但是我们在技术文化方面，是很舍得投入的，你看我们Hackathon其实每年都要花很多钱，这也是吸引人才嘛。我们第一年就是全部大学生参赛，内部员工不允许去参加的，那次我感觉大家被带起劲儿来了。</p>",
        article_title: "10 | 管理的不足：不团建，管理不到毛细血管",
      },
      {
        title: "11 | CTO要给自己找backup",
        id: 438603,
        content:
          "<p><strong>极客时间：</strong>我听到很多人都说你会特别Care找替身，找backup这事。</p><p><strong>张雪峰：</strong>先说一点：backup这事，指的不是替身，而是替换或超越。首先，我自己必须以身作则，否则自己老在这位置上不挪窝是不行的，这样哪有后浪出头的机会？说到招人，你首先要招自己的backup，先别去招你汇报线，别去想要蚕食多少业务，虽然大家都想把地盘做大。</p><p>这是管理层的职责，很多人是抵触，甚至明知道老板在暗示他找backup，他是坚决抵触的，就感觉自己位子不稳了。</p><p>我跟HR规划过我的backup，我也跟几个同事说过几次，当然不是跟所有人都说，怕引起大家的不满。我自己第一级的backup，其实并不是我认为最有潜力，或者最完美的，反而是在职级稍微低一点的中层，在这一层的年轻人，包括以前从交大出来的老员工，我反而是最看重的。还有就是第三层，更年轻的、接近95后也有我特别看重的。</p><p>我的这些backup里面，第一级backup说白了还是老气了一点，他们的能力、视野是够的，影响力也够，但是冲劲不足。第二梯队呢石佳宁（离开前负责中台技术团队）是首选，其实我是把石佳宁作为接班人培养的，他有这个综合能力，而且饿了么的业务他几乎都做过，除了APP没做过，物流没直接做过，但他和物流交互很多，他也很熟那一块。</p><!-- [[[read_end]]] --><p>再下面一层级就是工程师上面的直线Leader，一线Leader里面也有我特别看好的，接近95后的，可惜不少去了拼多多。这一梯队中，首选就是许红涛（先后负责商户开放平台、企业订餐），后来我推荐他去一家朋友的独角兽公司，朋友是圈内老炮，眼界非常高，但自从和红涛聊过一次，就特别欣赏他，虽然之后知道红涛想创业，但直至今日还给他留着位置，期待红涛回心转意，哎，我都不知道自己更希望红涛创业成功呢还是不成功（笑）？</p><p><strong>极客时间：</strong>你选backup的标准是什么？</p><p><strong>张雪峰：</strong>人品这些基本的我先不谈，我首看的是潜力。第二个看是否在业务做过，这很重要，也就是说你今后做CTO一定要在业务线做过，当然懂一点基础设施更好。因为我自己职业生涯是先做业务，再回过去搞基础的东西。</p><p><strong>极客时间：</strong>你认为什么是有潜力？</p><p><strong>张雪峰：</strong>我认为的潜力（不等于天赋、能力、努力），就是“拔苗”试一试，假如你给一个人更高的职级，或者给了更大的Scope（领域），他最后搞定了，那就是有潜力。虽然大家都说看人要准、要有一定前瞻，但这个准和前瞻很难，除了受个人喜好甚至偏爱的影响，还有是否 Match 的更大挑战。这个类似幸存者偏差，大家往往很难理解为何常规认为的 Better/Best 输给了 Worse/Worst，适者生存、物竞天择才是这个世界不变的规律。</p><p>当然我说的“拔苗”有一点冒险，因为你只能试。我们其实也试过很多同学，就是拔一下，如果做成了，那晋升就水到渠成。</p><p>但也有另一种情况，有些同学可能我开始感觉他不是那么有潜力，但是有别的事情证明他有潜力，比如说P7岗位要晋升P8，要待两年才有资格，但有同学入职半年就提名了，最后还晋升成功，说明可能是我们没看到这颗“金子”，这种情况就是通过不常规的晋升看到一个人有潜力。</p><p>正常晋升就是干两年正常晋升，再干三年再晋升，这种就是Normal，这种我认为不能叫有潜力。</p><p>所以我说的能做backup不是按部就班过来的，而真的是我们拔了一下，结果他不负我们所望，还有一种就是你开始看走眼，但晋升成功的，这两类都是有潜力。但按部就班的我认为不是有潜力的。可能不够抽象，但我就是这么来看且实践的。</p><p><strong>极客时间：</strong>backup必须要设定几层吗？我可以这么理解吗？</p><p><strong>张雪峰：</strong>也不是，我永远是看潜力。就是说第一位是看潜力，第二是要做过业务，基本这两点过了，其他什么技术、视野，这些都可以锻炼的，因为有潜力，我相信他就有视野，我也不看他什么背景。</p><p>潜力的表现还有一个是你要笃定，你自己要自信，然后眼光要准，你愿意跟这家公司走下去，不是说因为感情的原因，而是你看好这家公司，有眼光也是体现潜力的一种。眼光不一定CEO才有，有些人职级很高，但他没有眼光，就是守着这一块地，所以潜力也包括眼光。很多冉冉之星都是从基层做起来的，所以，做过业务很重要，要经过锻炼甚至磨练。在饿了么技术团队，我印象中，没有比石佳宁受过更多业务磨炼的同学了。</p><p>其实我不太建议校招生直接去做中间件这些东西，或者做工程算法（AI算法除外），他们还是要去业务团队先磨练一下。</p><p><strong>极客时间：</strong>刚你说到接近95后的backup，你会不会觉得95后或者更年轻的同学，虽然有潜力，但是可能不够沉稳，或者说比较急躁呢？</p><p><strong>张雪峰：</strong>还好，还是要看人。我规划的第二、第三代backup，都是比较沉稳的，因为第一、他们经过业务线的考验；二、他们有潜力；三、情商也还可以。沉稳不沉稳这个跟职级无关，跟年龄是有一定关系，但过于沉稳可能就少了锐气，我认为人大概率到了40岁以后，确实锐气锐减，有锐气的很少，创业除外。</p><p>像左耳朵耗子是一个，还有涛思数据的陶建辉，我本来想请他来给同学们做讲座，讲一讲50岁还能做程序员的话题，为了让大家对饿了么能够更有黏度。但他们这种人很少，大部分到了40岁，雄心壮志就少了。要么就是还房贷苟着，要么就是自己出来再冲一把，因为到45岁你基本没机会了，到65岁就要退休了，这一辈子可能都没机会了。</p><p><strong>极客时间：</strong>这是你对backup的理解，对他们有一些评价标准或者要求，那再往下一层，那对于普通工程师来说，你觉得一个称得上优秀的工程师要有什么特质呢？</p><p><strong>张雪峰：</strong>我认为一个优秀的工程师必须得纯粹，不要有杂念。“纯粹”这个词怎么解释呢？就是要专心把自己这块事情做好，尽量做扎实，自己尽全力，不过多关注利益。因为有些同学他做事情是有一些想法的，人总有欲望，要么是为了名，要么为了利，要么就是地盘扩大。所以要做到纯粹，就是要没有杂念，或者没有那种显性的杂念，非常难。</p><p>我前面也说过，老员工薪水很低，但他们也没有什么抱怨，就是把事做好。比如说兰建刚，一开始我只是给到高级经理，后来是通过晋升，到总监，再到高级总监，高级总监他还差一点没晋升过，因为建刚演讲简直一塌糊涂（笑），后来是我跟Mark好说歹说，我说这个你必须让他过，后来才勉强过了（要放在阿里晋升场，这几乎是不可能的事），但建刚自己倒无所谓，他团队好多技术强、够纯粹同学，都对晋升无所谓，我也无语。</p><p>换句话说啊，对于你在意、喜欢的事（自由、开放、洁癖、架构等），极度有所谓，对于你不在意的东西，极度无所谓。</p><p>人人心中都想追求完美，但有时候因为你对其他事情有欲望，就可能分心了，有时心里会敲锣打鼓，比如出故障的时候，你可能会想，到底应该选什么，是甩锅保命，还是承担责任？很多时候，故障能看出一个团队和一个人的担当。对技术同学来说，勇于承担责任也是一种纯粹，只要是我负责的、我在意的事情，出了问题一心去解决就好。</p>",
        article_title: "11 | CTO要给自己找backup",
      },
      {
        title: "12 | CTO的艰难时刻：差点引咎辞职",
        id: 438604,
        content:
          "<p><strong>极客时间：</strong>你去饿了么也属于空降的领导，刚进去会遇到什么挑战吗？</p><p><strong>张雪峰：</strong>其实大家都专心做自己的事，我是没有感受到所谓的火药味或防御性。第一天我担心是有防御性的，但我一直没有体会到，只体会到他们对技术的追求，所以刚开始团队这块倒没什么，我主要遇到的挑战就是宕机，2015年那个夏天，我差点要引咎辞职，七月份各种故障纷至沓来。</p><p><strong>极客时间：</strong>到引咎辞职这么严重吗？</p><p><strong>张雪峰：</strong>宕机给我们造成的心理压力太大，那时候饿了么单量已经很大了，真是水深火热。我刚进去其实压力不大，因为我岁数大，大家都比较尊重我，Mark也比较尊重我。但三个月后我也开始被他挑战，被他骂，骂得很有道理，就是我们团队做得不好。</p><p>七月份我们基本一周要宕机一次，有些感知得到，有些感知不到。那时候我基本都是最后一个离开公司，都过零点的，因为我要确保没问题，其实也是有点拖延时间，就想怎么样才能完全破解。</p><p>当时觉得挺对不起公司的，而且Mark一开始是骂，到后来他也知道，我比他更着急，他也不骂了。所以15年那个夏天我真有可能就离开饿了么，后来反正不知道脑子怎么抽了筋，最后也没有提交引咎辞职报告。</p><p>当时我进来半年，也招了一些同学进来，跟新老团队融合得还可以。如果我选择离开，那这些人怎么办？所以后来想想还是考虑兄弟之情，咬咬牙硬挺过去了。</p><!-- [[[read_end]]] --><p>那时候就感觉自己真的快扛不住了。Mark有时候说两句，业务部门也会吼，但是都有尺度，但一线人员才不管，一线那时候把我们骂惨了，天天被骂成狗屎。</p><p>以前有个软件，比现在脉脉还要疯狂，叫无秘。脉脉职言区有时还是有顾忌的，因为有商业公司在运营，无秘是完全无官方运营的，就是一个畅所欲言的地方。那时候一天被骂得最多的就是：“拜托你们能不能招几个好点的网管？”。</p><p>一线说“招几个好点的网管”这样的话其实很朴实，他们觉得这些搞技术的都是天天吹空调、敲键盘，我们销售还要扫街，还要和美团“白刃战”，体力脑力兼有，然后一宕机还要被商户骂。</p><p>商户去骂也是对的，因为高峰期过了，消费者退单，宕机意味着做出来的饭只能倒掉，他也不知道要送给谁，浪费粮食啊，真的是很惨痛的教训。那时候大家可能认为赔商户钱就解决了，但其实商户心疼的是饭菜，眼睁睁看着好好做出来的几十份、上百份全部倒掉。</p><p>我们还要赔消费者，因为餐没送到。赔消费者是发红包，发红包的意思是说，这次我们宕机，下次你不要抛弃我们。除了商户和消费者，我们还要赔外卖小哥，因为小哥不能白跑。还要照顾销售的情绪，倒不用给销售赔钱，但我们要赔礼道歉。那时候真的很迷茫。</p><p>后来我们经常去一线调研，我也要送外卖的。一开始他们还不太敢说，我说咱们就当兄弟，有点江湖味，他们会给一些反馈。那个时候我是体会到兄弟之情，一线真的很苦，他们说得好听叫销售，但其实就跟扫大街的清洁工没什么区别，甚至更惨，清洁工还知道他是有固定任务，基本不会出问题。但销售要承担风险，万一宕机他要想怎么去赔礼道歉，甚至发生过有的销售快要给商户跪下去道歉。</p><p><strong>极客时间：</strong>宕机的问题这么严重，你当时心里感受应该挺难的吧？</p><p><strong>张雪峰：</strong>对，压力过大，好在没有到睡不着觉的程度，但第二天肯定又会想这些事。</p><p>虽然心里难，但我要能控制住情绪。我的个性还是能控制住情绪，因为确实是自己和团队要扛的责任，团队已经够拼命、够努力了，这个时候你去压团队也没用，我也不可能再去招一批人，招人也救不了火，而且招来的人还得磨合，所以只能是自己去想各种对策去弥补，主要还是靠时间。</p><p>绝顶高手是能控制住情绪，也能很快能消化掉，我是能控制住情绪，但我不能很快消化掉，我需要时间来稀释，以及想一些辅助手段去弥补。那时候，每天晚上为什么都要过零点才走，并不是说我必须最后一个走，就是待在公司去想一些问题。每天坐在座位上，电脑也看不进去，就想这些东西，所以主要还是靠时间吧，把这个不好的情绪稀释掉。</p><p><strong>极客时间：</strong>你觉得自己是一个乐观的人吗？</p><p><strong>张雪峰：</strong>对，我是偏乐观的，因为不乐观没法压制住自己的情绪。如果你是悲观又要压制情绪，一定会崩溃的。虽然我个人是乐观的，但是我对工作或者像安全性、稳定性这种事情，我会做最悲观准备，或者说设定一个较低期望值，这样不至于灾难或者故障来之时手足无措。因为很多时候一个人崩溃，是他根本没想过这件事，或没到他的期望值，才会出现很大问题，感觉难以释放。</p><p>从我的角度，这个期望值大概就是时间，时间可以解决这个问题。但首先你要能控制住情绪。</p><p><strong>极客时间：</strong>后来宕机这个难题是怎么缓解的？</p><p><strong>张雪峰：</strong>硬挺过来的，八月初就缓解了。当时主要两个地方：PHP、RabbitMQ有问题。</p><p>我们当时用了一个开源的消息组件叫RabbitMQ，这是个巨坑，不是说它软件本身不好，而是我们没有能力完全驾驭。另外，我们当时的PHP水平也还算可以了，包括后来我们找新浪的人（新浪用PHP比较多，饿了么也找过新浪PHP大牛尝试破局），他们也搞不定。PHP底层有引擎，当时每周一次的故障，几乎都是这个引擎带来的连锁反应，我们没能彻底搞定，然后大家都去读C的源码，赶鸭子上架，源码是能读懂，但就是搞不定，这东西可不是你加一句两句代码就能彻底解决的。</p><p>后面我们就用了各种work around，你知道work around就是绕过去甚至很ugly的办法，或者做很多补丁。其中一种补丁的学名叫补偿，比如你这个订单没过去，正常就丢了嘛，但丢了很严重，我们就设置个轮巡机制，有个Job，假设本来订单是5秒内响应，现在就是1分钟后发现有个订单漏了，再给你搞一次，用这样的方式（甚至包括人肉），做各种补救措施、补丁工具等。</p><p>物流宕机最可怕，因为我们这个业务是强耦合，不可能松耦合，就是要高内聚。物流宕机当时我们怎么做？人的智慧真的无穷，刚开始大家就用QQ群解决。因为我们类似广域网下的无数个局域网（不像淘宝，淘宝全国任何一地商家都可以服务任何另一地用户），我们可以划片区。他们那个QQ群就是骑手、老板、调度经理等人组成，骑手就送这几个商户。</p><p>比如说物流宕机了，但这时候订单是有的（商户挂掉那就没机会了），老板能做出餐，但是没有办法传递到小哥怎么办？小哥在QQ群里说“我没接到单，你有多少单了？”商户说“我已经接了10个单，你快来。”然后就在QQ里面传单号。那时候微信还不怎么流行，小哥还是喜欢用QQ。但后来宕机问题解决，终于可以下线QQ&nbsp;work around了。</p><p><strong>极客时间：</strong>有点曲线救国的意思。</p><p><strong>张雪峰：</strong>是这个意思，后来我发现物流系统还有个很大的问题，搞物流系统这批同学，就是另一类极客。饿了么刚开始拆分服务，物流拆分得很夸张，直接同步变异步了。我说你们犯了一个错误，叫“为了异步而异步”。</p><p>大家以前的代码（交互）尽量都是一路撸到底嘛，直接写完，这个叫单体。后来搞微服务就要拆开了，结果他们不光拆开，拆开之后，还要用消息通知。我举个不太恰当但大家明白意思就行的例子，比如说算工资，本来可以直接算出来，他们非要先送一个你的职级，再送一个你的社保基数，然后送过来之后还不是马上给你，你要自己去取，我只是通知你有这个数据了。你取过来之后慢慢算，算完之后再推给另一个涉及工资计算的模块，诸如此类。物流同学就是用类似方式，他们真的把异步做到了“极致”（饿了么价值观：极致、激情、创新）。</p><p>但是他们做异步的初衷是什么？是因为物流的量很大。以前宕机是因为量很大，用同步的话服务器撑不住，所以就改异步。他们说至少可以缓和五秒钟，但后来我发现这五秒钟没意义。</p><p>我自己也体验过，比如我点个外卖，提交订单之后习惯性去刷一下，看看商户有没有接单，然后过一分钟看看骑手有没有接单。还要看地图，有时候看到小哥明明经过我这了，怎么先去送另一个人了？可能很多人都有这样的疑问，这个不能怪骑手，也不能怪系统，有各种原因，此处暂时不表。</p><p>大家都会去刷，后来我们发现用户在饿肚子时的心理承受能力就是三到五秒（淘宝、携程没这问题，大家对订单或物流状态变化的容忍度高很多），你是通过异步让这个订单不至于当场爆掉，但你延后五秒之后，堆积起来也很厉害，东西多了之后，最后还是爆掉，你只是让用户前五秒感觉系统没有宕机，但最终结果还是宕机。最后我们异地多活搞出来，几乎就没有大的事情了。</p><p><strong>极客时间：</strong>其实这一次困难挺过去之后，后面再遇到难题，相对来说你就比较从容了。</p><p><strong>张雪峰：</strong>对，那时候我自己心里有障碍，不好过去，至少刚开始不好过去。我和老婆说，估计要在公司旁边旅馆住几个月，直到彻底解决宕机问题。那时候，大家也看到我的焦虑，他们也竭尽全力，但宕机这个事情你不能去硬搞，比如每天都去揪每一个（可能引起宕机风险）模块的每一行代码写得怎么样，这个会出乱子，也极其耗时，ROI 极低。在当时那么紧迫时局下，我只能用另外的方式（如：局部技术改造、局部架构升级等）去缓解。当然了，中长期解决方案还是团队整体架构能力和代码质量提升，这里先不展开了。</p><p>那时候还没到根治的时候，因为当时不要说异地多活了，灾备还没有呢，所以只能去缓解。你如果要根治下猛药，那我那会真的可能实现了CTO里面“O”的价值，但这个就是负面价值了，会导致公司出问题。</p><p>如果那次我引咎辞职，汪渊是可以临时顶上去，但真的，就不说团队可能散架吧，后面凝聚力肯定会有大麻烦，因为汪渊已经去搞产品了，大概率还得再找个CTO过来。</p><p><strong>极客时间：</strong>除了这个对你来说是个坎儿，还有没有其他的艰难时刻？</p><p><strong>张雪峰：</strong>还有一次是在阿里，出过一次事故。当时就是异地多活出了事情，理论上异地多活能切的，但是因为一个开源组件的问题导致出了一个大事故。</p><p>我后来也反省，我是有责任的，因为这个组件当时做过一次交接，本来是在中间件团队，后来交接到另外一个团队。但交接的时候，只做了个口头交接，没有立字为据，没有指定说这个就是你来管，这也是我们当时不够精细的地方。所以最后很难判责，确实判罚谁也不好说。</p><p>而且其实任何故障都会有端倪，没有无缘无故的故障。在那次事故发生前，其实有一些端倪了，只不过比较隐蔽，只有极少数同学发现了，但他们也没意识到持续堆积会造成重大问题。</p><p>后来我们复盘发现，当时出了故障，不做切换反而不会引起大错，最多就牺牲一小部分流量。但是按照SOP（标准作业程序），确实应该切换。恰恰是这个开源组件命中了一个Bug，所以导致切换引起了风暴，细节我就不多讲了，但其实事故发生前就有端倪了。</p><p>出了这个事，我跟建刚商量，我说建刚你做好准备，扣你全年的奖金，我自己降一级，我们跟公司主动一点。跟公司汇报完了，昆阳火比较大，他说你凭什么自己申请降级，你没这个资格要求自己降一级。他意思是说你自己感觉你有担当，但他们（包括CEO、CPO）不认为我这时候这么做是合理的。</p><p>他们灵魂拷问我说，“雪峰，我知道你有担当，你想帮团队扛下，你想保住他们，但是你有没有考虑过，进了阿里之后，如果一线工程师不为一个Bug负责，而且是他已经看到可能有问题，只是没有警觉，那你认为今后组织再扩张10倍，还能不能Run下去”，他说的是有道理的。他认为我是江湖气，当然我是有一点，但其实我也感觉自己没做好，不完全是为了帮团队顶锅。</p><p>后来我就只能出面去跟一线工程师谈。那位一线工程师对我们有汗马功劳，是一位非常优秀的员工，只是因为组织转变、汇报关系转变，包括责权不清晰等等问题，他自己也郁闷，所以就没怎么上心。我跟他说从结果角度你要承担责任，你要承担工程责任，我承担管理责任。</p><p>他认这个理，但是他也感觉比较委屈，最后他跟我吃顿饭，说自己也想通了，我说我对不起你。我们对他有一些小的处罚（不是劝退），但后来他主动提离职，其实相当于我劝退他，我认为这也是对我的一个考验，这也是我另外一道坎儿。</p><p>当时如果这件事被披露到网上，工程师们肯定会非常愤怒，说不应该惩罚一线工程师，这全应该你们Leader来担，但一线工程师在阿里也是要担一定责任的，不会让你降级或离职，但至少会对你的年度绩效有影响，比如绩效不能3.5，不能参加晋升，这种处罚也是有。我们也类似，并不是要让他辞职，基本都是通过绩效反映的。</p><p>我认为HR说的是有道理的，对于一个组织来说，确实应该这么做，特别是对一个越来越大、越来越正规化的组织，是应该这么做，否则没有规矩不成方圆，我再心疼他，他有再大的汗马功劳，也得这么做。跨过这个坎，对我来说也很不容易。</p><p><strong>极客时间：</strong>我可以理解劝退别人这件事对你是一个坎儿吗？</p><p><strong>张雪峰：</strong>不是，我也劝退过不少人，但我感觉劝退我认为几乎没过错、又曾立下汗马功劳的优秀同学，是一个坎儿。</p><p><strong>极客时间：</strong>如果那个时候不是在阿里，而是在没有被收购之前，遇到这样的事情，你会怎么做？</p><p><strong>张雪峰：</strong>没有收购之前的话，可能我就跟Mark说我降级，Leader他们就象征性的处罚，因为这个事情扯不清了已经，没有立字为据。所以责权不清这是我要反思的，也是我的责任。</p><p>所谓协调，相当一部分都是这类问题。表面看，这可能是件小事，组织架构有调整我也知道，但我在规范设计或制定上有漏洞。其实PMO已经帮了我很多，他们制定了很多细节，但我在这件事上确实有责任，而且引起了很严重的故障。但经历过就有收获嘛，你没经历过，后面还是会有类似的情况发生，尽量不要在同一个地方犯两次错。所以，我都是一路犯错过来的，一路被挑战。</p>",
        article_title: "12 | CTO的艰难时刻：差点引咎辞职",
      },
      {
        title: "13 | 大的决策与难做的决策",
        id: 438605,
        content:
          "<p><strong>极客时间：</strong>列举一下你在饿了么做得比较大的决策？</p><p><strong>张雪峰：</strong>第一个大的决策，我冒着风险把兰建刚招进来了。我和他一面之缘，江湖上名声不显，就是因为他做过电信级软件，感觉可以聊一聊。建刚当时话不多，如果滔滔不绝的我肯定要打个问号的。我那时候没得选，之前谈妥的那位跳票了，建刚是跳票那位强力推荐，这个你可以认为是赌博，但有时候决策就是赌博。沟通或许看缘分，但特殊时期的快速决策，必须冒风险。事后都证明了一点，这个冒险赌对了：不止建刚自己绝对靠谱，他的个人能力和魅力，盘活了整个 CI 团队（草创的时候叫框架&amp;工具团队）。赌 Leader，实际就是赌 Team，一本万利（笑）。</p><p>第二个就是2015年7、8月份，饿了么频繁宕机，我最后没有引咎辞职，这是我个人的决策。后来经历多了才体会到：当时自以为引咎辞职很有担当，实际却是逃避，是对公司和团队的不负责任。换句话说，即使要引咎辞职，也得把摊子收拾干净了再走人（当然了，公司不让你收拾干净直接干掉你，也无话可说）。</p><p>接下来就是决定做异地多活，当然这个有皓哥（左耳朵耗子）和建刚的推波助澜。</p><p>最后就是，2017年7月份收购百度外卖，我坚决要把百度外卖的技术团队留住。</p><p><strong>极客时间：</strong>在这些决策里面，你觉得哪一个是比较难做的？</p><!-- [[[read_end]]] --><p><strong>张雪峰：</strong>就是我自己的那件事，没有辞职。因为组织上再怎么艰难，我都可以挺过去。包括识人这方面，其实有时候人和人之间就是有一些量子反应，量子形容到人就是两个人精神对上了，产生化学或生物反应，所以这方面我认为还好。</p><p>从组织层面讲，事后来看，自己在这方面相对比较笃定：我能够凝聚住大家。当然这个也是事后才能这么说，当时如果做的一塌糊涂，我现在就不可能厚颜无耻在这里参与访谈了。现在不管身在哪个公司，不少同学也会一直找我、“骚扰”我，说你什么时候重出江湖？我说你们说的江湖我可能不太会再考虑了，可能先做点有精神快乐的事。</p><p>我认为这样的事做一次可以，再做就有点重复了，现在也有些公司找我，但我认为几乎不可能再经历像饿了么这样跌宕起伏的五年了，人生又能耗费几个五年？我们经历过3家云厂商，都是3家云厂商曾经最大的客户；经历过BAT 3个巨头的入股或注资，或被收购；又经历过一个“土八路”团队从头到尾的“野蛮”生长，所以我也希望分享一些Difference，更多是我认为做得不好的地方，一些教训、失败，或者要去反思的地方。</p><p><strong>极客时间：</strong>总结你自己做过的决定，你觉得你是一个做决策很快的人吗？</p><p><strong>张雪峰：</strong>大部分时间是的，我这边名义上是集体决策制，或者民主集中制，一般我还是比较听大家的意见，要让大家说话，有时候他们都“闷炮”一样，我会鼓励说你告诉我这个到底是不是有问题什么的，但最后拍板基本还是我。大部分时间我是直接拍死，或者直接毙掉。</p><p><strong>极客时间：</strong>你有做过错误的决定吗？</p><p><strong>张雪峰：</strong>从事后结果看，多了去了。致命的错误我也不好判断，因为这个要旁观者来评判，我自己感觉致命的，就是对公司产生重大影响的可能应该没有，但是犯的错肯定不少。</p><p><strong>极客时间：</strong>比如让你说一个你觉得相对比较大的错误。</p><p><strong>张雪峰：</strong>我还是说组织方面吧，我不搞团建，我认为是有错误，就没有让团队之间良好的关系建立起来，后来我发现我不搞团建，导致我后面要付出更大成本，比如我要出面，线下喝咖啡去协调。我应该多搞搞类似裸心会这样的活动。很多时候，组织风险远甚于技术风险，而且是温水煮青蛙式风险，让你不知不觉中出现偏差直至产生重大负面影响。</p><p>前面我回答你不喜欢团建去旅游，纯粹的旅游团建我确实不喜欢，我一直认为纯粹旅游不夹任何私货挺难的，我觉得自己是个障碍，是个灯泡。但不搞团建这个倒不至于致命，只是你要付出更大的代价。</p><p>如果说可能致命的决定的话，就是我想过引咎辞职，可能对我不是致命，但对公司和技术团队可能影响很大（大概率再找一位 CTO），如果发生，我今天也不会在这了。</p><p><strong>极客时间：</strong>在做CTO的时候，什么样的事情会刺激你，会让你觉得特别有成就感？</p><p><strong>张雪峰：</strong>我认为团队有成长，我就有最大成就感。我不能说业务有成长我就有最大成就感，而且我们业务的试错大部分也不成功，这个绝大部分公司类似，当然失败也是有价值的，但是毕竟没有成就感，或者说成就感差一些。</p><p>其实，我也说过，要尽可能让大家做自己喜欢的事，希望大家感觉到在饿了么做技术和在其他公司不同。</p><p>我们也有同学离开之后去了美团，他感觉好像也没什么不同。但说到“没什么不同”，我觉得有一部分是我的责任，我没有给大家创造出这样的机会，其实我们本身跟美团就有不同之处，我们是一个大学生创业团队。</p><p>可能到1800人的时候，职业化的人已经很多了，鱼龙混杂，但在四五百人，就是2015年、2016年的时候，其实大家的“味道”还是不错的，是相对纯粹的。美团你很少看到什么开源的东西，后来硬是捣鼓出几个，我们觉得也不咋地，异地多活更不说了，美团找我们交流过这方面经验教训，他们一直想做、在做但也一直没做成，不过现在有没有做成就不清楚了。</p><p>美团他们强在组织能力，我们是强在有各种突出的Leader，或者我们自己给大家发散，给大家充分的自由度。这是硬币两面，是好也是坏，当然没把公司搞挂也算幸运。但是另一方面，我相信有相当一部分同学，他们会认为在饿了么技术团队是值得的，可以实现职业发展上的提升甚至个人精神上的快乐。</p><p>但这个对公司，我不能说算是对还是错，因为公司花钱养着你们是以业务为第一的，不是让你们玩技术的，所以这里面要平衡，什么叫“玩技术”，什么是通过技术尝试去做一些支持业务的事，很难清晰界定。</p><p><strong>极客时间：</strong>刚聊了管理上的各种决策，还想补充聊一个管理手段的问题，听说技术团队开会迟到，你会重罚？</p><p><strong>张雪峰：</strong>1分钟100块，这个是我定的游戏规则，这不是规矩，规矩变成有点你私人帮派味道，这只是游戏规则。</p><p>其实我也不是一定要罚钱，我跟大家说了，你如果预感自己要迟到，你要提前通知我。你不要跟我解释路上堵车，不管你坐什么交通工具，你自己作为成年人，先用高德地图看一下。</p><p>原来最早是说提前2小时还是3小时，后来我容忍了一点，提前1小时通知我就行。如果离开会不到1小时，结果你突然迟到，那没有任何理由，当然有时候家里有紧急情况，但钱还是要交。5年半以来，一直到我离职，我所有的会都准时参加，从没有迟到过。</p><p><strong>极客时间：</strong>这个规则是一开始去的时候就定下的吗？</p><p><strong>张雪峰：</strong>就是形成例会之后定下来的。我到饿了么，一开始没有开周会。后来我跟汪渊把组织拆完之后开始有周会，应该是2015年还是2016年，记不清了，反正这个规则是所有人统一的。</p><p>这点上我老婆对我意见非常大，她都是掐着时间。我去机场、火车站，哪怕去高铁站，我几乎都是提前1小时，我要预留足够的时间。我老婆就一直说，高铁你提前15分钟就行了，我会担心万一排队或者出什么事，在这点上我比较坚持，宁愿我等别人。</p><p>这可能跟我一直的习惯有关，这个习惯应该在微软养成的，微软这一块非常严肃，外企这一点确实比民营企业强。在微软大家都比较自觉，这个叫Professional，说的好听叫职业素养，但是后来到民企发现不是这么回事，阿里还算是做得不错的。</p><p><strong>极客时间：</strong>我很好奇，你会看一些管理类的书吗？</p><p><strong>张雪峰：</strong>基本不看，因为我的兴趣主要在技术（实际最大兴趣也不是技术，后面会提到）而不是管理，你可以说我自学成才，也可以说我不自量力。但其实也不完全是自学，因为管理实践本身也给了我一定时间，虽然最后的组织扩张规模较大，但也用了近3年时间，从几十人到1800人逐步增长起来。如果说饿了么今天30人，过一个月就变300人，以我当年的能力、阅历、视野，不一定能Hold住，速度太快了。</p><p>我印象中可能翻过这类书，但绝对没完整看过。借用一句话：那都是很好很好的，可我偏偏不喜欢。</p>",
        article_title: "13 | 大的决策与难做的决策",
      },
      {
        title: "14 | 不够坚定：异地多活没有一步到位的遗憾",
        id: 440299,
        content:
          "<p><strong>极客时间：</strong>饿了么异地多活一次成功算是互联网技术圈挺浓墨重彩的一笔，当时你们决定做这件事之前，经历了一个什么样的过程，可以讲讲吗？</p><p><strong>张雪峰：</strong>2017年之前，整个公司所有的业务系统都是部署在北京机房，服务器大概有四千多台，另外还有灾备的机器是在云端，都是虚拟机，大概有三千多台。当时我们峰值的业务订单数量已接近千万级别，但是基本上北京机房（IDC）已无法再扩容了，也就是说没有空余的机架，没有办法添加新的服务器了，必须再建一个新机房，于是我们在上海建了一个新的机房。</p><p>做多活之前，其实这里面有一个失误（严格说不算失误，法不责众，国内几乎皆如此）。当然这个失误我认为大部分团队可能都会犯，就是先搞灾备，不敢一下子上异地多活，没能一步到位。其实当时我也提过“我们是不是一步到位”这个问题，虽然外界感觉饿了么一步到位了，其实我们之前还做过一个灾备，花了不少钱。</p><p><strong>极客时间：</strong>所以一开始先做了灾备，才做了异地多活对吧？</p><p><strong>张雪峰：</strong>对，这是常规路径。中国绝大部分公司都是做了灾备后才想做多活，当然能不能做成另说，有的最终没做成，或不敢做，或者内部阻力很大。</p><p>美团当年就没做成，现在有没有彻底搞定异地多活我不太清楚。其实美团技术底蕴挺强的，因为跟着王兴早期创业的人不少，包括美团还曾做过美团云。只要做过云，哪怕这个云再烂，都储备了一批做基础设施挺强的人，这不是一般公司技术底蕴能比的。但是美团业务太强势，停几个月业务需求，或只能做些无关核心的边角料需求，不可能的。</p><!-- [[[read_end]]] --><p>饿了么好在技术这块拧成一股绳，基本就是我一个决断声音，说难听点也是一言堂，或者我跟团队即使吵得再凶，他们再挑战我，但最后出去都是一个声音。我跟他们说，你们当场挑战我，都没问题，我也无所谓面子，但是既然我们吵架吵出结果，你就不要再回去反悔，不允许反悔，你跟团队反悔、抱怨也是不允许的。</p><p>曾经有一个同学，当场同意，回去又开始磨磨唧唧，在群里乱发，这个不行那个不行。哪怕这件事事后证明错的（谁能在结果出来前证明这是错的？），在当时你就得错到底，证明它是个错也是有价值的。更何况，异地多活最终一次上线成功，之后更是挽救饿了么线上系统无数次。当初有异议的同学，也包括外部知道这事但并不看好饿了么技术团队能搞定的同学都无话可说，虽然最初下这个决断有一定赌博成分。</p><p>唯一一次美团跟我们做过的官方技术交流，就是我们做了异地多活后。大家知道，虽然我们两家商业上竞争白热化，但技术同学间还可以，大家不敌视，交流比较坦诚。</p><p><strong>极客时间：</strong>灾备和多活区别是什么？</p><p><strong>张雪峰：</strong>灾备什么意思？灾备是我有一套一模一样的系统，每次发布的时候两边都发一次，但是生产的流量或者实际的数据不经过灾备系统，只经过主系统，然后通过数据同步模块全部同步过来。但它有很大缺陷和风险，如果做到极致，全是AI控制或机器人控制（包括发布后各种校验、验证等），理论上精度会很高，但实际很多环节还是人来控制。</p><p>我们发布很多，一天上千次，多的时候超过2000次，还有依赖，比如，你发了A 、A.1、A.1.1，这里面只要有一个漏发，可能你生产系统没问题，因为你要用流量灰度切换的，但是那边（指灾备IDC）是没有灰度的，没有流量，今天忘了就忘了，运气好明天又发了这个就OK。但万一来一个事故，流量一下子进来，反而把数据搞乱了，结果不应该发的补贴发了，这也就算了，赔点钱，但是如果数据错了，就大麻烦了。所以它没有经过真实流量考验。很多业务场景，并不是发布系统默认双发或多发就能解决的，还是需要大量人工验证或灰度流量验证才能确保万无一失。</p><p>做灾备，你要解决两个问题，备份和恢复，备份和恢复永远是一对的，不能切开。一般的企业更多在备份上花功夫，这只做了一半，不常态化做恢复演练的团队或公司，已经有太多沉痛教训了。而多活呢，既解决了备份，又解决了恢复问题，因为不需要恢复，数据始终在跑。换句话说就是只要确认是Workable，可工作的，就可以了。</p><p><strong>极客时间：</strong>所以在多活之前做灾备其实没必要是吗？</p><p><strong>张雪峰：</strong>不是，这个要具体问题具体分析的。</p><p>当时我们为什么做灾备？因为直接上异地多活，我是有犹豫的。跟我很熟的人会经常质疑我，在公开的会上也会挑战我（鼓励 Challenge Up 也是饿了么技术文化中自由、开放的一种体现），说“峰哥，你当时不应该做灾备”。但我当时的理由是说，中农工建都做了，美团也做了，滴滴也做了，除了阿里系（淘宝、支付宝算一类），他们确实直接搞了异地多活。那么，除了阿里系，在全中国大家想做交易类系统第二只螃蟹吗（根据事后复盘，严格说这并不算第二只螃蟹，而是第一只网格化环境下的异地多活螃蟹）？我说我不敢冒这个险。</p><p>所以代价就是你做了一个用处不大的东西，但它也有一定用处，万一被勒索软件盯上了，我们还有一份数据备份，但是从现实意义来看就好像没有太大用处。这个其实也很难评价，就比如说你做各种形形色色监控软件，你投入很多资源搞中间件，应该很有作用吧？但只要没出事，大家可能看不出来，业务团队或CEO估计就更难以体会在这方面进行投入的价值了。</p><p>所以，在国内有一个很怪的现象，这确实跟发达国家不一样。在国内，不管什么行业，救火英雄永远得到最大赞扬，幕后英雄却无人问津，导致很多真正牛逼的人、防范于未然的人，反而委屈地走了。我在饿了么，尽可能去扭转这个局面，但也没有完全扭转过来。因为你很难界定什么叫防患于未然、什么是因为基础设施投入而带来的巨大价值或避免的巨大风险。</p><p>在技术决策上，这是我的一次偏差，但后来还是做了异地多活，当然皓哥（左耳朵耗子）和建刚他们让我坚定了决心，我当时不是反对，而是有犹豫。</p><p><strong>极客时间：</strong>你不敢下决心搞多活，具体的原因是什么？纠结或者犹豫的点具体是什么？</p><p><strong>张雪峰：</strong>我吃不准中间件这个团队能不能承担并搞定（除淘宝外）这种规模（日均常态千万级订单）下的交易系统上去实现异地多活。更何况，异地多活几乎只有一次上线机会（最大风险不在上线后稳定性保障，而在多活节点间的数据错乱），不成功则成仁。</p><p>只不过后面我下了决心，我们也不用立什么军令状了，如果干砸，从我开始，核心团队在收拾完烂摊子后（这是15年夏天那次张雪峰快扛不住想引咎辞职的挣扎后，对责任的全新理解）全部下台。</p><p>做异地多活的话，业务要耽误三个月，接不了涉及核心系统的大需求或大变更，业务部门压力非常大，我要去说服。而且上线后如果出问题，那就是致命的问题（数据错乱），因为数据是分开的（多个机房）。我们原来就一份数据，宕机了可以恢复，至少数据不会乱。所以宕机不是最可怕的，就怕你连宕机的机会都没有（之前提到的安全问题类似），数据错乱或丢失，是最可怕的。</p><p>如果按我对自己的要求的话，这件事我认为算是一个失误，说得好听点叫偏差，应该一步到位搞异地多活。因为做灾备也投入很多钱，也有媒体说钱打水漂了。但这是事后诸葛亮，我当时也没这样的勇气，因为确实饿了么那时经不起任何大的波浪。虽然这是给自己找的理由，但我感觉如果要求苛刻一点，确实是一个不正确的决定。</p><p>决定做异地多活之后，当时找了毕玄、阿里云交流，但是后来发现不能直接用阿里那套（所以前面提到，不是国内第二只螃蟹，是真真切切第一只），因为阿里是适配全网应用，淘宝是没有网格概念的，三亚和哈尔滨是没什么本质区别的。但我们不行，我们是一个表面广域网实际却由无数局域网构成的特殊业务网格，而且我们网格之间是有重叠的，还比较复杂。所以后来决定只能自研。</p><p>即使这样，我们第一批上线的异地多活还是把物流落下了，这是后话。</p><p><strong>极客时间：</strong>如果现在来选的话，直接就搞多活了对吗？</p><p><strong>张雪峰：</strong>对，如果我回到当年，我就知道这个团队是能承担这个使命的，肯定直接搞多活，当时我也不是太有底气。如果直接搞多活，也能省好多钱了（指投入到腾讯云做灾备的钱）。</p><p><strong>极客时间：</strong>异地多活当时做完之后，其实效果还是非常好的是吧？</p><p><strong>张雪峰：</strong>是的，这件事我最为团队骄傲的，不是说异地多活后面帮我们挡过很多以前挡不过的灾难，而是我们有惊无险一次切换成功。因为一旦切换不成功就是灾难，打补丁都很难（数据错乱比宕机更可怕），核心团队散架（士气打击）、我直接下台（业务问责）几乎是必然的。</p><p>支付宝有一次严重事故，宁愿宕机不敢切换，就是因为不能出现一分钱差错，这个简直就像银行卡里面出问题一样，一分钱就致命，所以其实当时我不是很有信心能一次搞定，异地多活又是做得跟阿里不一样套路，如果真出事，毕玄、阿里云也帮不上，都是我们自研适配的架构，那一次，真的是大家连续几天，彻夜不眠。</p><p>打个不恰当比方，双十一或618出事，最多是稳定性层面故障，舆论压力大但不至于对公司产生致命影响；但如果异地多活切换出事，舆论初期或许感觉不到，但一旦短时间不能修复（数据错乱，时间越长错乱会以几何级数增长），对公司绝对是致命影响，CTO 中 “O ”的价值倒是体现出来了，超级负面价值，或许应了我之前说过的一句话：你可能连宕机的机会都不会再有了。</p><p><strong>极客时间：</strong>你刚刚也说到第一批上线异地多活，把物流落下了，这个是什么事情？</p><p><strong>张雪峰：</strong>后来我反思这也是我另外一个不够坚定的地方，也不能说我心软吧，就是不坚定。因为当时物流业务老大，也是联合创始人康嘉，还有技术负责人刘昊旻都犹豫了，问我能不能把他们放第二批？物流出问题，他们都得“跳楼”。</p><p>但这样就等于帮物流填了个临时坑，却为整个技术团队挖了个更大的坑。后来我们要兼容第二批（其实第二批就物流，只不过物流涉及系统太多）上异地多活的物流，在这期间，要随时保证物流那边的顺畅，就做了很多开关，然后我们中间件团队、架构师团队还有PMO团队，把杂七杂八这两套东西并线。如果是两套业务系统并线还好一点，只要切个数据库就行了，但这两套异地多活很麻烦，有一堆的风险要考虑。等于我们维持了几个月的“大部分多活+物流非多活”并行，切换时又胆战心惊地担心物流切换出问题，还得切回去继续并行。</p><p>我们原来设想异地多活只能一次性切换，因为我们的业务是强耦合的，不像携程，携程机票、酒店关联度不大的，你要订机票+酒店，做个简单聚合就行了，但我们不一样，饿了么是用户下了单，商户接了单，物流就要送单，上下游其实是强耦合（高内聚）。</p><p>程序员可能会说，现实业务没你说的那么理想，该强耦合就强耦合，其实不是强耦合，另一个词叫高内聚，该内聚的时候你不要去追求什么微服务那些乱七八糟的东西，就应该高内聚，因为就是一个业务形态，业务才是最重要的判断耦合或内聚的依据。谁（调用方/消费方）也离不了谁（被调用方/服务方），你每次调用都涉及到它，干嘛非强扯开来？没太大好处，当然，可以分开发布算一个好处，但也仅是技术上的好处，不是业务或领域上的好处。</p><p>最后送大家一句话，也是我对当年多活改造迁就物流团队的一个教训总结，用英文描述比较贴切：Avoid solving one problem by creating a BIGGER one，希望大家今后都能顺利跨过这类坎，不再重蹈我当年覆辙。</p><p><strong>极客时间：</strong>你刚刚说美团也想做异地多活是吗？相当于它也是走了常规路线，先做了灾备，再想做多活。</p><p><strong>张雪峰：</strong>是，美团做了异地灾备。美团现在没有CTO了，在王慧文之前，CTO叫罗道锋，他原来是大众点评的CTO，后来美团和大众点评合并之后，他就做了美大的CTO。</p><p>之前提过，我们团队和道锋团队间做过技术交流，美团一直想做异地多活，但规划了几年一直没做成。后来我问了那边相关同学为什么，他们说道锋虽然是CTO，但主要管公共技术，也就是搞搞基础设施、大数据之类，业务那边的技术团队非常独立，业务对自己技术团队影响更大。</p><p>美团业务的强势度远远超过饿了么，技术要影响业务团队需求比较难，因为如果要做改造，就要有很多技术资源（时间、人员、保障等）投入，一定会影响业务交付，业务不干的。他们业务团队的技术负责人直接汇报给业务老大。</p><p>但饿了么不是这样，我进去之后，先是所有的技术都在我这边，但后来发现这样有问题，这个模式不太好，我就跟汪渊商量，把业务的技术跟业务的产品都实线汇报给他，但业务的技术虚线汇报给我。虽然是虚线，但因为汪渊和团队的信任，这个虚线还是比较强的。所以倒不是说罗道锋他搞不定，是业务根本不鸟你，我们这边就比他要好一点，我几乎能完全掌控，即使业务技术团队只是虚线。</p>",
        article_title: "14 | 不够坚定：异地多活没有一步到位的遗憾",
      },
      {
        title: "15 | 兴趣与个人认知",
        id: 440304,
        content:
          "<p><strong>极客时间：</strong>听说你特别喜欢数学。</p><p><strong>张雪峰：</strong>我最爱的除了家人，就是数学、历史这两块，数学是我从小的兴趣，所以花的时间多一点，我主要在B站上数学系的专业网课。</p><p>也有人问我是不是现在闲了才看，我说不是的，我一直在看。以前只是周末有时间，要系统学习数学还是有点挑战，因为周末后再上5天班，基本就接不上了，所以那时候看科普的多一些、专业体系化的少一些，坚持了很多年。虽然很多人也不相信，但这个确实是我从小的爱好。</p><p>还有一个催化剂就是，我刚上高一就拿了当年全国高中数学联赛省一（上海），但离那年（上海）省队有点距离，遗憾没能进冬令营。当时还自我安慰，如果在其他奥数一般的省，大概率可以进冬令营（笑）。但即使这样，也是我们学校那年重磅新闻（张雪峰高中是当年浦东唯一市重点，但不以数学见长）。当然了，我师兄更强，他高一省一、高二冬令营、高三国家队且是那年 IMO （国际数学奥林匹克竞赛）满分金牌。师兄是我当年最好榜样，也激励我对数学的持续热爱，直至今天。</p><p><strong>极客时间：</strong>数学能给你带来什么？</p><p><strong>张雪峰：</strong>数学带给我精神上持久享受，自然美感觉很棒。很多同学都有能带给他持续精神快乐的事物，对我来说，主要就是数学。或者更精确一点，是基础数学（纯数学）。</p><!-- [[[read_end]]] --><p><strong>极客时间：</strong>是享受而不是那些枯燥的运算。</p><p><strong>张雪峰：</strong>对，而且数学是自洽的，只要在这条路上，跑出来就是对的。数学和物理不一样，物理很多是人想出来的理论。杨振宁那套理论，已经是目前为止理论物理的天花板，几十年都看不到激动人心的突破，你看今年诺贝尔物理学奖，能知道个大概。物理更多是一个没法自洽的学科，它需要靠实验、工艺，靠现有的工业技术去证明，但数学几乎是完全自洽的。</p><p><strong>极客时间：</strong>在工作之后还能持续钻研数学的人，好像很少，你会考虑到数学在工作中能不能用得着这样的问题吗？</p><p><strong>张雪峰：</strong>我就是Enjoy这个学习过程而已，其实我刚从阿里离开的时候，很多投资人找我，问我有没有兴趣创业或投资，我说我的兴趣主要在数学、历史。但对企业来说，企业更Enjoy结果，数学尤其基础数学，这个东西不太能直接产生商业价值。</p><p><strong>极客时间：</strong>在平时的工作中，你会用数学的思维跟大家去讲道理吗？</p><p><strong>张雪峰：</strong>会，而且经常用，或者更多是用逻辑的思维。大家不要被一些所谓的计算机原则（典型如：低耦合、单一原则等）迷惑，数学原则才是宇宙终极原则。</p><p>就像我前面讲过的，什么时候该内聚、什么时候该解耦，你不要被表面迷惑。举个例子：当大于等于两个调用方（消费者），都会去调用一段逻辑的时候，就需要考虑抽象为 Function/Service/API，就这么简单。我经常会跟大家这样类比，不要把简单的业务问题人为地引向技术复杂化。如果是创新或试错业务，更要 Speed 第一，活下来后，才有时间谈 Architecture，最后才有机会上 Scale。之前提过的物流团队极致异步架构、部分团队微服务过度等，都是教训。还有，以上观点可能并不适用真正技术驱动业务的公司或业务，比如：Google、IaaS/PaaS、无人车等。</p><p>数学是解释抽象最好的方式（物理也高度依赖抽象，但还需实验与观察），有人说为什么要学数学？买菜只要学小学数学不就行了？那不叫数学，那叫算术。开始有未知数这个概念才算摸到数学一点边。解方程有未知数，这就是一个抽象，然后再往上还有更高级的抽象，比如大学的抽象代数，可以把很多物理现象抽象出来。</p><p>我还想说一点，跟抽象对应的还有一个词叫“想象”，但想象这个东西很多时候是天赋，不是说你想要想象就能有，想象是可遇不可求的，抽象是你需要去锻炼的能力，这是可以锻炼出来的，不是靠天赋。举个例子，你可以感觉一下：线性代数教会了我们如何抽象看待所有线性方程组，多次螺旋上升的抽象过程后，天下再无不可解线性方程组；但同样是数学，初等（平面/立体）几何中各种精巧的辅助线（有些可以靠刷题或训练，但大部分难题还是靠想象或天赋），却是很多同学数学学习过程中的绝对梦魇。要么一分钟解出，要么只能看答案后叹为观止。</p><p><strong>极客时间：</strong>你刚刚说了两个思维，数学思维和逻辑思维，它们有什么区别吗？</p><p><strong>张雪峰：</strong>都属于“形式科学”，另两类是大家更熟悉的自然科学、社会科学。要说数学思维比逻辑思维更深一层的，除了抽象、缜密，还要有广阔想象、大胆创新。创新指创立全新数学工具甚至数学分支，用于解决当前体系无法解决的难题（详见“哥德尔不完备定理”）。如果只让我推荐一本关于数学想象的科普书，那一定是《思考的乐趣》。</p><p><strong>极客时间：</strong>之前我们有聊到产研团队按领域划分的事情，饿了么之前的团队划分比较粗糙嘛，就是分C端和B端，C端就是APP和网站，B端就包括商户服务还有物流，你进去之后第一件事是做拆分，这里面其实就要用到逻辑思维。</p><p><strong>张雪峰：</strong>饿了么原来就是个单体，所有的业务逻辑就是一个东西、一个源代码库，C端、B端、D端（Delivery，物流）全在一起，牵一发动全身，也就是说你在部署的时候，每个服务器都要布一坨这个东西，一是影响性能，二是发布很麻烦。只要有同学发布，即使跟你无关，你也要发布一遍，所有的机器都要扫一遍。我们做技术的就要拆解，肯定要至少再分一级。</p><p>拆分与否，我们当时就遵循一个原则：只要一个人有变化，一堆人要随着你动，或者叫“牵一发动大部分”的时候，这一定是有问题的。其实这也是逻辑原则或数学原则。所以我跟他们说，不要扯什么领域驱动、微服务了，就用这个原则。这个原则确实最容易讲清楚，但实践的时候要多次试、反复试。</p><p>单体是一个极端，微服务或单一原则是另一个极端。饿了么从来没有真正提过微服务，从来没有过，我不去用这个概念。我们就是从业务的合理性去拆分。对领域驱动呢，我当时也是持观望态度，不能说保留态度，我觉得领域驱动是一个模棱两可的东西（顶尖DDD牛人或在大规模超复杂体系下成功实践过的同仁勿喷，毕竟让绝大部分技术同学吃透DDD，无论ROI还是效率都很低），就跟架构一样，所以我希望回归朴素，就是从逻辑的角度，或者数学角度，给大家解释。所以当时我们也不做领域，我把以前的经验带过来，开始有一些中台的萌芽，比如说把交易系统、营销系统拆出来，把用户系统拆出来等等。</p><p>从逻辑上讲，当你十次里面有八次“牵一发要动大部分”的时候，你就没必要去拆，你就让它耦合（内聚）在那，哪怕最后合出来一个巨大的东西，那证明这个业务就是这样的，没办法。你要么抱怨很倒霉进入这个业务领域，要么你就自己想办法克服。当然还有一个办法就是你通过技术去改革这个业务，那意味着这个业务甚至整个行业的游戏规则都要变，在短时间内几乎不可能。之前也讲过，对绝大部分公司的技术团队来说，妄图通过技术驱动业务，还是省省吧。</p><p><strong>极客时间：</strong>刚说到中台的萌芽，饿了么建立中台大概是一个什么样节奏呢？</p><p><strong>张雪峰：</strong>最早是整合交易系统，后来整合营销系统，搞营销系统就附带着把会员系统也搞在一起。其实说到底，也不叫营销，叫权益。所谓的发券、会员体系，其实归结为一点就叫权益。这一点国内有两家做得非常好，一个是携程，一个是淘宝的 88 VIP。</p><p>我们搞中台不是从0到1，应该说是从1到10，因为我们本来就有这部分（交易系统等），只是散在各个团队，后来就是交给石佳宁他们团队去整合，整合的过程当然也比较痛苦。</p><p>架构调整的时候，我们把C端、B端各个跟交易有关的团队交给中台去整合，这就涉及人员调配，有些Leader就不愿意交人嘛，就是“你动我的模块我可以忍受，你动我人坚决不干，我转模块不转人”。这种情况在阿里是严禁的，阿里一定是转模块必须转人，阿里做得比较到位，这就是成熟组织的表现。</p><p>我们以前这个团队，即使我强压也不行，大家就拒不交人，他说这个员工你让他过去，他要离职的。到后来磨了几次之后，大家也慢慢立下规矩：如果交出一个完整模块，必须人跟着模块走，去另一个团队，如果不愿意就离职。</p><p>所以一开始石佳宁其实拿到的是全部模块和光杆团队，相当于活儿给他，但要他自己找人，虽然我给了他很多权限。所以，石佳宁是很不容易的，他几乎只靠自己原来的班底，然后还要去熟悉C端、B端、D端（Delivery，物流）业务，把代码拿过来之后再拼起来。</p><p>他们从最难的交易系统开始做，搞定了之后，发现交易系统还不是最难的，最难的是营销系统。营销是千变万化的，运营介入最多的就是营销，因为营销有很多玩法，搞各种优惠活动。营销不好抽象，非常考验程序员对业务的抽象能力。</p><p>运营他们不管的，提了一堆需求，说给我实现这个、实现那个，技术人员就要去抽象。最后我们的营销系统变态到什么程度？那个界面刚开始做出来，只有运营看得懂，一堆Check Box，而且还不能点错（有些可以点错，后台有告警，但太多告警，人也会麻痹）。我们曾经因为运营点错按钮出过事故，最后责任归到运营，但人家也很委屈，吐槽技术做得太烂，说你们这个产品简直不能忍受，搞这么复杂，勾错就出问题。但技术人员就是一根筋，他说我已经全给你抽象出来了，所有的功能你只要点勾就能实现。所以营销系统是很难做的。</p><p><strong>极客时间：</strong>可以谈谈你对中台的理解吗？</p><p><strong>张雪峰：</strong>中台就是业务（商业）驱动的。我以大家更能理解的阿里来说，阿里后来做中台，其实真正的核心动力还是商业驱动。比如我在优酷注册了一个会员有一个优惠券，为什么不能在双十一的时候去淘宝买货？我在淘宝有积分，为什么不能在阿里其他平台用？所以淘宝得到一个终极结果就是 88 VIP，就是会员体系，这才是中台的原动力，还是要从商业价值来看。把这些权益放在一起之后，用户就有更大几率留在你的平台。</p><p>饿了么后来也搞会员系统，我们早期就是发营销券（外卖券），做营销券打通，开始还没有把它抽象成权益打通，后来有了会员之后，才想到要做权益，因为围绕会员的、跟消费有关的都叫权益，这个就更有价值了，包括把混合券这些东西都包容进去。</p><p>所以中台不是个业务，但它有业务的味道。</p><p><strong>极客时间：</strong>接下来我们聊几个大的话题，你的人生理想或者说人生追求是什么？</p><p><strong>张雪峰：</strong>除了家人，我还真没想过这个问题，如果抽象来说就是人和事两方面。</p><p>我先从人这个层面说，我希望我把一些不同的人，培养到超越我期望至少超越我的一个程度。就像我之前说，做CTO的最大成就感来自团队的成长。超出期望就意味着，他不是我原来可以掌控的，我会在这过程中和同学一起成长，对底下的同学来说，他感觉是我把他培养出来，但同时我也学习到很多。所谓相辅相成、相互成就，大概就是这个意思。</p><p>我有这样的理想，后来跟很多人也说过，我非常不想做CTO，我就想去挖掘高潜的人，我感觉我可能更擅长做这个角色。当然我现在在做这种“冒牌中介”，也是希望去把一个合适的人匹配到合适的岗位，其实做这种红娘是很有成就感的，不亚于去介绍两个同学或两个陌生人，最后成为夫妻这种成就感。</p><p>从事这个层面，我只能说是追求美，是精神上的一种美，不是视觉或感官上的美。什么叫精神上的美，或者精神上的成就感呢？对我来说排第一位的就是数学，可能直到离开这个世界，我也会一直追求下去，既是兴趣，也是挑战。</p><p><strong>极客时间：</strong>你有比较喜欢的行业吗？</p><p><strong>张雪峰：</strong>我对一个行业很有热情，我过去大概20多年的经历，有一半时间是在这个行业里，就是教育。</p><p>育人是一件很有意思也很有意义的事，有时候我自己看一些科普文章，很多很深的数学问题，有人就能把它用很简单的方式讲出来，让别人豁然开朗，我觉得很厉害。可能我对这样的事比较有热情，而技术只是我第二或第三兴趣，有时也是没办法，或者说你得先有饭吃，必须养家糊口。</p><p><strong>极客时间：</strong>你有偶像吗？</p><p><strong>张雪峰：</strong>历史上我有特别佩服的两个人，一个是商鞅，一个是李靖。但他们算不上偶像，我好像过了需要偶像的年纪，如果非说一个，应该是我第一家公司的老板。他20多年前的理念，甚至到今天依然前沿、足够前瞻，20多年前，他就已经在做标准化的事，是通过公司的产品尝试标准化，不止是停留在标准化理论上。</p><p>我的感受相当于什么呢？当时进这家公司，从编程来说，我算是小学毕业了，但是突然间一个中科院院士在那边给我辅导，就是这种感觉，而且他又非常平易近人，可以让我有学习的机会。一般的中科院院士即使再虚怀若谷，他也不可能跟一个小学毕业生去谈科学的。我至今还是一直认为，他对我的技术或技术观方面影响最大，但商业方面没有，因为他商业做得不太成功。</p><p><strong>极客时间：</strong>你有没有自己坚持的人生信条或者是座右铭？</p><p><strong>张雪峰：</strong>我总结六个字：活到老，学到老，再加上对精神美的追求吧。我希望一直到我生命结束，我都尝试去影响其他人对“活到老，学到老”的追求。从我的家人开始，这一年我已经引起我太太对历史的兴趣，开始买书看，还有我女儿，她以前也从来不看，现在算是有一些起步。</p><p>当然我能影响更多人更好，但是影响更多人也比较难，我也不想去做博客、去B站开个号，甚至写书等等，我不太想做这样的事。可能我觉得也很难影响到别人，一本书里面的内容，很难放之四海皆准，就像我们今天的访谈，即使把这些观点尽可能的普适化，让别人真正理解也是很难的。</p><p>我更想个性化地去做一些力所能及的事，去挖掘出一些不同的东西。“活到老，学到老”的另一个说法就是，持续去学一些不同的东西（Difference）。</p>",
        article_title: "15 | 兴趣与个人认知",
      },
    ],
  },
  {
    chapterTitle: "结课问卷",
    children: [
      {
        title: "有奖征集！你填写毕业问卷了吗？",
        id: 445815,
        content:
          '<p>你好，我是《超级访谈：对话张雪峰》的专栏编辑利莹。</p><p>截至今天，本专栏结课已经一周了，十分感谢你的支持。</p><p>经过这些天的学习，相信你对这个专栏分享的故事也有自己的看法，欢迎你提出建议或意见。为了能更好地了解你的想法，以便我们后面可以对课程进行优化，在此希望能得到更多的反馈，听到更多的声音。</p><p>所以我特别邀请你填写这份毕业问卷，有奖征集你的想法，欢迎你畅所欲言！</p><p><a href="https://jinshuju.net/f/tnWt1A"><img src="https://static001.geekbang.org/resource/image/d3/yy/d3c3d9f7b60f151e5637e0f850be7fyy.jpg?wh=1142x801" alt=""></a></p><!-- [[[read_end]]] -->',
        article_title: "有奖征集！你填写毕业问卷了吗？",
      },
    ],
  },
];
